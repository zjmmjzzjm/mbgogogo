(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=v(n(28)),u=v(n(22)),l=v(n(27)),i=v(n(9)),o=v(n(2)),r=v(n(7)),s=v(n(5)),c=v(n(6)),d=v(n(1)),f=n(14),m=v(n(72)),p=v(n(16)),b=n(18),E=n(793);function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleBack=function(){p.default.replace((0,b.parseRoute)("/profile"))},n.handleThink=function(){p.default.replace((0,b.parseRoute)("/"))},n.handleSubmit=function(){(0,E.onSubmit)(n.props)},n.renderTitle=function(){var e=n.props.intlr;return d.default.createElement("div",{className:"pwd-title title-tac"},d.default.createElement("button",{"aria-label":"Back",className:"ant-btn-back",onClick:n.handleBack},d.default.createElement(l.default,{type:"left"})),e.messages["USER.DELETE"])},n}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.account;(void 0===e?{}:e).isLogin||p.default.push((0,b.parseRoute)("/login"))}},{key:"render",value:function(){var e=this.props,t=e.intlr,n=e.account,l=void 0===n?{}:n;return d.default.createElement(a.default,{visible:!0,title:this.renderTitle(),width:"100%",className:"small-modal",maskClosable:!1,closable:!1,keyboard:!1,footer:null},d.default.createElement("p",{style:{margin:"14px 0"}},t.messages["USER.DELETE.ACCOUNT"],l.data&&l.data.isBindEmail?l.data.email:l.data.username,t.messages["USER.DELETE.TEXT"]),d.default.createElement(u.default,{type:"primary",className:"login-form-button",style:{width:"100%",margin:"14px 0"},onClick:this.handleThink},t.messages["USER.DELETE.THINK"]),d.default.createElement(u.default,{className:"login-form-button",style:{width:"100%",marginBottom:"40px"},onClick:this.handleSubmit},t.messages["BUTTON.OK.TEXT"]))}}]),t}(d.default.Component);t.default=(0,f.connect)(function(e){return{intlr:e.intlr,account:e.account}},function(e){return{deleteAccount:function(t,n,a){return e(m.default.deleteAccount(t,n,a))},logout:function(t,n){return e(m.default.strategy.logout(t,n))}}})(h)},792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitFailCb=t.submitSuccessCb=void 0;var a=r(n(38)),u=r(n(12)),l=r(n(16)),i=r(n(19)),o=n(18);function r(e){return e&&e.__esModule?e:{default:e}}t.submitSuccessCb=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.logout,n=e.intlr;if(!u.default.isFunction(t))return!1;t(function(){l.default.replace((0,o.parseRoute)("/"))},function(){a.default.error(n.messages["USER.LOGOUT.FAIL.MSG"])})},t.submitFailCb=function(e,t){var n=e.intlr,u=t.code;99999!==u?(10111===u&&i.default.emit("AuthLogin"),a.default.error(n.messages["USER.DELETE.FAIL.MSG"])):a.default.error(n.messages["MSG.99999"])}},793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onSubmit=void 0;var a,u=n(12),l=(a=u)&&a.__esModule?a:{default:a},i=n(792);t.onSubmit=function(e){var t=e.account,n=void 0===t?{}:t,a=e.deleteAccount,u=n.oldpassword;if(u||(u="123456"),!l.default.isFunction(a))return!1;a(u,function(){return(0,i.submitSuccessCb)(e)},function(t){return(0,i.submitFailCb)(e,t)})}}}]);