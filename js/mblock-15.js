(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{809:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=N(a(28)),n=N(a(22)),r=N(a(80)),s=N(a(77)),i=N(a(9)),u=N(a(2)),d=N(a(7)),m=N(a(5)),o=N(a(6)),c=N(a(12)),f=N(a(1)),p=a(14),h=N(a(16)),E=N(a(56)),g=N(a(19));function N(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,u.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));M.call(a);var l=e.project,n=e.match.params;return a.state={name:E.default.getNewProjectName(l.name||n.name,l.projects),errMsg:""},a}return(0,o.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.intlr,t=this.state,a=""===t.errMsg?{marginTop:"10px"}:{marginTop:"10px",borderColor:"#f5222d"};return f.default.createElement(l.default,{visible:!0,title:this.renderTitle(),width:"100%",className:"small-modal",maskClosable:!1,keyboard:!1,closable:!1,onCancel:this.handleCancel,footer:null},f.default.createElement(r.default,null,f.default.createElement(r.default.Item,null,f.default.createElement("label",{style:{paddingLeft:"2px"}},e.messages["MENU.FILE.SAVE.NAME"]),f.default.createElement(s.default,{style:a,value:t.name,type:"text",placeholder:e.messages["MENU.FILE.SAVE.NAME"],onChange:this.handleChange}),f.default.createElement("div",{className:"ant-form-explain",style:{color:"#f5222d"}},t.errMsg)),f.default.createElement(r.default.Item,{style:{marginTop:"40px"}},f.default.createElement(n.default,{type:"primary",htmlType:"submit",className:"login-form-button",style:{width:"100%",marginTop:"10px"},onClick:this.handleSubmit},e.messages["BUTTON.OK.TEXT"]),f.default.createElement(n.default,{style:{width:"100%",marginTop:"10px"},onClick:this.handleCancel},e.messages["BUTTON.CANCEL.TEXT"]))))}}]),t}(f.default.Component),M=function(){var e=this;this.handleCancel=function(){h.default.replace("/")},this.handleSubmit=function(){var t=e.state.name;e.validNewName(e.state.name)&&(g.default.emit("SaveProject",!0,"yun",{name:t}),h.default.replace("/"))},this.renderTitle=function(){var t=e.props.intlr;return"tomy"===e.props.match.params.type?f.default.createElement("div",{className:"pwd-title title-tac"},t.messages["MENU.FILE.SAVEMY"]):f.default.createElement("div",{className:"pwd-title title-tac"},t.messages["MENU.FILE.SAVEAS"])},this.handleChange=function(t){var a=c.default.trim(t.target.value);e.validNewName(a,!0)},this.validNewName=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=e.props.intlr;return a||!c.default.isNull(t)&&""!==t?t.length>48&&t.length>=e.state.name.length?(e.setState({errMsg:l.messages["FORM.FIELD.NEWNAME.MAX.MSG"]}),!1):(e.setState({name:t,errMsg:""}),!0):(e.setState({errMsg:l.messages["FORM.FIELD.NEWNAME.REQUIRE.MSG"]}),!1)}};t.default=(0,p.connect)(function(e){return{intlr:e.intlr,project:e.project}})(v)}}]);