(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{781:function(e,t,a){e.exports=a.p+"static/imgs/color2.svg"},782:function(e,t,a){e.exports=a.p+"static/imgs/color1.svg"},783:function(e,t,a){e.exports=a.p+"static/imgs/gyro.svg"},784:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calibrateGyro=t.calibrateColor=t.getReadyStatus=t.firmwareInfo=void 0;var n=c(a(23)),r=c(a(25)),l=c(a(12)),s=c(a(63));function c(e){return e&&e.__esModule?e:{default:e}}var u,o=null,i=function(e){try{if(o||(o=s.default.instance.mscratch.extensions.getExports("codey")),l.default.has(o,e))return o[e]}catch(e){return{getFirmwareInfo:function(){},getReadyStatus:function(){}}}};t.firmwareInfo=(u=(0,r.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(){return u.apply(this,arguments)}),t.getReadyStatus=function(){return i("api").getReadyStatus()},t.calibrateColor=function(){return i("engine").correctColor()},t.calibrateGyro=function(){return i("engine").correctGyro()}},813:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(a(28)),r=b(a(22)),l=b(a(23)),s=b(a(38)),c=b(a(25)),u=b(a(9)),o=b(a(2)),i=b(a(7)),f=b(a(5)),d=b(a(6)),p=b(a(1)),m=a(14),E=b(a(16)),h=b(a(15)),g=a(784),C=b(a(783)),v=b(a(782)),y=b(a(781));function b(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(e){(0,o.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));a.state={loading:!1};var n=a.props.match.params;return a.type=n.type,a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"handleCancel",value:function(){E.default.replace("/")}},{key:"handleCalibrate",value:function(){var e=(0,c.default)(l.default.mark(function e(){var t,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.intlr,a=null,this.setState({loading:!0}),e.prev=3,e.t0=this.type,e.next=e.t0===h.default.SENSOR_CALIBRATE_TYPE.COLOR?7:e.t0===h.default.SENSOR_CALIBRATE_TYPE.GYRO?11:15;break;case 7:return e.next=9,(0,g.calibrateColor)();case 9:return a=e.sent,e.abrupt("break",16);case 11:return e.next=13,(0,g.calibrateGyro)();case 13:return a=e.sent,e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(3);case 21:null!==a&&(this.setState({loading:!1}),a.err?s.default.warn(t.messages["CALIBRATE.MSG.FAIL"]):s.default.success(t.messages["CALIBRATE.MSG.SUCCESS"]));case 22:case"end":return e.stop()}},e,this,[[3,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"button",value:function(){var e=this,t=this.props.intlr,a=this.state.loading;return p.default.createElement("p",{style:{textAlign:"center",marginTop:"1rem"}},p.default.createElement(r.default,{type:"primary",loading:a,onClick:function(){return e.handleCalibrate()}},t.messages[a?"CALIBRATE.BUTTON.TEXT.LOADING":"CALIBRATE.BUTTON.TEXT"]))}},{key:"colorContent",value:function(){var e=this.props.intlr.messages.CALIBRATE_COLOR_DESCRIPTION;return p.default.createElement("section",{className:"calibrate-section"},p.default.createElement("div",{className:"flex-row"},p.default.createElement("div",{className:"col auto-width-col color-cell"},p.default.createElement("p",{className:"desc"},"1. ",e[0]),p.default.createElement("p",{className:"img"},p.default.createElement("img",{src:v.default}))),p.default.createElement("div",{className:"col auto-width-col color-cell"},p.default.createElement("p",{className:"desc"},"2. ",e[1]),p.default.createElement("p",{className:"img"},p.default.createElement("img",{src:y.default})),p.default.createElement("p",{className:"warn"},e[3]))),p.default.createElement("p",null,"3. ",e[2]),this.button())}},{key:"gyroContent",value:function(){var e=this.props.intlr.messages.CALIBRATE_GYRO_DESCRIPTION;return p.default.createElement("section",{className:"calibrate-section"},p.default.createElement("p",null,"1. ",e[0]),p.default.createElement("img",{src:C.default}),p.default.createElement("p",null,"2. ",e[1]),this.button())}},{key:"content",value:function(){return this.type===h.default.SENSOR_CALIBRATE_TYPE.COLOR?this.colorContent():this.gyroContent()}},{key:"render",value:function(){var e=this.props.intlr,t=this.state.loading;return p.default.createElement(n.default,{visible:!0,width:this.type===h.default.SENSOR_CALIBRATE_TYPE.GYRO?360:480,title:e.messages["CALIBRATE."+this.type.toUpperCase()+".TITLE"],closable:!t,maskClosable:!t,keyboard:!t,footer:null,onCancel:this.handleCancel},this.content())}}]),t}(p.default.Component);t.default=(0,m.connect)(function(e){return{intlr:e.intlr,mscratch:e.mscratch}})(T)}}]);