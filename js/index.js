!function(e){function t(t){for(var n,r,o=t[0],i=t[1],u=t[2],s=0,l=[];s<o.length;s++)r=o[s],k[r]&&l.push(k[r][0]),k[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(D&&D(t);l.length;)l.shift()();return R.push.apply(R,u||[]),a()}function a(){for(var e,t=0;t<R.length;t++){for(var a=R[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==k[o]&&(n=!1)}n&&(R.splice(t--,1),e=L(L.s=a[0]))}return e}var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!g[e]||!y[e])return;for(var a in y[e]=!1,t)Object.prototype.hasOwnProperty.call(t,a)&&(m[a]=t[a]);0==--v&&0===T&&C()}(e,t),n&&n(e,t)};var r,o=!0,i="a0af6847fef6db7f44c2",u=1e4,s={},l=[],c=[];var d=[],f="idle";function p(e){f=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var h,m,E,v=0,T=0,S={},y={},g={};function N(e){return+e+""===e?+e:e}function _(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=u,t=t||1e4,new Promise(function(e,a){if("undefined"==typeof XMLHttpRequest)return a(new Error("No browser support"));try{var n=new XMLHttpRequest,r=L.p+""+i+".hot-update.json";n.open("GET",r,!0),n.timeout=t,n.send(null)}catch(e){return a(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)a(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)a(new Error("Manifest request to "+r+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void a(e)}e(t)}}})).then(function(e){if(!e)return p("idle"),null;y={},S={},g=e.c,E=e.h,p("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});for(var a in m={},k)O(a);return"prepare"===f&&0===T&&0===v&&C(),t});var t}function O(e){g[e]?(y[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.src=L.p+""+e+"."+i+".hot-update.js",t.appendChild(a)}(e)):S[e]=!0}function C(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then(function(){return I(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var a in m)Object.prototype.hasOwnProperty.call(m,a)&&t.push(N(a));e.resolve(t)}}function I(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var a,n,r,o,u;function c(e){for(var t=[e],a={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var r=n.pop(),i=r.id,u=r.chain;if((o=A[i])&&!o.hot._selfAccepted){if(o.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:i};if(o.hot._main)return{type:"unaccepted",chain:u,moduleId:i};for(var s=0;s<o.parents.length;s++){var l=o.parents[s],c=A[l];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:u.concat([l]),moduleId:i,parentId:l};-1===t.indexOf(l)&&(c.hot._acceptedDependencies[i]?(a[l]||(a[l]=[]),d(a[l],[i])):(delete a[l],t.push(l),n.push({chain:u.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:a}}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var h={},v=[],T={},S=function(){};for(var y in m)if(Object.prototype.hasOwnProperty.call(m,y)){var _;u=N(y);var O=!1,C=!1,I=!1,R="";switch((_=m[y]?c(u):{type:"disposed",moduleId:y}).chain&&(R="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(O=new Error("Aborted because of self decline: "+_.moduleId+R));break;case"declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+R));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(_),t.ignoreUnaccepted||(O=new Error("Aborted because "+u+" is not accepted"+R));break;case"accepted":t.onAccepted&&t.onAccepted(_),C=!0;break;case"disposed":t.onDisposed&&t.onDisposed(_),I=!0;break;default:throw new Error("Unexception type "+_.type)}if(O)return p("abort"),Promise.reject(O);if(C)for(u in T[u]=m[u],d(v,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,u)&&(h[u]||(h[u]=[]),d(h[u],_.outdatedDependencies[u]));I&&(d(v,[_.moduleId]),T[u]=S)}var w,P=[];for(n=0;n<v.length;n++)u=v[n],A[u]&&A[u].hot._selfAccepted&&P.push({module:u,errorHandler:A[u].hot._selfAccepted});p("dispose"),Object.keys(g).forEach(function(e){!1===g[e]&&function(e){delete k[e]}(e)});for(var b,D,M=v.slice();M.length>0;)if(u=M.pop(),o=A[u]){var U={},x=o.hot._disposeHandlers;for(r=0;r<x.length;r++)(a=x[r])(U);for(s[u]=U,o.hot.active=!1,delete A[u],delete h[u],r=0;r<o.children.length;r++){var j=A[o.children[r]];j&&((w=j.parents.indexOf(u))>=0&&j.parents.splice(w,1))}}for(u in h)if(Object.prototype.hasOwnProperty.call(h,u)&&(o=A[u]))for(D=h[u],r=0;r<D.length;r++)b=D[r],(w=o.children.indexOf(b))>=0&&o.children.splice(w,1);for(u in p("apply"),i=E,T)Object.prototype.hasOwnProperty.call(T,u)&&(e[u]=T[u]);var F=null;for(u in h)if(Object.prototype.hasOwnProperty.call(h,u)&&(o=A[u])){D=h[u];var G=[];for(n=0;n<D.length;n++)if(b=D[n],a=o.hot._acceptedDependencies[b]){if(-1!==G.indexOf(a))continue;G.push(a)}for(n=0;n<G.length;n++){a=G[n];try{a(D)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:D[n],error:e}),t.ignoreErrored||F||(F=e)}}}for(n=0;n<P.length;n++){var B=P[n];u=B.module,l=[u];try{L(u)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(a){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:a,originalError:e}),t.ignoreErrored||F||(F=a),F||(F=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||F||(F=e)}}return F?(p("fail"),Promise.reject(F)):(p("idle"),new Promise(function(e){e(v)}))}var A={},k={41:0},R=[];function L(t){if(A[t])return A[t].exports;var a=A[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,a){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=a||function(){};else t._acceptedDependencies[e]=a||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var a=0;a<e.length;a++)t._declinedDependencies[e[a]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var a=t._disposeHandlers.indexOf(e);a>=0&&t._disposeHandlers.splice(a,1)},check:_,apply:I,status:function(e){if(!e)return f;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:s[e]};return r=void 0,t}(t),parents:(c=l,l=[],c),children:[]};return e[t].call(a.exports,a,a.exports,function(e){var t=A[e];if(!t)return L;var a=function(a){return t.hot.active?(A[a]?-1===A[a].parents.indexOf(e)&&A[a].parents.push(e):(l=[e],r=a),-1===t.children.indexOf(a)&&t.children.push(a)):l=[],L(a)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return L[e]},set:function(t){L[e]=t}}};for(var o in L)Object.prototype.hasOwnProperty.call(L,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(a,o,n(o));return a.e=function(e){return"ready"===f&&p("prepare"),T++,L.e(e).then(t,function(e){throw t(),e});function t(){T--,"prepare"===f&&(S[e]||O(e),0===T&&0===v&&C())}},a.t=function(e,t){return 1&t&&(e=a(e)),L.t(e,-2&t)},a}(t)),a.l=!0,a.exports}L.e=function(e){var t=[],a=k[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise(function(t,n){a=k[e]=[t,n]});t.push(a[2]=n);var r,o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.charset="utf-8",i.timeout=120,L.nc&&i.setAttribute("nonce",L.nc),i.src=function(e){return L.p+"js/mblock-"+({}[e]||e)+".js"}(e),r=function(t){i.onerror=i.onload=null,clearTimeout(u);var a=k[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");o.type=n,o.request=r,a[1](o)}k[e]=void 0}};var u=setTimeout(function(){r({type:"timeout",target:i})},12e4);i.onerror=i.onload=r,o.appendChild(i)}return Promise.all(t)},L.m=e,L.c=A,L.d=function(e,t,a){L.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},L.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},L.t=function(e,t){if(1&t&&(e=L(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(L.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)L.d(a,n,function(t){return e[t]}.bind(null,n));return a},L.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return L.d(t,"a",t),t},L.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},L.p="",L.oe=function(e){throw e},L.h=function(){return i};var w=window.webpackJsonp=window.webpackJsonp||[],P=w.push.bind(w);w.push=t,w=w.slice();for(var b=0;b<w.length;b++)t(w[b]);var D=P;R.push([1929,1,0]),a()}({0:function(e,t,a){e.exports=a(31)(4)},1:function(e,t,a){e.exports=a(31)(2)},104:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=void 0;var n=i(a(39)),r=i(a(1349)),o=a(379);function i(e){return e&&e.__esModule?e:{default:e}}var u={type:"",libs:[],user_libs:[],costumes:[],user_costumes:[],backdrops:[],user_backdrops:[],sounds:[],user_sounds:[],selected:{},fileList:[],isEdit:!1,checkedIndex:[],searchText:"",backup:{},removeExtRequest:"",classify:"All",paginationSettings:{signStart:0,signEnd:42,defaultPageSize:42,current:1},isAdding:!1};t.Actions=r.default;t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.LIST:case o.ADD:case o.SELECTED:case o.REMOVE:case o.SPRITE_SAVE:case o.SPRITE_REMOVE_EXT:case o.SPRITE_EDIT_MODE:case o.SPRITE_CLEAN_FILELIST:case o.SPRITE_CHECKED:case o.SPRITE_SEARCH:case o.SPRITE_TYPE:case o.SPRITE_MERGE:case o.SPRITE_CLASSIFY_CHANGE:case o.SPRITE_PAGINATION_CHANGE:return(0,n.default)({},e,t.payload);case o.UPDATE:return t.payload[t.spriteType]=t.payload[t.spriteType].concat(e[t.spriteType]),(0,n.default)({},e,t.payload);default:return e}}}},113:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(39)),r=v(a(143)),o=v(a(3)),i=v(a(40)),u=v(a(2)),s=v(a(7)),l=v(a(12)),c=v(a(16)),d=v(a(21)),f=v(a(19)),p=a(248),h=v(a(15)),m=v(a(48)),E=a(18);function v(e){return e&&e.__esModule?e:{default:e}}var T=function(){function e(){(0,u.default)(this,e),this.store=m.default,this.domainconfig=d.default.domain}return(0,s.default)(e,[{key:"request",value:function(e){var t=this;if(!0!==e.local&&!navigator.onLine)return i.default.reject({msg:"not network",code:99999});var a=new Request((0,E.translateRequestUrlForEU)(e.url),(0,o.default)({headers:this._getReqHeader(e.header||e.headers),method:e.method||"POST",body:(0,r.default)(e.body),cache:"no-cache"},e.req)),n=fetch(a).then(function(a){return a.ok?new i.default(function(n,r){e.loadJosn?n(a.json()):e.isNotCheckRes?n(a.text()):a.json().then(function(a){if(e.forceData)return n(a);0===a.code?n(a.data):20001===a.code?(n({token:t.store.get(h.default.USER_ACCESS_TOKEN_KEY),user:t.store.get(h.default.USER_INFO_KEY)}),f.default.emit("RepeatAuth")):70001===a.code?f.default.emit("AuthLogin"):(30001!==a.code&&20002!==a.code||(t.store.remove(h.default.USER_ACCESS_TOKEN_KEY),t.store.remove(h.default.USER_INFO_KEY),!1!==e.redirectLogin&&c.default.push("/login")),r(a))},function(e){return r(e)})}):i.default.reject({code:a.status})},function(e){return i.default.reject(e)}).catch(function(e){return e&&!e.code&&(e={code:99999}),i.default.reject(e)});return this.setReqTimeout(n,e.timeout||6e4)}},{key:"translateToFormData",value:function(e){if(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}return null}},{key:"_setReqHeader",value:function(e){var t=new Headers,a=e;for(var r in l.default.isFunction(e)&&(a=e()),a=(0,n.default)({},{accesstoken:this.store.get(h.default.USER_ACCESS_ACCESSTOKEN_KEY),utoken:this.store.get(h.default.USER_ACCESS_UTOKEN_KEY),token:this.store.get(h.default.USER_ACCESS_TOKEN_KEY),lang:this.store.get(h.default.INTL_LANG_KEY)||(0,p.getNavigatorLang)(),"content-type":"application/json; charset=utf-8"},a))t.append(r,a[r]);return t}},{key:"_getReqHeader",value:function(e){return this._setReqHeader(e)}},{key:"cancelReq",value:function(e){e.abort&&e.abort()}},{key:"setReqTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3,a=this.abortablePromise(e),n=setTimeout(function(){a.isAbort||a.abort&&a.abort(),clearTimeout(n)},t);return a}},{key:"abortablePromise",value:function(e){var t=null,a=!1,n=new i.default(function(e,n){t=function(){a=!0,n("abort promise")}}),r=i.default.race([e,n]);return r.abort=t,r.isAbort=a,r}},{key:"configToRequestAction",value:function(e,t){var a=this,r=function(){var r=e[i];a[i]=function(){var e=arguments,a=(0,o.default)({},r),i=0,u="function"==typeof r.url?r.url():r.url;if(arguments.length>0){var s=arguments[0];if(s&&s.hasOwnProperty("_HEADER_")){var l=a.header||a.headers;a.header=(0,n.default)({},l,s._HEADER_),delete s._HEADER_}}if(u.indexOf(":")>=0){var c=u.match(/(:[^{:&/|_}]*)/g);c.map(function(t,a){u=u.replace(t,e[a])}),i=c.length}return r.domain?a.url=r.domain+u:a.url=r.local?u:this.domain+u,("PUT"===a.method.toUpperCase()||"POST"===a.method.toUpperCase()&&arguments.length>0)&&arguments[i]&&(a.body=arguments[i]),t.request(a)}};for(var i in e)r()}}]),e}();t.default=new T},12:function(e,t,a){e.exports=a(31)(150)},1213:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(23)),r=m(a(25)),o=m(a(19)),i=m(a(15)),u=m(a(35)),s=m(a(16)),l=m(a(63)),c=m(a(88)),d=a(371),f=a(166),p=m(a(617)),h=m(a(81));function m(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,a=i.default.CONNECT_STATUS,m=null,E=null,v=function(){e.getState().project.showLoadingPage||e.getState().connect.status===a.CONNECT_SUCCESS&&(0,f.uploadCode)()},T=(t=(0,r.default)(n.default.mark(function t(a){var r,o,u,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getState().project,o=r.showLoadingPage,u=r.projectType,s=r.isShare,!o){t.next=3;break}return t.abrupt("return");case 3:h.default.isFirstLoad&&!u&&h.default.setSaved(),h.default.isSaved()?e.dispatch(c.default.saved({filePath:a,projectType:i.default.PROJECT_TYPE.LOCAL})):e.dispatch(c.default.saveNextProjectInfo({filePath:a,projectType:i.default.PROJECT_TYPE.LOCAL,isShare:s})),(0,d.onOpen)(a,"web");case 6:case"end":return t.stop()}},t,void 0)})),function(e){return t.apply(this,arguments)});o.default.on("RestartApp",function(){h.default.isSaved()?u.default.restart():s.default.push({pathname:"/confirm/save/restart"})}),o.default.on("InitLocalServer",function(){p.default.initTimer()}),o.default.on("OpenLinkedFile",T),o.default.on("ConfirmCloseWindow",function(){h.default.isSaved()?u.default.closeWindow():s.default.push({pathname:"/confirm/save/close"})}),o.default.on("SckNewFile",function(){e.getState().project.showLoadingPage||(null!==E&&clearTimeout(E),E=setTimeout(function(){(0,d.onNew)()},200))}),o.default.on("SckOpenFile",function(){e.getState().project.showLoadingPage||(null!==m&&clearTimeout(m),m=setTimeout(function(){(0,d.onOpen)(null,"fs",{projectType:i.default.PROJECT_TYPE.LOCAL})},200))}),o.default.on("SckSave",function(){e.getState().project.showLoadingPage||o.default.emit("Shortcutkey","save")}),o.default.on("SckSaveas",function(){var t=e.getState(),a=t.account;t.project.showLoadingPage||(a.isLogin?o.default.emit("Shortcutkey","saveas"):s.default.replace("/login"))}),o.default.on("SckUploadCode",v),o.default.on("SckUploadCodeDtr",function(){l.default.instance.isDtr=!0,v()})}},1214:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(12)),r=f(a(19)),o=f(a(21)),i=f(a(35)),u=f(a(296)),s=f(a(63)),l=a(371),c=a(166),d=f(a(16));f(a(81));function f(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(e){s.default.instance.setTurboMode(e)},a={"MENU.FILE.NEW":function(){return(0,l.onNew)()},"MENU.FILE.OPEN":function(){return(0,l.onOpen)()},"MENU.FILE.SAVE":function(){return(0,l.onSave)()},"MENU.FILE.SAVEAS":function(){return(0,l.onSave)(!0)},"MENU.EDIT.UNDO":c.onUndo,"MENU.EDIT.REDO":c.onRedo,"MENU.HELP.UPDATER.CHECKER":function(){(0,c.checkUpdate)(e,!1)},"MENU.FIRMWARE":c.onClickUploadFirmware,"MENU.HELP.GUIDE":function(){var t=e.getState().intlr,a=o.default.link.guide[n.default.has(o.default.link.guide,t.langKey)?t.langKey:"en"];i.default.openLink(null,a)},"MENU.EXIT":function(){r.default.emit("ConfirmCloseWindow")},"MENU.FILE.NEW.WEB":l.onNew,"MENU.SHOW_WEB_PROJECT_PANEL":function(e){e=e||"projects",d.default.replace("/projects/"+e)},"MENU.FILE.SAVE.WEB":l.onSave,"MENU.FILE.SAVEAS.WEB":function(){d.default.replace("/web/saveas")},"MENU.FILE.IMPORT":l.onImport,"MENU.FILE.EXPORT":l.onExport,"MENU.EDIT.TURBO":function(){return t(!0)},"MENU.EDIT.TURBO.OFF":function(){return t(!1)},"MENU.OTHER.JOIN":function(){var t=e.getState().intlr,a=o.default.link.join[n.default.has(o.default.link.join,t.langKey)?t.langKey:"en"];i.default.openLink(null,a)}};r.default.on("ClickMenu",function(e){n.default.has(a,e)&&a[e]()}),r.default.on("SetUndoRedoOperate",function(t){var a=e.getState().menu.operate;n.default.isEqual(a,t)||e.dispatch(u.default.setOperate(t))}),r.default.on("CanHideOpenedMenu",function(){e.getState().menu.user&&document.querySelector("#userMenuTrigger").click()})}},1215:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(38)),r=c(a(19)),o=c(a(72)),i=c(a(16)),u=c(a(48)),s=(c(a(438)),c(a(15))),l=a(18);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){r.default.emit("RegisterDevice","login")};t.default=function(e){window.addEventListener("message",function(t){"auth"===t.data&&(e.dispatch(o.default.getUserState()),i.default.replace((0,l.parseRoute)("/")),d())}),r.default.on("AuthFinish",function(){e.dispatch(o.default.getUserState(function(){setTimeout(function(){e.getState().account.isLogin&&(i.default.replace((0,l.parseRoute)("/")),d())},0)}))}),r.default.on("AuthLogin",function(){var t=e.getState(),a=t.account,r=t.intlr,i=a.isLogin,l=u.default.get(s.default.USER_ACCESS_TOKEN_KEY);i&&!l&&(e.dispatch(o.default.strategy.logout()),n.default.error(r.messages["USER.LOGIN.EXPIRE.MSG"],2))})},r.default.on("Login",d),r.default.on("RepeatAuth",d)},1216:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(23)),r=y(a(25)),o=y(a(38)),i=y(a(12)),u=y(a(35)),s=y(a(16)),l=y(a(15)),c=y(a(19)),d=y(a(63)),f=a(91),p=y(a(147)),h=a(197),m=a(104),E=a(166),v=y(a(81)),T=y(a(153)),S=y(a(265));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){return e?"deviceId="+e.deviceId+"&name="+e.name:""};t.default=function(e){var t,a,y=null,N=function(t){var a=e.getState().extension,n=a.exts,r=a.installed;n=i.default.filter(n,function(e){return e.targets&&e.targets.indexOf(t)>=0}),i.default.isArray(n)&&n.forEach(function(e){r.indexOf(e.id.toLowerCase())>=0&&(0,f.loadExt)(e)})},_=function(e){h.Actions.load(e&&e.exts)};c.default.on("MscratchReady",function(){c.default.emit("CheckDisableBlocks",0),u.default.onReady()}),c.default.on("SetSender",function(t){var a=e.getState().connect;a.connectionInfo&&a.connectionInfo.connectionId&&T.default.send(a.type,a.connectionInfo.connectionId,t,function(e,t){})}),c.default.on("ConnectReceive",function(e,t){d.default.instance.doReceived(t)}),c.default.on("ProjectStartLoad",function(){v.default.setLoadingPageState(!0)}),c.default.on("ProjectEndLoad",function(){c.default.emit("CheckDisableBlocks",1),c.default.emit("SyncConnectState",l.default.SYNC_CONNECT_STATE_TYPE.PROJECT,!1),N(l.default.DEVICE.CODEY),setTimeout(function(){v.default.setSaved()},300),setTimeout(function(){v.default.setLoaded(!0),v.default.setLoadingPageState(!1)},600)}),c.default.on("ClickConnect",function(e){p.default.Service.isInstall(),y&&clearTimeout(y),y=setTimeout(function(){var t=void 0;t=S.default.isChromeOS?"/nodriver?deviceId="+e.deviceId+"&name="+e.name+"&os=chromeos":"/nodriver?deviceId="+e.deviceId+"&name="+e.name,p.default.Service.isInstall()&&(t="/connect?deviceId="+e.deviceId+"&name="+e.name),t&&s.default.location.pathname!==t&&s.default.replace(t)},300)}),c.default.on("ClickDisconnect",function(t){var a=e.getState().connect;a.connectionInfo,e.dispatch(p.default.disconnect(a.type,a.connectionInfo&&a.connectionInfo.connectionId,t))}),c.default.on("ClickExtList",function(){s.default.push("/exts")}),c.default.on("ClickDeviceList",function(){s.default.push("/sprite/devices")}),c.default.on("DeviceSpriteAdd",function(e){N(e.name)}),c.default.on("DeviceSpriteDelete",function(e){}),c.default.on("ClickUploadCode",function(){(0,E.uploadCode)(e)}),c.default.on("ClickUploadOnlineFirmware",function(){"/"===s.default.location.pathname&&(s.default.push("/updater/firmware/progress"),c.default.emit("uploadFirmwarePrepare"))}),c.default.on("ClickResetDevice",function(e){s.default.push("/updater/firmware?"+g(e)+"&tag=reset")}),c.default.on("ClickUpdateFirmware",function(e){s.default.push("/updater/firmware?"+g(e))}),c.default.on("ClickCalibrateColor",function(e){s.default.push("/calibrate/"+l.default.SENSOR_CALIBRATE_TYPE.COLOR)}),c.default.on("ClickCalibratGyro",function(e){s.default.push("/calibrate/"+l.default.SENSOR_CALIBRATE_TYPE.GYRO)}),c.default.on("FlyoutBlockClicked",function(t){var a=t.type,n=t.disabled,r=e.getState().intlr;-1!==l.default.LOGIN_AVAILABLE_BLOCKS.indexOf(a)&&n&&(0===a.indexOf("iot.")?o.default.warn(r.messages["BLOCK.USE.NEED.LOGINANDOPEN"],2):o.default.warn(r.messages["BLOCK.USE.NEED.LOGIN"],2))}),c.default.on("ClickedOpenSprite",function(e){s.default.push("/sprite/"+e)}),c.default.on("ClickedOpenSoundRecorder",function(){d.default.instance.openRecordSound()}),c.default.on("ClickRecordSound",function(e){return m.Actions.recordSound(e)}),c.default.on("ExtsFound",_),c.default.on("AddSprite",(t=(0,r.default)(n.default.mark(function t(a,r){var u,s,c,p,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=arguments[3];return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=!0,s=e.getState(),c=s.intlr,p=void 0,0===a.indexOf("user_")&&(p=o.default.loading(c.messages["PROJECT.LOADING_TIP"],0)),t.t0=a,t.next=t.t0===l.default.SPRITE_TYPE.DEVICES?7:t.t0===l.default.SPRITE_TYPE.LIBS?12:t.t0===l.default.SPRITE_TYPE.USER_LIBS?12:t.t0===l.default.SPRITE_TYPE.COSTUMES?15:t.t0===l.default.SPRITE_TYPE.USER_COSTUMES?15:t.t0===l.default.SPRITE_TYPE.BACKDROPS?18:t.t0===l.default.SPRITE_TYPE.USER_BACKDROPS?18:t.t0===l.default.SPRITE_TYPE.SOUNDS?21:t.t0===l.default.SPRITE_TYPE.USER_SOUNDS?21:24;break;case 7:return t.next=9,(0,f.loadExt)(r);case 9:return!(u=t.sent)&&o.default.warn(c.messages["NETWORK.ERR.MSG"],2),t.abrupt("break",25);case 12:return t.next=14,d.default.instance.addSprite(r);case 14:return t.abrupt("break",25);case 15:return t.next=17,d.default.instance.addCostume(r);case 17:return t.abrupt("break",25);case 18:return t.next=20,d.default.instance.addBackdrop(r);case 20:return t.abrupt("break",25);case 21:return t.next=23,d.default.instance.addSound(r);case 23:case 24:return t.abrupt("break",25);case 25:p&&p(),h&&d.default.instance.costumeEditorShow(),i.default.isFunction(m)&&m(u);case 28:case"end":return t.stop()}},t,void 0)})),function(e,a){return t.apply(this,arguments)})),c.default.on("LoadedExt",function(e){}),c.default.on("ImportSpriteFromZip",(a=(0,r.default)(n.default.mark(function t(a){var r,i,u,l;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getState(),i=r.intlr,u=o.default.loading(i.messages["PROJECT.LOADING_TIP"],0),t.next=4,d.default.instance.importSprite(a,function(){s.default.replace("/")},function(){o.default.error(i.messages["SPRITE.LOAD.FAIL.MSG"],2)});case 4:l=t.sent,u&&u(),_(l);case 7:case"end":return t.stop()}},t,void 0)})),function(e){return a.apply(this,arguments)})),window.MbApi||(window.MbApi={}),window.MbApi.enableBlocks=function(e){d.default.instance.enableBlocks(e)},window.MbApi.disableBlocks=function(e){d.default.instance.disableBlocks(e)},window.MbApi.isLogin=function(){var t=e.getState().account;return t&&t.isLogin},c.default.on("UploadCodeSuccess",function(e){c.default.emit("LogUploadCode",(0,f.editingTarget)().id,!0,e?"retry":"")}),c.default.on("UploadCodeFailed",function(e){c.default.emit("LogUploadCode",(0,f.editingTarget)().id,!1,e?"retry":"")}),c.default.on("LocaleDataUpdated",function(e,t){t&&t.mscratchMsgs&&d.default.instance.addLocaleData(e,t.mscratchMsgs,t.locale)}),c.default.on("SwitchLanguage",function(e){d.default.instance.changeLanguage(e)})}},1217:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firmwareState=t.connectState=t.resetConnectedState=void 0;var n=u(a(12)),r=u(a(63)),o=a(91),i=u(a(15));function u(e){return e&&e.__esModule?e:{default:e}}t.resetConnectedState=function(e,t){var a=(0,o.getTargetDevices)(e.deviceId||i.default.DEVICE.CODEY);if(!n.default.isEmpty(a)&&n.default.isArray(a)){var r=a[0],u={id:r.deviceId,name:r.name};return s(u,!0,t),u}};var s=t.connectState=function(e,t,a){r.default.mscratch.connection.setState(e,t,a)};t.firmwareState=function(e,t){}},1218:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(3)),r=v(a(38)),o=v(a(23)),i=v(a(25)),u=v(a(12)),s=v(a(19)),l=v(a(16)),c=v(a(15)),d=v(a(63)),f=a(1217),p=a(91),h=v(a(147)),m=v(a(153)),E=a(294);function v(e){return e&&e.__esModule?e:{default:e}}t.default=function(t){var a,v,T=(a=(0,i.default)(o.default.mark(function e(t,a,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return a.apply(this,arguments)}),S=(v=(0,i.default)(o.default.mark(function e(a,r){var i=r.info;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.dispatch(h.default.setDeviceInfo((0,n.default)({},a,{firmware:i})))}catch(e){}case 2:case"end":return e.stop()}},e,void 0)})),function(e,t){return v.apply(this,arguments)});s.default.on("ServerConnected",function(e,a){var n=t.getState().connect.type;t.dispatch(h.default.status(n)),d.default.instance.resize(),a||s.default.emit("SyncConnectState",c.default.SYNC_CONNECT_STATE_TYPE.SERVER_OFFLINE,!1)}),s.default.on("ConnectBroken",function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getState(),o=n.connect,i=n.intlr;n.upload;if(o.isSoftDisconnect||t.dispatch(h.default.disconnect(o.type,o.connectionInfo&&o.connectionInfo.connectionId,e,a)),a)for(var u in r.default.warning(i.messages["CONNECT.STATUS.DISCONNECTED"]),l.default.replace("/"),E.dialogMap)E.dialogMap[u].close()}),s.default.on("DeviceConnected",function(a,n,r){if(a){var l,f,p,h,E=a.rawPort,v=u.default.extend({},E,{dataEventMap:{},write:function(t,a){if(e.isBuffer(t)){for(var n=[],r=0;r<t.length;++r)n[r]=t[r];E.write(n,"utf8",a)}else E.write(t,"utf8",a)},on:function(t,a){if("data"==t){var n=function(t){if(t instanceof Array){for(var n=new e(t.length),r=0;r<n.length;++r)n[r]=t[r];a(n)}else if("Buffer"==t.type&&t.data instanceof Array){for(var o=new e(t.data.length),i=0;i<o.length;++i)o[i]=t.data[i];a(o)}else a(null)};return v.dataEventMap[a.name]=n,E.on("data",n)}return E.on(t,a)},removeListener:function(e,t){if("data"==e){var a=v.dataEventMap[t.name];E.removeListener(e,a)}else E.removeListener(e,t)},open:function(e){E.open(e)},set:function(e,t){E.set(e,t)},close:function(){E.close.apply(E,arguments)},drain:(f=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.drain(t);case 2:case"end":return e.stop()}},e,void 0)})),function(e){return f.apply(this,arguments)}),flush:(l=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.flush(t);case 2:case"end":return e.stop()}},e,void 0)})),function(e){return l.apply(this,arguments)})});d.default.instance.setTransporterRawPort(v),window.currentPort=v,p=t.getState().connect,h=p.connectionInfo&&p.connectionInfo.connectionId,m.default.addDataListener(p.type,h,function(e){s.default.emit("ConnectReceive",null,e)}),m.default.addErrorListener(p.type,h,function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s.default.emit("ConnectBroken",{address:h},t)}),s.default.emit("SyncConnectState",c.default.SYNC_CONNECT_STATE_TYPE.CONNECTED,a,n),a.deviceId.toLowerCase()===c.default.DEVICE.CODEY?T(a,n,r):function(e,t,a){!0!==a&&s.default.emit("LogConnectDevice",{name:e},!0,t)}(a.deviceId,n,r)}}),s.default.on("DeviceDisconnected",function(e,a){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=t.getState().connect.devices;!u.default.isEmpty(r)&&e&&(e=u.default.find(r,{address:e.address}))}e&&e.deviceId&&e.name&&((0,f.connectState)(e,!1,a),(0,f.firmwareState)(e,!1),s.default.emit("LogDisconnectDevice",e,n?"passive":""))}),s.default.on("UploadFirmwareComplete",function(e,t,a){s.default.emit("LogUpdateFirmware",t,"")}),s.default.on("CheckFirmwareVersion",S),s.default.on("SyncConnectState",function(e,a,n){if(!1===a)(0,p.getTargetDevices)().forEach(function(e){(0,f.connectState)(e,!1,n)});else{var r=t.getState().connect.devices;if(e===c.default.SYNC_CONNECT_STATE_TYPE.CONNECTED)if(u.default.isObject(a)&&u.default.isEmpty(r))(0,f.connectState)(a,!0,n);else{var o=null;(0,p.getTargetDevices)().forEach(function(e){e.name===a.name?o=e:(0,f.connectState)(e,!1,n)}),o&&(0,f.connectState)(o,!0,n)}}})}}).call(this,a(26).Buffer)},1219:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadStatus=t.ExtUpdateStatus=t.ExtType=t.ExtUpdateInstance=void 0;var n=S(a(39)),r=S(a(114)),o=S(a(143)),i=S(a(3)),u=S(a(23)),s=S(a(25)),l=S(a(2)),c=S(a(7)),d=S(a(118)),f=S(a(12)),p=S(a(410)),h=S(a(35)),m=S(a(21)),E=a(18),v=a(32),T=a(196);function S(e){return e&&e.__esModule?e:{default:e}}var y={Lastest:0,ToUpdate:1,Updated:2},g={None:0,Downloading:1},N=["sortId","version","fileUrl","fileMd5"],_={device:"device",ext:"ext"},O=m.default.extDirPath,C=d.default.join(m.default.appRootPath,"exts"),I=function(){function e(){(0,l.default)(this,e),this.instance=null,this.localExtList={},this.remoteExtList={},this.extSupportVersionList=[]}return(0,c.default)(e,[{key:"getExtList",value:function(){var e=(0,s.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f.default.has(this.localExtList,t)&&this.localExtList[t].length){e.next=4;break}return e.next=4,this.getLocalExtList(t);case 4:if(f.default.has(this.remoteExtList,t)&&this.remoteExtList[t].length){e.next=10;break}return e.next=7,p.default.getNewRemoteExtList(m.default.version,t);case 7:return this.remoteExtList[t]=e.sent,e.next=10,this.syncRemoteList(t,this.remoteExtList[t]||[]);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),delete this.remoteExtList[t];case 16:return e.abrupt("return",this.filterLocalExt(t));case 17:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getLocalExtList",value:function(){var e=(0,s.default)(u.default.mark(function e(t){var a,n,r,o;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.default.has(this.localExtList,t)){e.next=22;break}if(a=[],e.prev=2,(0,v.isElectron)()){e.next=10;break}return e.next=6,p.default.getLocalExtList(O,t+".json");case 6:(a=e.sent).forEach(function(e){e.originVersion=e.version}),e.next=16;break;case 10:return n=d.default.join(O,t+".json"),e.next=14,h.default.read(n);case 14:r=e.sent,f.default.has(r,"data")&&(o=r.data,f.default.isArray(o)&&(a=o));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2);case 21:this.localExtList[t]=a;case 22:return e.abrupt("return",this.filterLocalExt(t));case 23:case"end":return e.stop()}},e,this,[[2,18]])}));return function(t){return e.apply(this,arguments)}}()},{key:"filterLocalExt",value:function(e){return this.remoteExtList[e]&&this.remoteExtList[e].length?this.localExtList[e]:this.localExtList[e].filter(function(e){return e.originVersion}).map(function(e){var t=(0,i.default)({},e);return t.updateStatus===y.ToUpdate&&(t.updateStatus=y.Lastest),t})}},{key:"saveExtListToFile",value:function(){var e=(0,s.default)(u.default.mark(function e(t){var a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=d.default.join(O,t+".json"),e.next=5,h.default.write(a,(0,o.default)(this.localExtList[t]||[]));case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"syncRemoteList",value:function(){var e=(0,s.default)(u.default.mark(function e(t,a){var n,o,s,l,c,d,p,h,m,E,v,S,_,O,C,I,A=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.next=3,this.getLocalExtList(t);case 3:for(o=this.localExtList[t],s=f.default.differenceBy(o,a,"id"),l=!0,c=!1,d=void 0,e.prev=8,p=(0,r.default)(s);!(l=(h=p.next()).done);l=!0)(m=h.value).updateStatus===y.ToUpdate&&m.downloadStatus===g.None&&(m.originVersion?m.updateStatus=y.Lastest:-1!==(E=o.indexOf(m))&&o.splice(E,1),n=!0);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),c=!0,d=e.t0;case 16:e.prev=16,e.prev=17,!l&&p.return&&p.return();case 19:if(e.prev=19,!c){e.next=22;break}throw d;case 22:return e.finish(19);case 23:return e.finish(16);case 24:v=!0,S=!1,_=void 0,e.prev=27,O=function(){var e=I.value;if(!A.checkExtInfo(e))return"continue";if(!(0,T.isSupportPlatform)(e.platform,"mblockpc"))return"continue";var t=f.default.find(o,function(t){return t.id==e.id});if(t){if(t.remoteTargets=e.targets,t.sortId!=e.sortId&&(t.sortId=e.sortId,n=!0),t.downloadStatus===g.Downloading||t.updateStatus===y.Updated)return"continue";if(t.isDev||A.procExtVersion(t.version)!==A.procExtVersion(e.version)){var a=!0,u=!1,s=void 0;try{for(var l,c=(0,r.default)(N);!(a=(l=c.next()).done);a=!0){var d=l.value;t[d]=e[d]}}catch(e){u=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(u)throw s}}t.isDev||A.procExtVersion(t.originVersion)!==A.procExtVersion(t.version)?t.updateStatus=y.ToUpdate:t.updateStatus=y.Lastest,t.downloadStatus=g.None,n=!0}}else t=(0,i.default)({},e,{originVersion:"",updateStatus:y.ToUpdate,downloadStatus:g.None}),o.push(t),n=!0},C=(0,r.default)(a);case 30:if(v=(I=C.next()).done){e.next=37;break}if("continue"!==O()){e.next=34;break}return e.abrupt("continue",34);case 34:v=!0,e.next=30;break;case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(27),S=!0,_=e.t1;case 43:e.prev=43,e.prev=44,!v&&C.return&&C.return();case 46:if(e.prev=46,!S){e.next=49;break}throw _;case 49:return e.finish(46);case 50:return e.finish(43);case 51:this.localExtList[t]=f.default.orderBy(o,["sortId"],["asc"]),n&&this.saveExtListToFile(t);case 53:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23],[27,39,43,51],[44,,46,50]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"syncAppExtList",value:function(){var e=(0,s.default)(u.default.mark(function e(t,a){var n,o,s,l,c,p,m,E,v=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=!1,e.next=4,this.getLocalExtList(t);case 4:o=this.localExtList[t],s=!0,l=!1,c=void 0,e.prev=10,p=u.default.mark(function e(){var t,a,r,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.value,v.checkExtInfo(t)){e.next=3;break}return e.abrupt("return","continue");case 3:if(a=f.default.find(o,function(e){return e.id==t.id}),r=t.main.split("/")[0],!a){e.next=20;break}if(!a.isDev){e.next=10;break}return e.abrupt("return","continue");case 10:if(!(v.procExtVersion(a.originVersion)<v.procExtVersion(t.version))){e.next=18;break}return e.next=13,h.default.copy(d.default.join(C,r),d.default.join(O,r));case 13:for(s in t)f.default.includes(N,s)||(a[s]=t[s]);v.procExtVersion(a.version)<=v.procExtVersion(t.version)&&(a.updateStatus=y.Lastest),a.downloadStatus=g.None,a.originVersion=t.version,n=!0;case 18:e.next=29;break;case 20:return e.next=22,h.default.copy(d.default.join(C,r),d.default.join(O,r));case 22:(a=(0,i.default)({},t)).originVersion="",a.downloadStatus=g.None,a.originVersion=t.version,a.updateStatus=y.Lastest,o.push(a),n=!0;case 29:case"end":return e.stop()}},e,v)}),m=(0,r.default)(a);case 13:if(s=(E=m.next()).done){e.next=21;break}return e.delegateYield(p(),"t0",15);case 15:if("continue"!==e.t0){e.next=18;break}return e.abrupt("continue",18);case 18:s=!0,e.next=13;break;case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(10),l=!0,c=e.t1;case 27:e.prev=27,e.prev=28,!s&&m.return&&m.return();case 30:if(e.prev=30,!l){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(27);case 35:this.localExtList[t]=f.default.orderBy(o,["sortId"],["asc"]),n&&this.saveExtListToFile(t),e.next=42;break;case 39:e.prev=39,e.t2=e.catch(0);case 42:case"end":return e.stop()}},e,this,[[0,39],[10,23,27,35],[28,,30,34]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"abortDownloadExt",value:function(){var e=(0,s.default)(u.default.mark(function e(t){var a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.abortDownload("ext-"+t.toLowerCase());case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"downloadExt",value:function(e,t,a,r){var o=this;if(f.default.has(this.localExtList,e)){t=t.toLowerCase();var l,c=f.default.find(this.localExtList[e],function(e){return e.id.toLowerCase()==t});if(c&&c.updateStatus==y.ToUpdate&&c.downloadStatus==g.None){var p=d.default.join(O,"temp",t+".mext");try{c.downloadStatus=g.Downloading,c.progress=0,this.saveExtListToFile(e),a&&a(null,c),h.default.downloadFile(c.fileUrl,p,"ext-"+t,(l=(0,s.default)(u.default.mark(function s(l,f){var m;return u.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(null!=l){u.next=16;break}if(c.progress=f.percent,r&&r((0,i.default)({},c,{percent:f.percent})),100!=f.percent){u.next=14;break}return u.next=6,o.checkMd5(p,c.fileMd5);case 6:if(!u.sent){u.next=11;break}m=d.default.join(O,"temp",t),h.default.uncompress({filePath:p,extractPath:m,onError:function(t){c.downloadStatus=g.None,o.saveExtListToFile(e),a&&a(t,c)},onFinish:function(r){o.procUncompressExt(r,function(r){if(r)c.downloadStatus=g.None,o.saveExtListToFile(e);else if(o.remoteExtList[e]){var i=o.remoteExtList[e].find(function(e){return e.id.toLowerCase()===t.toLowerCase()});(0,n.default)(c,i,c,{iconURL:i.iconURL}),o.saveExtListToFile(e)}a&&a(r,c)},!1)}}),u.next=14;break;case 11:c.downloadStatus=g.None,o.saveExtListToFile(e),a&&a("download file incomplete",c);case 14:u.next=19;break;case 16:c.downloadStatus=g.None,o.saveExtListToFile(e),a&&a(l,c);case 19:case"end":return u.stop()}},s,o)})),function(e,t){return l.apply(this,arguments)}))}catch(t){c.downloadStatus=g.None,this.saveExtListToFile(e),a&&a(t,c)}}else a&&a(new Error("not found the extension"),null)}else a&&a(new Error("not found the list of type"),null)}},{key:"checkMd5",value:function(){var e=(0,s.default)(u.default.mark(function e(t,a){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.checkMd5ForFile)(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"dragExtFile",value:function(e,t){var a,n=this;if(e instanceof File)if("mext"==(0,E.getFileSuffix)(e.name).toLowerCase()){var r=(0,E.getFileName)(e.name),o=d.default.join(O,"temp",r);h.default.uncompress({file:e,extractPath:o,onError:function(e){t&&t(e)},onFinish:(a=(0,s.default)(u.default.mark(function e(a){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.procUncompressExt(a,t,!0);case 1:case"end":return e.stop()}},e,n)})),function(e){return a.apply(this,arguments)})})}else t&&t(new Error("the suffix of file is incorrect"));else t&&t(new Error("file is not instanceof File"))}},{key:"procUncompressExt",value:function(){var e=(0,s.default)(u.default.mark(function e(t,a,n){var r,o,s,l,c,p,m,v,T,S,C;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=d.default.join(t,"manifest.json"),e.next=4,h.default.read(r);case 4:if(o=e.sent,f.default.has(o,"data")){e.next=8;break}throw new Error("manifest miss data");case 8:if(s=o.data,this.checkExtInfo(s)){e.next=11;break}throw new Error("manifest info incorrect");case 11:if(!(!f.default.isEmpty(this.extSupportVersionList)&&!f.default.isEmpty(s.extApiVersion))||(0,E.isContainedArray)(this.extSupportVersionList,s.extApiVersion)){e.next=14;break}throw new Error("manifest info apiVersion is not supported");case 14:return l=s.id,c=_.ext,s.device&&(c=_.device),p=s.main.split("/")[0],m=d.default.join(O,p),e.next=21,this.getLocalExtList(c);case 21:if(v=this.localExtList[c],!(T=f.default.find(v,function(e){return e.id==l}))){e.next=40;break}if(T.originVersion){e.next=32;break}return e.next=27,h.default.copy(t,m);case 27:for(S in s)f.default.includes(N,S)||(T[S]=s[S]);T.originVersion=s.version,T.updateStatus=n?y.ToUpdate:y.Lastest,e.next=37;break;case 32:if((C=d.default.join(O,"temp",l)).toLowerCase()===t.toLowerCase()){e.next=36;break}return e.next=36,h.default.copy(t,C);case 36:T.updateStatus=y.Updated;case 37:T.downloadStatus=g.None,e.next=47;break;case 40:return e.next=42,h.default.copy(t,m);case 42:(T=(0,i.default)({},s)).originVersion=s.version,T.updateStatus=y.Lastest,T.downloadStatus=g.None,v.push(T);case 47:return T.isDev=n,this.saveExtListToFile(c),a&&a(null,T),e.abrupt("return",!0);case 53:return e.prev=53,e.t0=e.catch(0),a&&a(e.t0),e.abrupt("return",!1);case 58:case"end":return e.stop()}},e,this,[[0,53]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"checkExtInfo",value:function(e){return f.default.has(e,"version")||(e.version="v0.0.0"),f.default.has(e,"id")&&f.default.has(e,"main")&&f.default.has(e,"version")}},{key:"procExtVersion",value:function(e){return(0,E.calVersion)(e)}},{key:"initExtDir",value:function(){var e=(0,s.default)(u.default.mark(function e(){var t,a,n,o,i,l,c,E,v,T,S=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,h.default.copy(d.default.join(C,"common"),d.default.join(m.default.extDirPath,"common"));case 4:t=[_.device,_.ext],a=!0,n=!1,o=void 0,e.prev=8,i=(0,r.default)(t);case 10:if(a=(l=i.next()).done){e.next=25;break}return c=l.value,E=d.default.join(C,c+".json"),e.next=15,h.default.read(E);case 15:if(v=e.sent,!f.default.has(v,"data")){e.next=22;break}if(T=v.data,!(f.default.isArray(T)&&T.length>0)){e.next=22;break}return e.next=22,this.syncAppExtList(c,T);case 22:a=!0,e.next=10;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(8),n=!0,o=e.t0;case 31:e.prev=31,e.prev=32,!a&&i.return&&i.return();case 34:if(e.prev=34,!n){e.next=37;break}throw o;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return e.next=41,this.initProcExtUpdate();case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(1);case 46:try{setTimeout((0,s.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.default.getExtVersionList(m.default.version);case 2:S.extSupportVersionList=e.sent;case 4:case"end":return e.stop()}},e,S)})),0)}catch(e){this.extSupportVersionList=[]}case 48:case"end":return e.stop()}},e,this,[[1,43],[8,27,31,39],[32,,34,38]])}));return function(){return e.apply(this,arguments)}}()},{key:"initProcExtUpdate",value:function(){var e=(0,s.default)(u.default.mark(function e(){var t,a,n,o,i,s,l,c,p,m,E,v,T,S,C,I,A,k,R,L,w;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[_.device,_.ext],a=!0,n=!1,o=void 0,e.prev=4,i=(0,r.default)(t);case 6:if(a=(s=i.next()).done){e.next=65;break}return l=s.value,e.next=10,this.getLocalExtList(l);case 10:c=this.localExtList[l],p=!0,m=!1,E=void 0,e.prev=14,v=(0,r.default)(c);case 16:if(p=(T=v.next()).done){e.next=47;break}if((S=T.value).downloadStatus==g.Downloading&&(S.downloadStatus=g.None),S.updateStatus!=y.Updated){e.next=44;break}return e.prev=20,C=d.default.join(O,"temp",S.id),I=d.default.join(C,"manifest.json"),e.next=25,h.default.read(I);case 25:if(A=e.sent,f.default.has(A,"data")){e.next=29;break}throw new Error("manifest miss data");case 29:if(k=A.data,this.checkExtInfo(k)){e.next=32;break}throw new Error("manifest info incorrect");case 32:return R=k.main.split("/")[0],L=d.default.join(O,R),e.next=36,h.default.copy(C,L);case 36:for(w in k)f.default.includes(N,w)||(S[w]=k[w]);S.originVersion=k.version,S.updateStatus=y.Lastest,e.next=44;break;case 41:e.prev=41,e.t0=e.catch(20);case 44:p=!0,e.next=16;break;case 47:e.next=53;break;case 49:e.prev=49,e.t1=e.catch(14),m=!0,E=e.t1;case 53:e.prev=53,e.prev=54,!p&&v.return&&v.return();case 56:if(e.prev=56,!m){e.next=59;break}throw E;case 59:return e.finish(56);case 60:return e.finish(53);case 61:this.saveExtListToFile(l);case 62:a=!0,e.next=6;break;case 65:e.next=71;break;case 67:e.prev=67,e.t2=e.catch(4),n=!0,o=e.t2;case 71:e.prev=71,e.prev=72,!a&&i.return&&i.return();case 74:if(e.prev=74,!n){e.next=77;break}throw o;case 77:return e.finish(74);case 78:return e.finish(71);case 79:case"end":return e.stop()}},e,this,[[4,67,71,79],[14,49,53,61],[20,41],[54,,56,60],[72,,74,78]])}));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}().getInstance();t.ExtUpdateInstance=I,t.ExtType=_,t.ExtUpdateStatus=y,t.DownloadStatus=g},1220:function(e,t,a){"use strict";var n=h(a(23)),r=h(a(25)),o=(h(a(12)),h(a(19))),i=h(a(35)),u=a(32),s=a(18),l=h(a(600)),c=h(a(72)),d=h(a(82)),f=h(a(21)),p=a(166);a(1219);function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){e&&setTimeout(function(){o.default.emit("GetMyProjects")},500)};(0,r.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=f.default.showCopyrightLogo,a(1218).default(d.default),a(1216).default(d.default),t||(a(1215).default(d.default),a(1214).default(d.default),a(371).default(d.default)),d.default.dispatch(l.default.setEnv("web")),(0,p.onbeforeunload)(),t||((0,u.isInternational)()&&(0,s.loadDynamicScript)("https://apis.google.com/js/platform.js",!1,!0),o.default.on("Login",function(){m(!0)}),o.default.on("SwitchLanguage",function(){setTimeout(function(){(0,p.setTitle)(d.default)},0)}),i.default.has("electron")&&a(1213).default(d.default),(0,p.setTitle)(d.default),c.default.checkUserTokenExist()||m(!1),d.default.dispatch(c.default.getUserState()));case 7:case"end":return e.stop()}},e,void 0)}))()},1221:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2)),r=o(a(7));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t){(0,n.default)(this,e),this.MscratchService=t}return(0,r.default)(e,[{key:"addWebStore",value:function(e,t,a){this.MscratchService.addWebStore(e,t,a)}},{key:"addWebProjectStore",value:function(e,t,a){this.MscratchService.addWebProjectStore(e,t,a)}},{key:"getAssets",value:function(){return this.MscratchService.getAssets()}}]),e}();t.default=i},1222:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),r=u(a(7)),o=u(a(82)),i=a(104);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,n.default)(this,e),this.MscratchService=t}return(0,r.default)(e,[{key:"addSprites",value:function(e){o.default.dispatch(i.Actions.update("libs",e))}},{key:"addCostumes",value:function(e){o.default.dispatch(i.Actions.update("costumes",e))}},{key:"addSounds",value:function(e){o.default.dispatch(i.Actions.update("sounds",e))}},{key:"addBackdrops",value:function(e){o.default.dispatch(i.Actions.update("backdrops",e))}},{key:"onAssetLoaded",value:function(e){this.MscratchService.onAssetLoaded(e)}}]),e}();t.default=s},1223:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),r=u(a(7)),o=a(19),i=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){var t=this;(0,n.default)(this,e),this.config={},this.onInit(function(){window.mediaWindow.ctx.registBeforeOpenHandler(t.config.onBeforeOpen),window.mediaWindow.ctx.registBeforeCloseHandler(t.config.onBeforeClose)})}return(0,r.default)(e,[{key:"setConfig",value:function(e){this.config=e,e.onOpen&&this.onOpen(e.onOpen),e.onClose&&this.onClose(e.onClose)}},{key:"onInit",value:function(e,t){return(0,o.genEvent)("MediaWindowInit")(e,t)}},{key:"onOpen",value:function(e,t){return(0,o.genEvent)("MediaWindowOpen")(e,t)}},{key:"onClose",value:function(e,t){return(0,o.genEvent)("MediaWindowClose")(e,t)}},{key:"open",value:function(){i.default.emit("OpenMediaWindow")}},{key:"close",value:function(){i.default.emit("CloseMediaWindow")}}]),e}();t.default=s},1224:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2)),r=o(a(1223));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){(0,n.default)(this,e),this.mediaWindow=new r.default}},1225:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),r=u(a(7)),o=u(a(21)),i=u(a(82));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"getDriverDownloadLink",value:function(){var e="zh"===i.default.getState().intlr.langKey?"zh":"en";return o.default.link.driver[e]}}]),e}();t.default=s},1226:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=a(21);function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"registerDriverBtn",value:function(e){var t={downloadDriverBtn:e};o.configUtil.setConfig(t)}}]),e}();t.default=u},1227:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(2)),r=s(a(7)),o=s(a(19)),i=s(a(82)),u=s(a(72));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"setLogin",value:function(e){i.default.dispatch(u.default.strategy.setLoginState(e)),e?o.default.emit("Login"):o.default.emit("Logout")}}]),e}();t.default=l},1228:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(23)),r=d(a(25)),o=d(a(2)),i=d(a(7)),u=d(a(56)),s=a(18),l=a(197),c=d(a(82));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e),this.MscratchService=t}return(0,i.default)(e,[{key:"reset",value:function(){this.MscratchService.clear()}},{key:"export",value:function(e){this.MscratchService.export(null,null,e)}},{key:"exportToBlob",value:function(){var e=(0,r.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MscratchService.getProjectJson();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"exportToJsonString",value:function(){return this.MscratchService.getProjectJsonString()}},{key:"import",value:function(){var e=(0,r.default)(n.default.mark(function e(t){var a,r,o,i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||function(){},document.querySelector("#OpenProjectTarget")||((a=document.createElement("input")).setAttribute("type","file"),a.setAttribute("id","OpenProjectTarget"),a.setAttribute("hidden",!0),document.body.appendChild(a)),e.next=4,(0,s.openProjectTarget)("#OpenProjectTarget");case 4:return r=e.sent,e.next=7,this.MscratchService.useWebRead(r);case 7:return o=e.sent,e.prev=8,e.next=11,this.MscratchService.renderProject(o.data,t);case 11:(i=e.sent).exts&&l.Actions.load(i.exts),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8);case 18:case"end":return e.stop()}},e,this,[[8,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getCover",value:function(){return this.MscratchService.getProjectCoverPic()}},{key:"renderFromArrayBuffer",value:function(){var e=(0,r.default)(n.default.mark(function e(t,a){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.renderFromData(t,a);case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"renderFromData",value:function(){var e=(0,r.default)(n.default.mark(function e(t,a){var r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=a||function(){},e.prev=3,e.next=6,this.MscratchService.renderProject(t,a);case 6:(r=e.sent)&&r.exts&&l.Actions.load(r.exts),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3);case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"onLoadingProject",value:function(e){this.MscratchService.project.onProcess(function(t){e&&e(t.complete,t.total)})}},{key:"fetchMblockCloudProjectData",value:function(e,t){if(!e)return null;try{var a="cloudProjectId="+e.split("/project/")[1];u.default.loadRemoteProjectFromUrl(a).then(function(e){t(e)})}catch(e){t(null)}}},{key:"getName",value:function(){return c.default.getState().project.name}}]),e}();t.default=f},1229:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(38)),r=v(a(3));t.default=function(e){window.MbApi||(window.MbApi={}),window.MbApi.IotService=s.default.IotService,window.MbApi.LocalStoreService=i.default,window.MbApi.getToken=function(){return i.default.get(c.default.USER_ACCESS_TOKEN_KEY)},window.MbApi.getCommonHeader=function(){return{accesstoken:i.default.get(c.default.USER_ACCESS_ACCESSTOKEN_KEY),token:i.default.get(c.default.USER_ACCESS_TOKEN_KEY)}},window.MbApi.getUserInfo=function(){return i.default.get(c.default.USER_INFO_KEY)},window.MbApi.getDeviceType=function(){return"1"},window.MbApi.getDeviceId=function(){return i.default.get(c.default.CONNECT_DEVICE_ID_KEY)},window.MbApi.cloudListDomain=function(){return(0,f.translateRequestUrlForEU)(u.default.domainconfig.iot)},window.MbApi.weatherDomain=function(){return(0,f.translateRequestUrlForEU)(u.default.domainconfig.weather)},window.MbApi.airDomain=function(){return(0,f.translateRequestUrlForEU)(u.default.domainconfig.air)},window.MbApi.getServiceChannel=function(){return d.default.serviceChannel},window.MbApi.middlewares={compiler:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arduino";d.default.compiler({type:a,context:e},t)},uploadFlash:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hex:"",lib:"",board:""},a=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arduino";try{var i=e.getState().connect,u=o.default.filter(i.devices,{deviceId:t.board});if(!o.default.isEmpty(u)&&o.default.isArray(u)){var s=u[0].address;delete t.board,d.default.flash({type:n,context:(0,r.default)({path:s},t)},a)}}catch(e){}},uploadMicrobit:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"upload";d.default.microbit(a,e,t)}},window.MbApi.projectChange=function(){l.default.emit("ProjectChange")},window.MbApi.getExtResPath=p.getExtResPath,window.MbApi.require=p.requestExt,window.MbApi.Emitter=l.default,window.MbApi.isWeb=h.isWeb,window.MbApi.dialog=function(e,t){return(0,E.default)(e,t)},window.MbApi.message=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments[3],u=e.getState().intlr.messages;o.default.has(u,t)&&(t=u[t]),t&&n.default[a](t,r,i)},window.MbApi.getServiceKey=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s.default.UserService.accesstoken()},window.MbApi.registerFirmwareDriver=m.default.addFirmwareDriver.bind(m.default),window.MbApi.registerUploadDriver=m.default.addUploadDriver.bind(m.default),window.MbApi.registerUploadMiddleware=m.default.addMiddleware.bind(m.default)};var o=v(a(12)),i=v(a(48)),u=v(a(113)),s=v(a(92)),l=v(a(19)),c=v(a(15)),d=v(a(153)),f=a(18),p=a(196),h=a(32),m=v(a(377)),E=v(a(294));function v(e){return e&&e.__esModule?e:{default:e}}window.alert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments[3];e&&n.default[t](e,a,r)}},1230:function(e,t){},1231:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(22)),r=p(a(9)),o=p(a(2)),i=p(a(7)),u=p(a(5)),s=p(a(6)),l=p(a(1)),c=a(14),d=a(32),f=p(a(21));function p(e){return e&&e.__esModule?e:{default:e}}a(1230);var h=function(e){function t(e){(0,o.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={show:!0},a.close=a.close.bind(a),a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"close",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this.props;return!(0,d.isChrome)()&&this.state.show?l.default.createElement("section",{className:"browser-check-wrapper"},l.default.createElement("div",{className:"inner"},l.default.createElement("p",{className:"tip-text"},e.intlr.messages["BROWSER.COMPATIBLE_TIP"]),l.default.createElement("a",{href:(0,d.isInternational)()?f.default.link.mblock_downloadPage.en:f.default.link.mblock_downloadPage.zh,target:"_blank",rel:"noopener noreferrer"},l.default.createElement(n.default,{type:"primary",className:"tip-button"},e.intlr.messages["BROWSER.COMPATIBLE_TIP.DOWNLOAD"]))),l.default.createElement("i",{onClick:this.close,className:"mblock-icon icon-icondeletetext"})):null}}]),t}(l.default.Component);t.default=(0,c.connect)(function(e){return{intlr:e.intlr}})(h)},1232:function(e,t,a){e.exports=a.p+"static/imgs/box-three-medal-bg.png"},1233:function(e,t,a){e.exports=a.p+"static/imgs/box-two-medal-bg.png"},1234:function(e,t,a){e.exports=a.p+"static/imgs/box-one-medal-bg.png"},1235:function(e,t,a){e.exports=a.p+"static/imgs/box-finish-no-medal.png"},1236:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(9)),r=c(a(2)),o=c(a(7)),i=c(a(5)),u=c(a(6)),s=c(a(1)),l=a(14);function c(e){return e&&e.__esModule?e:{default:e}}a(591);var d=function(e){function t(e){(0,r.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.chartDiv=s.default.createRef(),a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;a.e(0).then(a.t.bind(null,1147,7)).then(function(t){e.myChart=t.init(e.chartDiv,"light"),e.props.getChildEchart(e.myChart);var a=e.props,n=a.type,r=a.xAxisData,o=a.seriesData,i=a.xAxisName,u=a.yAxisName;e.renderChartByType(n,r,o,i,u)})}},{key:"componentWillReceiveProps",value:function(e){try{var t=e.type,a=e.xAxisData,n=e.seriesData,r=e.xAxisName,o=e.yAxisName;this.renderChartByType(t,a,n,r,o)}catch(e){}}},{key:"renderChartByType",value:function(e,t,a,n,r){if(this.myChart)switch(this.myChart.clear(),e){case"line":this.renderLine(t,a,n,r);break;case"bar":this.renderBar(t,a,n,r);break;case"pi":this.renderPi(t,a,n,r);break;default:this.renderLine(t,a,n,r)}}},{key:"renderLine",value:function(e,t,a,n){var r={legend:{},tooltip:{},grid:{top:80,bottom:30},animation:!1,xAxis:{name:a,type:"category",data:e},yAxis:{name:n,type:"value"},series:t.map(function(e){return{name:e.name,type:"line",data:e.data,label:{normal:{show:!1,position:"top",textStyle:{fontSize:12}},emphasis:{show:!0,textStyle:{fontSize:12}}}}})};this.myChart.setOption(r)}},{key:"renderBar",value:function(e,t,a,n){var r={legend:{},grid:{top:80,bottom:30},tooltip:{},animation:!1,xAxis:{name:a,type:"category",data:e},yAxis:{name:n,type:"value"},series:t.map(function(e){return{name:e.name,type:"bar",data:e.data,label:{normal:{show:!1,position:"top",textStyle:{fontSize:12}},emphasis:{show:!0,textStyle:{fontSize:12}}}}})};this.myChart.setOption(r)}},{key:"render",value:function(){var e=this;return s.default.createElement("div",{ref:function(t){return e.chartDiv=t},id:"chartCanvas"})}}]),t}(s.default.Component);t.default=(0,l.connect)(function(e){return{intlr:e.intlr}})(d)},129:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2)),r=o(a(7));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){(0,n.default)(this,e),this.clientList={}}return(0,r.default)(e,[{key:"listen",value:function(e,t){this.clientList[e]||(this.clientList[e]=[]);for(var a=!1,n=0,r=this.clientList[e].length;n<r;n++)if(t===this.clientList[e][n++]){a=!0;break}a||this.clientList[e].push(t)}},{key:"trigger",value:function(){var e=this,t=arguments,a=Array.prototype.shift.call(arguments),n=this.clientList[a];Array.isArray(n)&&n.map(function(a){a.apply(e,t)})}},{key:"remove",value:function(e,t){if(e in this.clientList)if(t&&0!==t.length)for(var a=this.clientList[e].length;a>=0;a--)t===this.clientList[e][a]&&this.clientList[e].splice(a,1);else this.clientList[e].length=0}}],[{key:"getInstance",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}();i.instance=null,t.default=i.getInstance()},1292:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(1291)),r=d(a(9)),o=d(a(2)),i=d(a(7)),u=d(a(5)),s=d(a(6)),l=d(a(1)),c=a(14);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){for(var e=this.props.xAxisData,t=this.props.seriesData,a=[],r=[{title:this.props.xAxisName+" \\ "+this.props.yAxisName,dataIndex:"name",key:"name"}],o=0;o<e.length;o++){for(var i=e[o],u={key:i,name:i},s=0;s<t.length;s++)for(var c=t[s],d=0;d<c.data.length;d++){var f=c.data[d];f[0]===i&&(!0===f[1]?u[c.name]=1:!1===f[1]?u[c.name]=0:u[c.name]=f[1])}a.push(u)}for(var p=0;p<t.length;p++){var h=t[p];r.push({title:h.name,dataIndex:h.name,key:h.name})}return l.default.createElement("div",{className:"table-container"},l.default.createElement(n.default,{columns:r,dataSource:a,pagination:!1,size:"middle",bordered:!0,rowClassName:function(e,t,a){if((t-1)%2==0)return"dark"}}))}}]),t}(l.default.Component);t.default=(0,c.connect)(function(e){return{intlr:e.intlr}})(f)},1294:function(e,t){},1295:function(e,t){},1296:function(e,t,a){e.exports=a(31)(45)},1300:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(a(78)),r=y(a(9)),o=y(a(2)),i=y(a(7)),u=y(a(5)),s=y(a(6)),l=y(a(1)),c=y(a(20)),d=a(14),f=y(a(1299)),p=y(a(1298)),h=y(a(1293));a(591);var m=y(a(1292)),E=y(a(1236)),v=a(599),T=y(a(378)),S=y(a(19));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,o.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));for(var n in a.state={type:"",xAxisName:"",yAxisName:"",chartName:"",xAxisData:[],seriesData:[]},a.listeners={setChartName:a.setChartName.bind(a),setChartType:a.setChartType.bind(a),setAxisName:a.setAxisName.bind(a),updateData:a.updateData.bind(a),clearChart:a.clearChart.bind(a)},a.listeners)S.default.on(n,a.listeners[n]);return a.table=l.default.createRef(),a.renderChart=a.renderChart.bind(a),a.closeChart=a.closeChart.bind(a),a.handleDownload=a.handleDownload.bind(a),a.getChildEchart=a.getChildEchart.bind(a),a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.registerDrag(),this.restoreData()}},{key:"componentWillUnmount",value:function(){for(var e in this.listeners)S.default.removeListener(e,this.listeners[e])}},{key:"getChildEchart",value:function(e){this.echart=e}},{key:"restoreData",value:function(){var e=v.DataChart.getAllData();this.setState({type:e.chartType,xAxisName:e.xAxisName,yAxisName:e.yAxisName,chartName:e.chartName,xAxisData:[].concat((0,n.default)(e.xAxisData)),seriesData:[].concat((0,n.default)(e.seriesData))})}},{key:"handleDownload",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate(),r=e.getHours(),o=e.getMinutes(),i=""+this.state.chartName+t+a+n+r+o;if("table"===this.state.type){var u=c.default.findDOMNode(this.table).getElementsByTagName("table")[0],s=p.default.utils.table_to_book(u,{sheet:"Sheet JS"});return p.default.writeFile(s,i+".csv")}var l=function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],n=atob(t[1]),r=n.length,o=new Uint8Array(r);r--;)o[r]=n.charCodeAt(r);return new Blob([o],{type:a})}(this.echart.getDataURL());h.default.saveAs(l,i+".png")}},{key:"closeChart",value:function(){this.props.closeChart()}},{key:"setChartType",value:function(e){this.setState({type:e})}},{key:"updateData",value:function(e,t){this.setState({xAxisData:[].concat((0,n.default)(e)),seriesData:[].concat((0,n.default)(t))})}},{key:"setAxisName",value:function(e,t){this.setState({xAxisName:e,yAxisName:t})}},{key:"clearChart",value:function(){this.setState({xAxisData:[],seriesData:[]})}},{key:"setChartName",value:function(e){this.setState({chartName:e})}},{key:"registerDrag",value:function(){(0,f.default)(".chart-container").draggable({onmove:this.dragMoveListener})}},{key:"dragMoveListener",value:function(e){var t=e.target,a=(parseInt(t.getAttribute("data-x"))||0)+parseInt(e.dx),n=(parseInt(t.getAttribute("data-y"))||0)+parseInt(e.dy);t.style.webkitTransform=t.style.transform="translate("+a+"px, "+n+"px)",t.setAttribute("data-x",a),t.setAttribute("data-y",n)}},{key:"renderChart",value:function(e){var t=e.currentTarget.getAttribute("datatype");v.DataChart.setType(t)}},{key:"render",value:function(){var e=this,t=this.props.intlr.messages;return l.default.createElement("section",{className:"chart-container"},l.default.createElement("div",{className:"chart-header"},l.default.createElement("h1",{className:"title"},this.state.chartName),l.default.createElement("i",{className:"mblock-icon icon-guanbidawurongqi",onClick:this.closeChart})),l.default.createElement("div",{className:"chart-body"},""===this.state.type?null:"table"===this.state.type?l.default.createElement(m.default,{ref:function(t){return e.table=t},xAxisName:this.state.xAxisName,yAxisName:this.state.yAxisName,xAxisData:this.state.xAxisData,seriesData:this.state.seriesData}):l.default.createElement(E.default,{getChildEchart:this.getChildEchart,type:this.state.type,xAxisName:this.state.xAxisName,yAxisName:this.state.yAxisName,xAxisData:this.state.xAxisData,seriesData:this.state.seriesData})),l.default.createElement("div",{className:"chart-footer"},l.default.createElement("div",{className:"chart-button",onClick:this.handleDownload},l.default.createElement("i",{className:"mblock-icon icon-xiazai"}),l.default.createElement("span",{className:"chart-button-name"},t["BUTTON.CHART.DOWNLOAD"])),l.default.createElement("div",{className:"chart-button "+("table"===this.state.type?"current":""),onClick:this.renderChart,datatype:"table"},l.default.createElement("i",{className:"mblock-icon icon-biaoge"}),l.default.createElement("span",{className:"chart-button-name"},t["BUTTON.CHART.TABLE"])),l.default.createElement("div",{className:"chart-button "+("line"===this.state.type?"current":""),onClick:this.renderChart,datatype:"line"},l.default.createElement("i",{className:"mblock-icon icon-xiantu"}),l.default.createElement("span",{className:"chart-button-name"},t["BUTTON.CHART.LINE"])),l.default.createElement("div",{className:"chart-button "+("bar"===this.state.type?"current":""),onClick:this.renderChart,datatype:"bar"},l.default.createElement("i",{className:"mblock-icon icon-zhuzhuangtu",onClick:this.renderChart}),l.default.createElement("span",{className:"chart-button-name"},t["BUTTON.CHART.BAR"]))))}}]),t}(l.default.Component),N=(0,d.connect)(function(e){return{intlr:e.intlr}},function(e){return{closeChart:function(){e(T.default.actions.close())}}})(g);t.default=N},1301:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(9)),r=d(a(2)),o=d(a(7)),i=d(a(5)),u=d(a(6)),s=d(a(1)),l=a(14),c=a(295);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,c.trackPage)("/list")}},{key:"render",value:function(){}}]),t}(s.default.Component);t.default=(0,l.connect)(function(e){return{account:e.account,intlr:e.intlr}})(f)},1302:function(e,t){},1303:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(28)),r=s(a(22)),o=s(a(1)),i=a(14),u=s(a(16));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.intlr;return o.default.createElement(n.default,{className:"small-modal",width:"100%",visible:!0,onCancel:function(){u.default.replace("/")},footer:null},o.default.createElement("h3",{style:{textAlign:"center",paddingBottom:"20px"}},t.messages["NETWORK.ERR.MSG"]),o.default.createElement(r.default,{block:!0,type:"primary",onClick:e.retry},t.messages["HARDDRIVER.OK_BUTTON"]))};t.default=(0,i.connect)(function(e){return{intlr:e.intlr}})(function(e){return e.isLoading?e.timedOut?null:(e.pastDelay,null):e.error?l(e):null})},1304:function(e,t,a){e.exports=a(31)(204)},1305:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LangChecker=t.Tutorial=t.ShareProjectTo=t.CancelShare=t.ShareSuccess=t.Share=t.UpdaterAppChecker=t.ProjectDelete=t.ConfirmLogout=t.UserDelete=t.ProjectsWeb=t.Feedback=t.About=t.WebSaveAs=t.SaveAs=t.Loading=t.Sprites=t.Calibrate=t.Extensions=t.Example=t.UpdaterFirmwareProgress=t.UpdaterFirmwareNotMatch=t.UpdaterFirmware=t.UpdaterAppRestart=t.ConfirmSave=t.Upload=t.ConnectUnable=t.NoDriver=t.Connect=t.Ifttt=t.Agreement=t.Guardian=t.Age=t.Delete=t.Profile=t.NewPwd=t.Update=t.SetPwd=t.Forget=t.Password=t.EmailNum=void 0;var n=o(a(1304)),r=o(a(1303));function o(e){return e&&e.__esModule?e:{default:e}}var i;t.EmailNum=(0,n.default)({loading:function(){return null},loader:function(){return a.e(39).then(a.t.bind(null,837,7))}}),t.Password=(0,n.default)({loading:function(){return null},loader:function(){return a.e(38).then(a.t.bind(null,836,7))}}),t.Forget=(0,n.default)({loading:function(){return null},loader:function(){return a.e(37).then(a.t.bind(null,835,7))}}),t.SetPwd=(0,n.default)({loading:function(){return null},loader:function(){return a.e(36).then(a.t.bind(null,834,7))}}),t.Update=(0,n.default)({loading:function(){return null},loader:function(){return a.e(35).then(a.t.bind(null,833,7))}}),t.NewPwd=(0,n.default)({loading:function(){return null},loader:function(){return a.e(34).then(a.t.bind(null,832,7))}}),t.Profile=(0,n.default)({loading:function(){return null},loader:function(){return a.e(33).then(a.t.bind(null,831,7))}}),t.Delete=(0,n.default)({loading:function(){return null},loader:function(){return a.e(2).then(a.t.bind(null,479,7))}}),t.Age=(0,n.default)({loading:function(){return null},loader:function(){return a.e(32).then(a.t.bind(null,830,7))}}),t.Guardian=(0,n.default)({loading:function(){return null},loader:function(){return a.e(31).then(a.t.bind(null,829,7))}}),t.Agreement=(0,n.default)({loading:function(){return null},loader:function(){return a.e(30).then(a.t.bind(null,828,7))}}),t.Ifttt=(0,n.default)({loading:function(){return null},loader:function(){return a.e(29).then(a.t.bind(null,827,7))}});i=function(){return Promise.all([a.e(1),a.e(0),a.e(28)]).then(a.t.bind(null,826,7))};t.Connect=(0,n.default)({loading:r.default,loader:i}),t.NoDriver=(0,n.default)({loading:r.default,loader:function(){return a.e(27).then(a.t.bind(null,825,7))}}),t.ConnectUnable=(0,n.default)({loading:function(){return null},loader:function(){return a.e(26).then(a.t.bind(null,824,7))}}),t.Upload=(0,n.default)({loading:function(){return null},loader:function(){return Promise.resolve().then(a.t.bind(null,594,7))}}),t.ConfirmSave=(0,n.default)({loading:function(){return null},loader:function(){return a.e(25).then(a.t.bind(null,823,7))}}),t.UpdaterAppRestart=(0,n.default)({loading:function(){return null},loader:function(){return a.e(24).then(a.t.bind(null,822,7))}}),t.UpdaterFirmware=(0,n.default)({loading:function(){return null},loader:function(){return a.e(23).then(a.t.bind(null,821,7))}}),t.UpdaterFirmwareNotMatch=(0,n.default)({loading:function(){return null},loader:function(){return a.e(22).then(a.t.bind(null,820,7))}}),t.UpdaterFirmwareProgress=(0,n.default)({loading:function(){return null},loader:function(){return a.e(21).then(a.t.bind(null,819,7))}}),t.Example=(0,n.default)({loading:function(){return null},loader:function(){return Promise.all([a.e(1),a.e(0),a.e(20)]).then(a.t.bind(null,818,7))}}),t.Extensions=(0,n.default)({loading:function(){return null},loader:function(){return Promise.all([a.e(1),a.e(0),a.e(19)]).then(a.t.bind(null,817,7))}}),t.Calibrate=(0,n.default)({loading:function(){return null},loader:function(){return a.e(18).then(a.t.bind(null,813,7))}}),t.Sprites=(0,n.default)({loading:function(){return null},loader:function(){return Promise.all([a.e(1),a.e(0),a.e(17)]).then(a.t.bind(null,812,7))}}),t.Loading=(0,n.default)({loading:function(){return null},loader:function(){return a.e(16).then(a.t.bind(null,810,7))}}),t.SaveAs=(0,n.default)({loading:function(){return null},loader:function(){return a.e(15).then(a.t.bind(null,809,7))}}),t.WebSaveAs=(0,n.default)({loading:function(){return null},loader:function(){return a.e(14).then(a.t.bind(null,808,7))}}),t.About=(0,n.default)({loading:r.default,loader:function(){return a.e(13).then(a.t.bind(null,807,7))}}),t.Feedback=(0,n.default)({loading:r.default,loader:function(){return Promise.all([a.e(1),a.e(0),a.e(12)]).then(a.t.bind(null,806,7))}}),t.ProjectsWeb=(0,n.default)({loading:function(){return null},loader:function(){return Promise.all([a.e(0),a.e(11)]).then(a.t.bind(null,805,7))}}),t.UserDelete=(0,n.default)({loading:function(){return null},loader:function(){return a.e(2).then(a.t.bind(null,479,7))}}),t.ConfirmLogout=(0,n.default)({loading:function(){return null},loader:function(){return a.e(10).then(a.t.bind(null,803,7))}}),t.ProjectDelete=(0,n.default)({loading:function(){return null},loader:function(){return a.e(9).then(a.t.bind(null,802,7))}}),t.UpdaterAppChecker=(0,n.default)({loading:function(){return null},loader:function(){return a.e(8).then(a.t.bind(null,801,7))}}),t.Share=(0,n.default)({loading:function(){return null},loader:function(){return a.e(7).then(a.t.bind(null,800,7))}}),t.ShareSuccess=(0,n.default)({loading:function(){return null},loader:function(){return a.e(6).then(a.t.bind(null,799,7))}}),t.CancelShare=(0,n.default)({loading:function(){return null},loader:function(){return a.e(5).then(a.t.bind(null,798,7))}}),t.ShareProjectTo=(0,n.default)({loading:function(){return null},loader:function(){return a.e(4).then(a.t.bind(null,797,7))}}),t.Tutorial=(0,n.default)({loading:function(){return null},loader:function(){return Promise.resolve().then(a.t.bind(null,583,7))}}),t.LangChecker=(0,n.default)({loading:function(){return null},loader:function(){return a.e(3).then(a.t.bind(null,796,7))}})},1306:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(9)),r=f(a(2)),o=f(a(7)),i=f(a(5)),u=f(a(6));t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){function f(){return(0,r.default)(this,f),(0,i.default)(this,(f.__proto__||(0,n.default)(f)).apply(this,arguments))}return(0,u.default)(f,a),(0,o.default)(f,[{key:"componentDidMount",value:function(){(0,d.isWeb)()||(0,c.trackPage)(l.default.location.pathname,t)}},{key:"render",value:function(){return s.default.createElement(e,this.props)}}]),f}(s.default.Component)};var s=f(a(1)),l=f(a(16)),c=a(295),d=a(32);function f(e){return e&&e.__esModule?e:{default:e}}},1307:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1306)),r=a(1305),o=i(a(594));function i(e){return e&&e.__esModule?e:{default:e}}t.default=[{url:"/login",component:(0,n.default)(r.EmailNum),exact:!0},{url:"/login/:type",component:(0,n.default)(r.Password)},{url:"/profile",component:(0,n.default)(r.Profile),exact:!0},{url:"/profile/delete",component:(0,n.default)(r.Delete)},{url:"/updater/app/checker",component:r.UpdaterAppChecker,exact:!0},{url:"/forget",component:(0,n.default)(r.Forget),exact:!0},{url:"/forget/setPwd",component:(0,n.default)(r.SetPwd)},{url:"/update",component:(0,n.default)(r.Update),exact:!0},{url:"/update/newPwd",component:(0,n.default)(r.NewPwd)},{url:"/age",component:(0,n.default)(r.Age)},{url:"/guardian",component:(0,n.default)(r.Guardian)},{url:"/agreement",component:(0,n.default)(r.Agreement)},{url:"/user/ifttt",component:r.Ifttt},{url:"/projects/:type",component:(0,n.default)(r.ProjectsWeb)},{url:"/help/about",component:(0,n.default)(r.About)},{url:"/help/feedback",component:(0,n.default)(r.Feedback)},{url:"/help/shareprojectto",component:(0,n.default)(r.ShareProjectTo)},{url:"/connect",component:r.Connect},{url:"/nodriver",component:r.NoDriver},{url:"/device/unrecognized",component:r.ConnectUnable},{url:"/upload/code",component:o.default},{url:"/confirm/save/:type",component:r.ConfirmSave},{url:"/updater/app/restart",component:r.UpdaterAppRestart},{url:"/updater/firmware",component:r.UpdaterFirmware,exact:!0},{url:"/updater/firmware/notmatch",component:r.UpdaterFirmwareNotMatch,exact:!0},{url:"/updater/firmware/progress",component:r.UpdaterFirmwareProgress,exact:!0},{url:"/example",component:r.Example},{url:"/exts",component:r.Extensions,exact:!0},{url:"/calibrate/:type",component:r.Calibrate,exact:!0},{url:"/sprite/:type",component:r.Sprites},{url:"/loading",component:r.Loading},{url:"/project/saveas/:type/:name",component:r.SaveAs},{url:"/web/saveas",component:r.WebSaveAs},{url:"/projects/:type/delete/:id",component:(0,n.default)(r.ProjectDelete)},{url:"/tutorial",component:r.Tutorial},{url:"/langchecker",component:r.LangChecker}]},1308:function(e,t){},1309:function(e,t){},1310:function(e,t,a){e.exports=a.p+"static/imgs/loading-web.gif"},1312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=E(a(195)),r=E(a(38)),o=E(a(9)),i=E(a(2)),u=E(a(7)),s=E(a(5)),l=E(a(6)),c=E(a(1)),d=a(14),f=E(a(1310)),p=E(a(63)),h=E(a(88));a(1309);var m=E(a(129));function E(e){return e&&e.__esModule?e:{default:e}}var v=100,T=95,S=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.init=function(){m.default.listen("file_download",a.onFileDownload),m.default.listen("file_download_error",a.onFileDownloadError)},a.onFileDownload=function(e){e*=T/v,a.updatePercent(e),e===v&&m.default.remove("file_download")},a.onFileDownloadError=function(){a.props.hideLoadingPage();var e=a.props.intlr.messages;r.default.error(e["UPDATER.PROGRESS.ERROR"]),m.default.remove("file_download_error")},a.state={percent:0},a.init(),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,p.default.instance.project.onProcess(function(t){if(e.mounted){var a=T+5/v*(t.complete/t.total*v);e.updatePercent(a)}})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,m.default.remove("file_download",this.onFileDownload),m.default.remove("file_download_error",this.onFileDownloadError)}},{key:"updatePercent",value:function(e){var t=parseInt(e)>v?v:parseInt(e);this.setState({percent:t}),t==v&&this.props.hideLoadingPage()}},{key:"render",value:function(){var e=this.props.intlr.messages,t=this.state.percent;return c.default.createElement("div",{className:"loading-page-wrapper"},c.default.createElement("div",{className:"loading-page"},c.default.createElement("img",{className:"gif",src:f.default}),c.default.createElement("p",{className:"tip"},e["PROJECT.LOADING_TIP"]),c.default.createElement(n.default,{className:"progress-bar",percent:t,showInfo:!1,strokecolor:"#46B5FF"})))}}]),t}(c.default.Component);t.default=(0,d.connect)(function(e){return{intlr:e.intlr,project:e.project}},function(e){return{hideLoadingPage:function(){return e(h.default.saved({showLoadingPage:!1}))}}})(S)},1313:function(e,t){},1314:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(9)),r=p(a(2)),o=p(a(7)),i=p(a(5)),u=p(a(6)),s=p(a(12)),l=p(a(1)),c=a(14),d=a(90),f=p(a(19));function p(e){return e&&e.__esModule?e:{default:e}}a(1313);var h=function(e){function t(e){(0,r.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={showClass:""},a.listeners={},a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.addListener()}},{key:"componentWillUnmount",value:function(){this.removeListener()}},{key:"addListener",value:function(){var e=this,t=function(e){var t=e.dataTransfer.types;return!(s.default.isArray(t)&&-1===t.indexOf("Files"))};for(var a in this.listeners={drop:function(a){if("/list"!==e.props.location.pathname)return e.preventDefault(a),t(a)&&(e.dragOpenFile(a.dataTransfer.files[0]),e.hideHolder()),!1},dragover:function(a){if("/list"!==e.props.location.pathname)return e.preventDefault(a),t(a)&&e.showHolder(),!1},dragleave:function(t){if("/list"!==e.props.location.pathname)return e.preventDefault(t),e.hideHolder(),!1},dragend:function(t){if("/list"!==e.props.location.pathname)return e.preventDefault(t),e.hideHolder(),!1}},this.listeners)document.body.addEventListener(a,this.listeners[a])}},{key:"removeListener",value:function(){for(var e in this.listeners)document.body.removeEventListener(e,this.listeners[e])}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"hideHolder",value:function(){""!==this.state.showClass&&this.setState({showClass:""})}},{key:"showHolder",value:function(){""===this.state.showClass&&this.setState({showClass:"dragload-holder-show"})}},{key:"dragOpenFile",value:function(e){"/list"===this.props.location.pathname?f.default.emit("DragAddProject",e):f.default.emit("DragOpenFile",e)}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{ref:function(t){return e.dragloadHolder=t},className:"dragload-holder "+this.state.showClass},l.default.createElement("span",null,this.props.intlr.messages["DRAG.HOLDER.TEXT"]))}}]),t}(l.default.Component);t.default=(0,d.withRouter)((0,c.connect)(function(e){return{intlr:e.intlr}})(h))},1315:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(198)),r=g(a(23)),o=g(a(25)),i=g(a(9)),u=g(a(2)),s=g(a(7)),l=g(a(5)),c=g(a(6)),d=g(a(1)),f=g(a(63)),p=g(a(56)),h=g(a(81)),m=g(a(1314)),E=g(a(1312)),v=g(a(19)),T=g(a(21)),S=a(14);a(1308);var y=a(32);function g(e){return e&&e.__esModule?e:{default:e}}var N=function(e){function t(e){return(0,u.default)(this,t),(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.default.loadRemoteProjectFromUrl();case 2:return a=e.sent,e.next=5,f.default.instance.inject("mscratchContainer",a);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={exts:T.default.defaultExts};case 8:n=e.t0,v.default.emit("ExtsFound",n),(0,y.isWeb)()&&(a?v.default.emit("UpdateProjectFromUrl"):h.default.createNewProject());case 11:case"end":return e.stop()}},t,e)}))()}},{key:"shouldComponentUpdate",value:function(e){return this.props.project.showLoadingPage!==e.project.showLoadingPage}},{key:"render",value:function(){var e=this.props.project.showLoadingPage&&T.default.enableProjectLoadingPage;return d.default.createElement(n.default,{className:"mscratch-container-box"},d.default.createElement(m.default,null),e?d.default.createElement(E.default,null):null,d.default.createElement("div",{id:"mscratchContainer",className:"mscratch-container"}))}}]),t}(d.default.Component);t.default=(0,S.connect)(function(e){return{project:e.project}})(N)},1316:function(e,t,a){e.exports=a.p+"static/imgs/icon-copyright.png"},1317:function(e,t){},1318:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(9)),r=f(a(2)),o=f(a(7)),i=f(a(5)),u=f(a(6)),s=f(a(1)),l=a(90),c=a(14);a(1317);var d=f(a(1316));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.intlr;return s.default.createElement("a",{id:"copyright",href:"http://mblock.cc/",target:"_blank",rel:"noopener noreferrer"},s.default.createElement("img",{src:d.default}),e.messages["COPYRIGHT.TEXT"])}}]),t}(s.default.Component);t.default=(0,l.withRouter)((0,c.connect)(function(e){return{intlr:e.intlr}})(p))},1319:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(9)),r=d(a(2)),o=d(a(7)),i=d(a(5)),u=d(a(6)),s=d(a(1)),l=a(14),c=d(a(15));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.intlr,a=e.project.projectType===c.default.PROJECT_TYPE.LOCAL;return s.default.createElement("section",{className:"header-cell"},s.default.createElement("span",{className:"editor-header-local"},a&&t.messages["MENU.FILE.LOCALFILE"]))}}]),t}(s.default.Component);t.default=(0,l.connect)(function(e){return{intlr:e.intlr,project:e.project}})(f)},1320:function(e,t,a){e.exports=a.p+"static/imgs/visitor-avatar.svg"},1321:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(a(119)),r=A(a(134)),o=A(a(23)),i=A(a(25)),u=A(a(485)),s=A(a(9)),l=A(a(2)),c=A(a(7)),d=A(a(5)),f=A(a(6)),p=A(a(1)),h=a(14),m=A(a(15)),E=(A(a(56)),A(a(48)),A(a(296))),v=A(a(72)),T=a(18),S=A(a(35)),y=A(a(21)),g=A(a(16)),N=A(a(129)),_=A(a(484)),O=A(a(1320)),C=A(a(19)),I=a(18);function A(e){return e&&e.__esModule?e:{default:e}}var k=m.default.REQUEST_STATUS,R=function(e){function t(e){var a=this;(0,l.default)(this,t);var c,f=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));f.checkAccountMenu=function(){return p.default.createElement("span",{className:"user-menu menu-trigger"},p.default.createElement(u.default,{icon:"loading"}))},f.handleUserMenuClick=(c=(0,i.default)(o.default.mark(function e(t){var n,r,i,u,s,l,c,d,p,h;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.props,r=n.logout,n.urlToken,i=n.visibleChange,u=n.account,s=u.isInternational,"user:myprojects"!==t.key){e.next=16;break}if(l=f.props.project,c=l.showLoadingPage,d=l.saveStatus,!c&&d!==m.default.PROJECT_SAVE_STATUS.DOING){e.next=6;break}return e.abrupt("return");case 6:if(p=f.props.account,"offline"!==f.networkStatus){e.next=12;break}return T.showErrorMessage.bind(f)("MSG.99999"),e.abrupt("return");case 12:if(p.isLogin){e.next=15;break}return g.default.replace("/login"),e.abrupt("return");case 15:C.default.emit("ClickMenu","MENU.SHOW_WEB_PROJECT_PANEL");case 16:return"user:profile"===t.key&&g.default.push("/profile"),"user:homepage"===t.key&&(h=""+(s?y.default.link.homepage.en:y.default.link.homepage.zh),S.default.openLink(null,h)),"menu:logout"===t.key&&r(function(){return T.showSuccessMessage.bind(f)("USER.LOGOUT.SUCCESS.MSG")},function(){return T.showErrorMessage.bind(f)("USER.LOGOUT.FAIL.MSG")}),i("user",!1),e.abrupt("return",!0);case 21:case"end":return e.stop()}},e,a)})),function(e){return c.apply(this,arguments)}),f.userDropdownMenu=function(){var e=f.props.intlr.messages;return p.default.createElement(r.default,{className:"header-dropdown-menu",onClick:f.handleUserMenuClick.bind(f)},p.default.createElement(r.default.Item,{key:"user:myprojects"},e["MENU.PROJECTS"]),p.default.createElement(r.default.Item,{key:"user:homepage"},e["USER.HOME_PAGE"]),p.default.createElement(r.default.Item,{key:"user:profile"},e["USER.PROFILE"]),p.default.createElement(r.default.Item,{key:"menu:logout"},e["USER.LOGOUT"]))},f.userMenu=function(){var e=f.props,t=e.menu,a=e.account,r=e.visibleChange,o=e.project,i=o.showLoadingPage,s=o.saveStatus;return p.default.createElement(n.default,{disabled:!(!i&&s!==m.default.PROJECT_SAVE_STATUS.DOING),trigger:["hover"],overlay:f.userDropdownMenu(),onVisibleChange:function(e){return r("user",e)},overlayClassName:"account-dropdown"},p.default.createElement("span",{id:"userMenuTrigger",className:"user-menu menu-trigger "+(t.user?"active":"")},p.default.createElement(u.default,{icon:"user",size:30,src:a.data&&(0,I.safeHttps)(a.data.headpic)||_.default})))},f.emptyUserMenu=function(){return p.default.createElement("div",{className:"user-menu menu-trigger",key:"login",onClick:function(){var e=f.props.project,t=e.showLoadingPage,a=e.saveStatus;t||a===m.default.PROJECT_SAVE_STATUS.DOING||g.default.replace("/login")}},p.default.createElement(u.default,{icon:"user",src:O.default}))},f.accountDropdown=function(){var e=f.props.account;return e.checkAccountRequest===k.PENDING?f.checkAccountMenu():e.isLogin?f.userMenu():f.emptyUserMenu()};return N.default.listen("network",function(e){f.networkStatus=e}),f}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return p.default.createElement("section",{className:"header-cell"},this.accountDropdown())}}]),t}(p.default.Component);t.default=(0,h.connect)(function(e){return{account:e.account,menu:e.menu,project:e.project,intlr:e.intlr}},function(e){return{urlToken:function(t,a){return e(v.default.urlToken(t,a))},logout:function(t,a){return e(v.default.strategy.logout(t,a))},visibleChange:function(t,a){return e(E.default.visibleChange(t,a))}}})(R)},1322:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=E(a(119)),r=E(a(134)),o=E(a(9)),i=E(a(2)),u=E(a(7)),s=E(a(5)),l=E(a(6)),c=E(a(1)),d=a(14),f=E(a(12)),p=E(a(19)),h=E(a(16)),m=E(a(15));function E(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){var e,a,n,u;(0,i.default)(this,t);for(var l=arguments.length,d=Array(l),E=0;E<l;E++)d[E]=arguments[E];return a=n=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),n.handleMenuClick=function(e){var t=e.key,a=e.item;if(t&&a){var r=a.props.link;if(t.includes("MENU.OTHER")){var o=n.props.project,i=o.showLoadingPage,u=o.saveStatus;if(i||u===m.default.PROJECT_SAVE_STATUS.DOING)return}r?h.default.push(r):p.default.emit("ClickMenu",t)}return!0},n.disabled=function(e){var t=n.props.menu.operate;return!(!f.default.has(e,"operate")||!f.default.has(t,e.operate))&&!t[e.operate]},n.mainMenu=function(){var e=n.props,t=e.intlr,a=e.menu.webMenus;return c.default.createElement(r.default,{className:"header-dropdown-menu",subMenuOpenDelay:.1,onClick:n.handleMenuClick},a.other.map(function(e){return c.default.createElement(r.default.Item,{key:e.key,link:e.link,disabled:n.disabled(e)},c.default.createElement("span",{className:"menu-label"},t.messages[e.key]))}))},u=a,(0,s.default)(n,u)}return(0,l.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){this.props.intlr;return c.default.createElement(n.default,{trigger:["hover"],overlay:this.mainMenu(),overlayClassName:"other-dropdown"},c.default.createElement("span",{className:"cell-span"},c.default.createElement("i",{className:"mblock-icon icon-more"})))}}]),t}(c.default.Component);t.default=(0,d.connect)(function(e){return{intlr:e.intlr,menu:e.menu,project:e.project}})(v)},1323:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=a(14),o=i(a(16));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.connect)(function(e){return{intlr:e.intlr}})(function(e){return n.default.createElement("section",{className:"header-cell feedback-btn",onClick:function(){o.default.replace("/help/feedback")}},n.default.createElement("i",{className:"mblock-icon icon-feedback"}),n.default.createElement("span",null,e.intlr.messages["MENU.HELP.FEEDBACK"]))})},1327:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(119)),r=m(a(134)),o=m(a(9)),i=m(a(2)),u=m(a(7)),s=m(a(5)),l=m(a(6)),c=m(a(1)),d=a(14),f=m(a(12)),p=m(a(19)),h=m(a(16));a(595),m(a(15));function m(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){var e,a,n,u;(0,i.default)(this,t);for(var l=arguments.length,d=Array(l),m=0;m<l;m++)d[m]=arguments[m];return a=n=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),n.handleMenuClick=function(e){var t=e.key,a=e.item;if(t&&a){var n=a.props.link;n?h.default.push(n):p.default.emit("ClickMenu",t)}return!0},n.disabled=function(e){var t=n.props.menu.operate;return!(!f.default.has(e,"operate")||!f.default.has(t,e.operate))&&!t[e.operate]},n.mainMenu=function(){var e=n.props,t=e.intlr,a=e.menu.webMenus;return c.default.createElement(r.default,{className:"header-dropdown-menu",subMenuOpenDelay:.1,onClick:n.handleMenuClick},a.tutorials.map(function(e){return c.default.createElement(r.default.Item,{key:e.key,link:e.link,disabled:n.disabled(e)},c.default.createElement("span",{className:"menu-label"},t.messages[e.key]))}))},u=a,(0,s.default)(n,u)}return(0,l.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.intlr;return c.default.createElement(n.default,{trigger:["hover"],overlay:this.mainMenu(),overlayClassName:"tutorial-dropdown"},c.default.createElement("span",{className:"cell-span"},c.default.createElement("i",{className:"mblock-icon icon-course"}),e.messages["MENU.TUTORIAL"]))}}]),t}(c.default.Component);t.default=(0,d.connect)(function(e){return{intlr:e.intlr,menu:e.menu,project:e.project}})(E)},1328:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=O(a(22)),r=O(a(23)),o=O(a(25)),i=O(a(9)),u=O(a(2)),s=O(a(7)),l=O(a(5)),c=O(a(6)),d=a(1),f=O(d),p=a(14),h=O(a(21)),m=O(a(15)),E=a(166),v=O(a(81)),T=O(a(19)),S=(O(a(48)),O(a(56))),y=O(a(35)),g=O(a(16)),N=O(a(129)),_=O(a(222));function O(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(e){var a=this;(0,u.default)(this,t);var s=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));s.handlePublishClick=function(){var e,t=(e=(0,o.default)(r.default.mark(function e(){var t,n,o,i,u,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=s.props,n=t.project,o=t.account,t.intlr,i=n.projectId,u=o.isInternational,(0,E.removePageLeave)(),l=u?"en":"zh",location.href=""+h.default.link.project_share[l]+i;case 6:case"end":return e.stop()}},e,a)})),function(){return e.apply(this,arguments)});s.handleSaveListMenuClick(t)},s.handleSaveListMenuClick=function(e){var t=s.props.project,a=t.showLoadingPage,n=t.saveStatus;if(!a&&n!==m.default.PROJECT_SAVE_STATUS.DOING){e="function"==typeof e?e:void 0;var r=s.props,o=r.account,i=r.intlr,u=r.project,l=o.isLogin,c=u.isSelfProject,d=u.isShare,f=u.projectId,p=u.name;"offline"!==s.networkStatus?l?c||!d&&!c?T.default.emit("SaveProject",!1,"web",{name:p},e):T.default.emit("SaveProject",!1,"web",{name:p+"-"+i.messages["MENU.FILE.ADAPT"],isSelfProject:!1,isShare:!0,projectId:S.default.getCorrectId(f)},function(){g.default.replace("/")}):g.default.replace("/login"):(0,_.default)(i.messages)}},s.publish=function(){var e=s.props,t=e.intlr,a=e.project,r=e.account.isLogin,o=a.projectId,i=a.projectType;o="local"!==i&&S.default.getCorrectId(o);var u=a.isSelfProject,l=a.isShare,c=f.default.createElement(n.default,{onClick:function(){var e=s.props.project,t=e.showLoadingPage,a=e.saveStatus;t||a===m.default.PROJECT_SAVE_STATUS.DOING||s.handlePublishClick()},className:"editor-header-publish"},t.messages["BUTTON.SHARE"]),d=f.default.createElement(n.default,{onClick:function(){var e=s.props.account.isInternational,t=s.props.project.showLoadingPage,a=e?"en":"zh";t||y.default.openLink(null,""+h.default.link.project_view[a]+o)},className:"editor-header-publish"},f.default.createElement("i",{className:"mblock-icon icon-chakanzuopin"}),t.messages["MENU.FILE.VIEW_WORKS"]);return I[r?"isLogin":"notLogin"]({isSelfProject:u,isShare:l,view_works:d,publish:c,projectId:o})};return N.default.listen("network",function(e){s.networkStatus=e}),s}return(0,c.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){return f.default.createElement("section",{className:"header-cell user-publish-cell"},this.publish())}}]),t}(d.Component);t.default=(0,p.connect)(function(e){return{project:e.project,account:e.account,intlr:e.intlr}})(C);var I={notLogin:function(e){var t=e.projectId,a=e.view_works,n=e.isShare,r=v.default.getProjectCloudThirdPlatform();return t&&n&&!r?a:null},isLogin:function(e){return A.after(k)(e)}},A=function(e){var t=e.isSelfProject,a=e.isShare,n=e.view_works,r=e.publish;return!!t&&(a?n:r)},k=function(e){var t=e.view_works,a=e.publish;return e.isShare?t:a};Function.prototype.after=function(e){var t=this;return function(){var a=t.apply(this,arguments);return a||e.apply(this,arguments)}}},1329:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=S(a(23)),r=S(a(25)),o=S(a(27)),i=S(a(9)),u=S(a(2)),s=S(a(7)),l=S(a(5)),c=S(a(6)),d=S(a(1)),f=a(14),p=S(a(15)),h=S(a(56)),m=S(a(19)),E=S(a(16)),v=S(a(129)),T=S(a(222));function S(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,u.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));a.saveList=function(){var e=a.props,t=e.intlr,n=e.project,r=n.isSelfProject,i=n.isShare,u=n.projectId,s=n.saveStatus,l=t.messages["MENU.FILE.SAVE"];!u||!i||r&&h.default.getCorrectId(u)||(l=t.messages["MENU.FILE.ADAPT"]);var c=s===p.default.PROJECT_SAVE_STATUS.DOING;return d.default.createElement("button",{className:c?"saving-operation":"save-operation",onClick:a.handleSaveListMenuClick},c?d.default.createElement(o.default,{type:"loading"}):d.default.createElement("i",{className:"mblock-icon icon-save"}),!s&&d.default.createElement("span",{className:"save-msg"},l),s&&d.default.createElement("span",{className:"save-tip"},a.saveMessage()))},a.handleSaveListMenuClick=function(e){var t=a.props.project,n=t.showLoadingPage,r=t.saveStatus;if(!n&&r!==p.default.PROJECT_SAVE_STATUS.DOING){e="function"==typeof e?e:void 0;var o=a.props,i=o.account,u=o.intlr,s=o.project,l=i.isLogin,c=s.isSelfProject,d=s.isShare,f=s.projectId,v=s.name;s.projectType,s.filePath;"offline"!==a.networkStatus?l?!c&&d?m.default.emit("SaveProject",!1,"web",{name:v+"-"+u.messages["MENU.FILE.ADAPT"],isSelfProject:!1,isShare:!0,projectId:h.default.getCorrectId(f)},function(){E.default.replace("/")}):m.default.emit("SaveProject",!1,"web",{name:v},e):E.default.replace("/login"):(0,T.default)(u.messages)}},a.saveMessage=function(){var e=a.props,t=e.intlr,n=e.project,r=n.saveStatus,o=n.saveProgress;switch(r){case p.default.PROJECT_SAVE_STATUS.SUCCESS:return d.default.createElement("span",{className:"editor-header-save"},t.messages["MENU.FILE.SAVE.SUCCESS"]);case p.default.PROJECT_SAVE_STATUS.FAILURE:return d.default.createElement("span",{className:"editor-header-save"},t.messages["MENU.FILE.SAVE.FAIL"]);case p.default.PROJECT_SAVE_STATUS.DOING:return d.default.createElement("span",{className:"editor-header-save"},""+t.messages["MENU.FILE.SAVEING"]+o+"%");default:return""}};return v.default.listen("network",function(e){a.networkStatus=e}),a}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(){var e=(0,r.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.isProjectCanBeVisited(t.project.projectId);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!this.props.isFocusInput&&this.saveList()}}]),t}(d.default.Component);t.default=(0,f.connect)(function(e){return{intlr:e.intlr,account:e.account,project:e.project}})(y)},1330:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=N(a(596)),r=N(a(77)),o=N(a(38)),i=N(a(9)),u=N(a(2)),s=N(a(7)),l=N(a(5)),c=N(a(6)),d=N(a(1)),f=a(14),p=N(a(12)),h=N(a(15)),m=a(18),E=N(a(56)),v=N(a(81)),T=N(a(19)),S=N(a(88)),y=N(a(129)),g=N(a(1329));function N(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){(0,u.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));a.state={value:a.props.intlr.messages["FILENAME.EMPTY"],isFocusInput:!1},a.renameInputOperation=function(e){a.renameInput.input[e]()},a.handleRenameChange=function(e){p.default.trim(e).length>48&&(m.showErrorMessage.bind(a)("PROJECT.NAME.MAX.LENGTH.TEXT"),e=e.substring(0,48)),a.setState({value:e})},a.handlePressEnter=function(){a.renameInput.input.blur()},a.handleRenameFocus=function(){a.setState({isFocusInput:!0}),a.renameInput.input.select()},a.handleRename=function(e){var t=a.props,n=t.project,r=t.intlr,i=t.confirmName,u=n.id,s=n.projectStatus,l=n.projectType,c=n.projectId,d=Date.parse(new Date)/1e3,f=p.default.trim(e);if(a.setState({isFocusInput:!1}),f!==n.name){if("offline"===a.networkStatus&&"list"===l)return a.setState({value:n.name||E.default.getNewProjectName(r.messages["FILENAME.EMPTY"],n.projects)}),void m.showErrorMessage.bind(a)("MSG.99999");if(p.default.isEmpty(f))return m.showErrorMessage.bind(a)("RENAME.ERR.NULL.MSG"),a.setState({value:n.name||E.default.getNewProjectName(r.messages["FILENAME.EMPTY"],n.projects)});if(/^[-+\.]+/.test(f))return m.showErrorMessage.bind(a)("RENAME.ERR.PREFIX.MSG"),void a.setState({value:n.name});if(/[\^\\%&/*~'/?///</>/|/"/(/)/$#,@:;&]+/.test(f))return m.showErrorMessage.bind(a)("RENAME.ERR.CONTAIN.MSG"),void a.setState({value:n.name},function(){return a.renameInputOperation("select")});if(/(^(con)$)|^(con)[/.\s]*\.|(^(prn)$)|^(prn)[/.\s]*\.|(^(aux)$)|^(aux)[/.\s]*\.|(^(nul)$)|^(nul)[/.\s]*\.|(^(com)[0-9]$)|^(com)[0-9]\..*|(^(lpt)[0-9]$)|^(lpt)[0-9][/.\s]*\./i.test(f)){var h=e.match(/con|prn|aux|nul|com[0-9]|lpt[0-9]/i)[0];return o.default.error(h+r.messages["RENAME.ERR.KEY.MSG"]),void a.setState({value:n.name},function(){return a.renameInputOperation("select")})}f=E.default.getNewProjectName(f,n.projects),a.setState({value:f}),v.default.reName(f),i(!0),T.default.emit("RenameProject",{id:u,projectName:f,createdAt:d,projectId:c,syncStatus:s},"web")}},a.projectName=function(){var e=a.props.project,t=e.name,n=e.projectStatus,o=e.showLoadingPage,i=e.saveStatus,u=a.state.value,s=e.isForThirdPlatform||n===h.default.PROJECT_STATUS.WILL_DOWNLOAD||o||i===h.default.PROJECT_SAVE_STATUS.DOING;return d.default.createElement(r.default,{className:"input-rename",ref:function(e){return a.renameInput=e},defaultValue:t,value:u,disabled:s,onChange:function(e){return a.handleRenameChange(e.target.value)},onPressEnter:a.handlePressEnter.bind(a),onClick:a.handleRenameFocus.bind(a),onBlur:function(e){return a.handleRename(e.target.value)},autoComplete:"off"})};return y.default.listen("network",function(e){a.networkStatus=e}),a}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.project;this.state.value!==t.name&&t.name&&this.setState({value:t.name})}},{key:"saveMessage",value:function(){var e=this.props,t=e.intlr;switch(e.project.saveStatus){case h.default.PROJECT_SAVE_STATUS.SUCCESS:return d.default.createElement("span",{className:"editor-header-save-success"},t.messages["MENU.FILE.SAVE.SUCCESS"]);case h.default.PROJECT_SAVE_STATUS.FAILURE:return d.default.createElement("span",{className:"editor-header-save-failure"},t.messages["MENU.FILE.SAVE.FAIL"]);case h.default.PROJECT_SAVE_STATUS.DOING:return d.default.createElement("span",{className:"editor-header-saving"},t.messages["MENU.FILE.SAVEING"]);default:return""}}},{key:"render",value:function(){var e=this.state,t=e.isFocusInput,a=e.value,r=this.props.project,o=r.isForThirdPlatform,i=r.isSelfProject,u={value:a,isFocusInput:t};return d.default.createElement("section",{className:"header-cell"},this.projectName(),d.default.createElement(n.default,{className:"header-divider",type:"vertical"}),o&&!i?null:d.default.createElement(g.default,u))}}]),t}(d.default.Component);t.default=(0,f.connect)(function(e){return{project:e.project,intlr:e.intlr,account:e.account}},function(e){return{confirmName:function(t){return e(S.default.saved({isConfirmName:t}))}}})(_)},1331:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(198)),r=v(a(119)),o=v(a(134)),i=v(a(9)),u=v(a(2)),s=v(a(7)),l=v(a(5)),c=v(a(6)),d=v(a(1)),f=a(14),p=v(a(12)),h=v(a(15)),m=v(a(151)),E=v(a(19));function v(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(e){(0,u.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleMenuClick=function(e){var t=e.key,a=e.item;if(t&&a){var n=a.props.link;n?History.push(n):E.default.emit("ClickMenu",t)}return!0},a.disabled=function(e){var t=a.props.menu.operate;return!(!p.default.has(e,"operate")||!p.default.has(t,e.operate))&&!t[e.operate]},a.mainMenu=function(){var e=a.props,t=e.intlr,n=e.menu,r=a.state.isTurboMode,i=t.langKey,u=t.messages,s=n.webMenus,l=r?"MENU.EDIT.TURBO":"MENU.EDIT.TURBO.OFF",c=s.edit.filter(function(e){return e.key!==l});return d.default.createElement(o.default,{className:"header-dropdown-menu",subMenuOpenDelay:.1,onClick:a.handleMenuClick},c.map(function(e){return d.default.createElement(o.default.Item,{key:e.key,link:e.link,style:e.name===i&&{backgroundColor:"#1EAAFF"},disabled:a.disabled(e)},d.default.createElement("span",{className:"menu-label"},u[e.key]))}))},a.isForbidden=function(){var e=a.props.project,t=e.showLoadingPage,n=e.saveStatus;return!(!t&&n!==h.default.PROJECT_SAVE_STATUS.DOING)},a.renderEdit=function(){var e=a.props.intlr;return d.default.createElement(n.default.Header,{className:"header"},d.default.createElement(r.default,{disabled:a.isForbidden(),trigger:["hover"],overlay:a.mainMenu(),overlayClassName:"edit-dropdown"},d.default.createElement("span",{className:"cell-span"},d.default.createElement("i",{className:"mblock-icon icon-Edit-banshou"}),e.messages["MENU.EDIT"])))},a.state={isTurboMode:!1},a}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;E.default.on("ToggleTurboMode",function(t){e.setState({isTurboMode:t})})}},{key:"render",value:function(){return d.default.createElement("section",{className:"header-cell"},this.renderEdit())}}]),t}(d.default.Component);t.default=(0,f.connect)(function(e){return{intlr:e.intlr,menu:e.menu,project:e.project}},function(e){return{change:function(t){return e(m.default.change(t))}}})(T)},1332:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(a(119)),r=A(a(23)),o=A(a(25)),i=A(a(134)),u=A(a(9)),s=A(a(2)),l=A(a(7)),c=A(a(5)),d=A(a(6)),f=A(a(1)),p=a(90),h=a(14),m=A(a(12)),E=A(a(15)),v=A(a(151)),T=A(a(296)),S=A(a(19)),y=A(a(56)),g=A(a(35)),N=A(a(16)),_=A(a(129)),O=a(32),C=a(18),I=A(a(222));function A(e){return e&&e.__esModule?e:{default:e}}var k="MENU.LANGUAGE",R="MENU.FILE.OPEN.WEB",L="MENU.FILE.SAVE.WEB",w="MENU.FILE.SAVEAS.WEB",P="MENU.FILE.ADAPT.SAVE",b="MENU.FILE.EXPORT",D="MENU.HELP.GUIDE",M="MENU.HELP.ABOUT",U="MENU.HELP.FEEDBACK",x=function(e){function t(e){var a=this;(0,s.default)(this,t);var n,l=(0,c.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));l.disabled=function(e){var t=l.props.menu.operate;return!(!m.default.has(e,"operate")||!m.default.has(t,e.operate))&&!t[e.operate]},l.menuItem=function(e){var t=l.props,a=t.intlr,n=t.project,r=e.menus;if(!m.default.isEmpty(r))return f.default.createElement(i.default.SubMenu,{className:"header-dropdown-menu",key:e.key,title:a.messages[e.key]},r.map(function(e){return l.menuItem(e)}));var o=["MENU.FILE.SAVE.WEB",P];if(n.isForThirdPlatform&&-1!==o.indexOf(e.key))return null;return(0,O.isInternational)()||-1===["MENU.FILE.PUBLISH.TO"].indexOf(e.key)?f.default.createElement(i.default.Item,{key:e.key,link:e.link,disabled:l.disabled(e)},f.default.createElement("span",{className:"menu-label"},a.messages[e.key]),g.default.has("shortcutkey")&&!m.default.isEmpty(e.shortcutKey)&&f.default.createElement("span",null,(0,C.hasDarwin)()?e.shortcutKey[1]:e.shortcutKey[0])):null},l.updateMenus=function(e,t){var a=function(e,t,a){return e.map(function(e){return e.key===t&&(e.key=a),e})};return{isSelfProject:function(e){return a(e,"MENU.FILE.ADAPT.SAVE","MENU.FILE.SAVE.WEB")},notSelfProject:function(e){return a(e,"MENU.FILE.SAVE.WEB","MENU.FILE.ADAPT.SAVE")}}[t?"isSelfProject":"notSelfProject"](e)},l.mainMenu=function(){var e=l.props,t=e.menu,a=e.project.isSelfProject,n=t.webMenus;return f.default.createElement(i.default,{className:"header-dropdown-menu",subMenuOpenDelay:.1,onClick:l.handleMenuClick},l.updateMenus(n.file,a).map(function(e){return l.menuItem(e)}))},l.handleSaveListMenuClick=function(e){var t=l.props,a=t.account,n=t.intlr,r=t.project,o=r.showLoadingPage,i=r.saveStatus,u=r.name;if(!o&&i!==E.default.PROJECT_SAVE_STATUS.DOING){e="function"==typeof e?e:void 0;var s=a.isLogin,c=r.isSelfProject,d=r.projectId;"offline"!==l.networkStatus?s?c?S.default.emit("SaveProject",!1,"web",{name:u},e):S.default.emit("SaveProject",!1,"web",{name:u+"-"+n.messages["MENU.FILE.ADAPT"],isSelfProject:!1,isShare:!0,projectId:y.default.getCorrectId(d)},function(){N.default.replace("/")}):N.default.replace("/login"):(0,I.default)(n.messages)}},l.handleMenuClick=(n=(0,o.default)(r.default.mark(function e(t){var n,o,i,u,s,c,d,f,p,h,m,v,T,g,_,O,A,x,j,F,G=t.key,B=t.item;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.props,o=n.intlr,i=n.project,u=i.saveStatus,!G||!B){e.next=24;break}if(s=l.props,c=s.change,d=s.visibleChange,f=s.account,p=B.props.link,h=0===G.indexOf(R),m=0===G.indexOf(L),v=0===G.indexOf(w),T=0===G.indexOf(P),g=0===G.indexOf(k),_=0===G.indexOf(b),O=0===G.indexOf(D),A=0===G.indexOf(M),x=0===G.indexOf(U),u!==E.default.PROJECT_SAVE_STATUS.DOING||_||O||A||x){e.next=16;break}return e.abrupt("return");case 16:if("MENU.FILE.PUBLISH.TO"!==G){e.next=22;break}if(f.isLogin){e.next=20;break}return N.default.replace("/login"),e.abrupt("return");case 20:j=function(e){N.default.replace("/help/shareprojectto"),y.default.saveAsThirdPlatformProject(e)},S.default.emit("SaveProject",!1,"web",{name:i.name},j);case 22:(h||m||v)&&"offline"===l.networkStatus?(F=h?"MSG.99999":"MENU.FILE.UPLOAD.FAIL",h?C.showErrorMessage.bind(l)(F):(0,I.default)(o.messages)):(h||m||v)&&!f.isLogin?N.default.replace("/login"):g?c(G.replace(k,"")):p?N.default.push(p):T?l.handleSaveListMenuClick():S.default.emit("ClickMenu",G),d("main",!1);case 24:return e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,a)})),function(e){return n.apply(this,arguments)});return _.default.listen("network",function(e){l.networkStatus=e}),l}return(0,d.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.visibleChange,a=e.project,r=e.intlr,o=a.showLoadingPage;return f.default.createElement("section",{className:"header-cell main-menu-cell"},f.default.createElement(n.default,{disabled:!!o,trigger:["hover"],overlay:this.mainMenu(),overlayClassName:"file-dropdown",onVisibleChange:function(e){return t("main",e)}},f.default.createElement("span",{className:"cell-span"},f.default.createElement("i",{className:"mblock-icon icon-file"}),r.messages["MENU.FILE"])))}}]),t}(f.default.Component);t.default=(0,p.withRouter)((0,h.connect)(function(e){return{intlr:e.intlr,menu:e.menu,project:e.project,account:e.account}},function(e){return{change:function(t){return e(v.default.change(t))},visibleChange:function(t,a){return e(T.default.visibleChange(t,a))}}})(x))},1333:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(119)),r=f(a(134)),o=f(a(73)),i=f(a(23)),u=f(a(25)),s=f(a(1)),l=a(14),c=f(a(151)),d=f(a(15));function f(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.connect)(function(e){return{intlr:e.intlr,project:e.project}},function(e){return{change:function(t){return e(c.default.change(t))}}})(function(e){var t,a,l,c,f,p,h,m,E=(t=(0,u.default)(i.default.mark(function t(a){var n=a.key,r=a.item;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n&&r&&e.change(n);case 1:case"end":return t.stop()}},t,void 0)})),function(e){return t.apply(this,arguments)});return s.default.createElement("section",{className:"header-cell language-cell"},s.default.createElement(n.default,{overlayClassName:"language-dropdown",disabled:(p=e.project,h=p.showLoadingPage,m=p.saveStatus,!(!h&&m!==d.default.PROJECT_SAVE_STATUS.DOING)),trigger:["hover"],overlay:(a=e.intlr,l=a.supportedLangs,c=l&&(0,o.default)(l)||[],f=a.langKey,s.default.createElement(r.default,{className:"header-dropdown-menu",subMenuOpenDelay:.1,onClick:E},c.map(function(e){return s.default.createElement(r.default.Item,{style:e===f&&{backgroundColor:"rgba(0, 0, 0, 0.1174)"},key:""+e},l[e].name)})))},s.default.createElement("i",{className:"cell-span mblock-icon icon-language"})))})},1334:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(9)),r=h(a(2)),o=h(a(7)),i=h(a(5)),u=h(a(6)),s=a(1),l=h(s),c=a(14),d=a(32),f=h(a(35)),p=h(a(21));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,r.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.handleClick=function(){var e=(0,d.isInternational)()?p.default.link.mblock_homePage.en:p.default.link.mblock_homePage.zh;f.default.openLink(null,e)},a.state={logoText:""},a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.intlr,a=e.account,n=(0,d.isInternational)(t,a)?"mBlock":"慧编程";this.setState({logoText:n})}},{key:"componentWillReceiveProps",value:function(e){var t=e.intlr,a=e.account;if(t.langKey!==this.props.intlr.langKey||a.isInternational!==this.props.account.isInternational){var n=(0,d.isInternational)(t,a)?"mBlock":"慧编程";this.setState({logoText:n})}}},{key:"render",value:function(){var e=this.state.logoText;return l.default.createElement("div",{className:"header-logo",onClick:this.handleClick},e)}}]),t}(s.Component);t.default=(0,c.connect)(function(e){return{intlr:e.intlr,account:e.account}})(m)},1335:function(e,t){},1336:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(a(198)),r=A(a(726)),o=A(a(596)),i=A(a(9)),u=A(a(2)),s=A(a(7)),l=A(a(5)),c=A(a(6)),d=A(a(1)),f=A(a(15)),p=A(a(129)),h=a(90),m=a(14);a(597),a(1335);var E=A(a(1334)),v=A(a(1333)),T=A(a(1332)),S=A(a(1331)),y=A(a(1330)),g=A(a(1328)),N=A(a(1327)),_=A(a(1323)),O=A(a(1322)),C=A(a(1321)),I=A(a(1319));function A(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){return(0,u.default)(this,t),(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=function(){var e=navigator.onLine?"online":"offline";p.default.trigger("network",e)};window.addEventListener("online",e,!1),window.addEventListener("offline",e,!1)}},{key:"render",value:function(){var e=this.props.project,t=e.isForThirdPlatform,a=e.isSelfProject;return d.default.createElement(n.default.Header,{className:"header header-web"},d.default.createElement("section",{className:"header-cell"},d.default.createElement(E.default,null),d.default.createElement(v.default,null),d.default.createElement(T.default,null),d.default.createElement(S.default,null),d.default.createElement(o.default,{className:"header-divider",type:"vertical"}),d.default.createElement(y.default,null),t&&!a?null:d.default.createElement(g.default,null),d.default.createElement(I.default,null)),d.default.createElement("section",{className:"header-cell"},d.default.createElement(N.default,null),d.default.createElement(_.default,null),d.default.createElement(O.default,null),d.default.createElement(C.default,null)),d.default.createElement("input",{id:"OpenProjectTarget",type:"file",accept:(0,r.default)(f.default.PROJECT_SUFFIX,function(e){return"."+e}).join(","),hidden:!0}))}}]),t}(d.default.Component);t.default=(0,h.withRouter)((0,m.connect)(function(e){return{project:e.project}})(k))},1337:function(e,t){},1338:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(23)),r=m(a(143)),o=m(a(25)),i=m(a(40)),u=m(a(2)),s=m(a(7)),l=m(a(12)),c=m(a(113)),d=m(a(35)),f=m(a(15)),p=m(a(21)),h=m(a(118));function m(e){return e&&e.__esModule?e:{default:e}}var E=function(){function e(){(0,u.default)(this,e),this.domain="",this.timer=null,this.spriteList=[];c.default.configToRequestAction.call(this,{sprites:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/scratch/sprites.json"},mbsprites:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/makeblock/sprites.json"},customizeSprites:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/customize/sprites.json"},costumes:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/scratch/costumes.json"},mbcostumes:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/makeblock/costumes.json"},customizeCostumes:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/customize/costumes.json"},backdrops:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/scratch/backdrops.json"},mbbackdrops:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/makeblock/backdrops.json"},customizeBackdrops:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/customize/backdrops.json"},sounds:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/scratch/sounds.json"},mbsounds:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/makeblock/sounds.json"},customizeSounds:{method:"get",local:!0,loadJosn:!0,url:"static/sprites/customize/sounds.json"}},c.default)}return(0,s.default)(e,[{key:"custom",value:function(e){return new i.default(function(t,a){d.default.read(h.default.join(p.default.userSpriteFilePath,p.default.spriteCustom[e]).replace(/\\/g,"/")).then(function(n){try{if(n&&n.data){var r=[],o=n.data.map(function(e){return{md5:e.md5,src:h.default.join(p.default.userSpriteFilePath,e.md5)}}),i=h.default.join(p.default.userSpriteFilePath,p.default.spriteCustom[e]);d.default.searchExistByJson(p.default.userSpriteFilePath,o,!0,i).then(function(e){var a=e.exists;try{r=n.data.filter(function(e){return-1!==a.indexOf(e.md5)}),t(r)}catch(e){t(n.data)}})}else t([])}catch(e){a(e)}})})}},{key:"searchExistByJson",value:function(e,t,a,n){return new i.default(function(r,o){d.default.searchExistByJson(e,t,a,n).then(function(e){var t=e.exists;try{var a=t.length>0;r(a)}catch(e){o(e)}})})}},{key:"searchExistInJson",value:function(e,t){return new i.default(function(a,n){d.default.searchExistInJson(e,t).then(function(e){try{var t=e.length>0;a(t)}catch(e){n(e)}})})}},{key:"write",value:function(e,t,a){var n=this;return new i.default(function(r,o){n.spriteList.push(e),clearTimeout(n.timer),n.timer=setTimeout(function(){var e=l.default.cloneDeep(n.spriteList),i=[];if(i.push({opts:{path:h.default.join(p.default.userSpriteFilePath,p.default.spriteCustom[t]),isAppend:!0,sync:!0,method:a},data:e}),t===f.default.SPRITE_TYPE.USER_LIBS&&"remove"!==a){var u=[];e.forEach(function(e){u.push({name:e.name,md5:e.md5,type:"costume"})}),i.push({opts:{path:h.default.join(p.default.userSpriteFilePath,p.default.spriteCustom[f.default.SPRITE_TYPE.USER_COSTUMES]),isAppend:!0,sync:!0,method:a},data:u})}try{n.spriteList=[],d.default.writeJson(i).then(function(e){r(e)},function(e){o(e)})}catch(t){n.spriteList=e.concat(n.spriteList),o(t)}},1e3)})}},{key:"upload",value:function(e){return d.default.uploadToLocal({path:[p.default.userSpriteBasepath,e.md5]},e.source,e.property)}},{key:"remove",value:function(e){return d.default.removeFromLocal({path:[p.default.userSpriteBasepath,e.md5]})}},{key:"merge",value:function(){var e=(0,o.default)(n.default.mark(function e(t,a){var o,i,u,s,c;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.default.join(p.default.userSpriteFilePath,p.default.spriteCustom[f.default.SPRITE_TYPE.USER_LIBS]),e.prev=1,e.next=4,d.default.read(o);case 4:if(i=e.sent,u=JSON.parse(i.data),t=l.default.sortBy(t),!l.default.isArray(u)){e.next=15;break}return s=[],c=[],u.forEach(function(e,n){-1===t.indexOf(n)?(s.push(e),a===n&&(a=s.length-1)):c=c.concat(e.json.costumes)}),s[a].json.costumes=s[a].json.costumes.concat(c),e.next=14,d.default.write(o,(0,r.default)(s));case 14:return e.abrupt("return",e.sent);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1);case 20:case"end":return e.stop()}},e,this,[[1,17]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getpaginationSettings",value:function(e,t){var a=e.defaultPageSize,n=t.length,r=n/a,o=n%a,i=void 0,u=void 0,s=void 0;return r>e.current?(i=((r=e.current)-1)*a,u=r*a,s=e.current):l.default.isEmpty(t)||0!==o?(u=(i=((r=Math.floor(r)+1)-1)*a)+o,s=r):(i=1===r?0:(r-1)*a,u=r*a,s=r),{signStart:i,signEnd:u,current:s}}}]),e}();t.default=new E},1339:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(113),o=(n=r)&&n.__esModule?n:{default:n};var i={},u={add:{domain:o.default.domainconfig.mblock,method:"post",url:"mblock/feedback"}};o.default.configToRequestAction.call(i,u,o.default),t.default=i},1340:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemUi=void 0;var n=u(a(38)),r=u(a(40)),o=u(a(294)),i=u(a(165));function u(e){return e&&e.__esModule?e:{default:e}}t.SystemUi={id:"system.ui",alert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return new r.default(function(r){e&&(e=(0,i.default)(e),n.default[t](e,a)),r()})},message:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return new r.default(function(r){e&&(e=(0,i.default)(e),n.default[t](e,a)),r()})},dialog:function(e,t){return new r.default(function(a){a((0,o.default)(e,t))})}}},1341:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UIFirmware=void 0;var n,r=a(19),o=(n=r)&&n.__esModule?n:{default:n};var i=function(){},u=function(){},s=t.UIFirmware={id:"system.ui.firmware.uploader",open:function(e){o.default.emit("ShowUpdateFirmware",e)},onOK:function(e){i=function(t){try{e(t)}catch(e){}}},onFail:function(e){u=function(t){try{e(t)}catch(e){}}}};s.open=s.open.bind(s),s.onOK=s.onOK.bind(s),s.onFail=s.onFail.bind(s),o.default.on("downloadFirmwareOK",function(e){return i(e)}),o.default.on("downloadFirmwareFail",function(e){return u(e)})},1342:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UIProgess=void 0;var n,r=a(19),o=(n=r)&&n.__esModule?n:{default:n},i=a(598);var u=i.firmwareUploader.id;t.UIProgess={id:"system.ui.progress",log:function(e){o.default.emit("CompilerLog",e)},error:function(e){u==i.firmwareUploader.id?o.default.emit("uploadFirmwareFail",e):(i.codeUploader.id,o.default.emit("UploadCodeProgress",e,null))},setProgress:function(e){e>=100||(u==i.firmwareUploader.id?o.default.emit("uploadFirmwareProgress",e):(i.codeUploader.id,o.default.emit("UploadCodeProgress",null,{type:"progress",percent:e})))},open:function(e){(u=e)==i.firmwareUploader.id?o.default.emit("ClickUploadOnlineFirmware"):(i.codeUploader.id,o.default.emit("ClickUploadCode"))},close:function(){u==i.firmwareUploader.id?o.default.emit("uploadFirmwareFinished"):(i.codeUploader.id,o.default.emit("UploadCodeProgress",null,{type:"finish",percent:100}))}}},1343:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeProcessor=void 0;var n=o(a(40)),r=o(a(377));function o(e){return e&&e.__esModule?e:{default:e}}t.codeProcessor={id:"code.processor",getDriver:function(e){var t=r.default.getMiddleware(e);return function(e,a,r,o){return new n.default(function(n,r){t({code:e,options:a}).then(function(e){return n(e.code)},r)})}}}},1344:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Account=void 0;var n=s(a(40)),r=s(a(19)),o=s(a(438)),i=s(a(48)),u=s(a(15));function s(e){return e&&e.__esModule?e:{default:e}}var l=!1,c={id:"account",getToken:function(){return new n.default(function(e){e(i.default.get(u.default.USER_ACCESS_TOKEN_KEY))})},getServiceKey:function(e,t){return o.default.accesstoken(e,t)},getUserInfo:function(){return new n.default(function(e){e(i.default.get(u.default.USER_INFO_KEY))})},onLogin:function(e){return r.default.on("Login",e),function(){r.default.removeListener("Login",e)}},onLogout:function(e){return r.default.on("Logout",e),function(){r.default.removeListener("Logout",e)}},isLogin:function(){return n.default.resolve(l)}};r.default.on("Login",function(){l=!0}),r.default.on("Logout",function(){l=!1}),t.Account=c},1345:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Iot=void 0;var n,r=a(40),o=(n=r)&&n.__esModule?n:{default:n};var i=a(92),u=a(113).default,s=a(18);t.Iot={id:"iot",getServiceKey:function(e,t){return new o.default(function(a){a(i.UserService.accesstoken(e,t))})},getDomain:function(e){return new o.default(function(t){var a="";"cloudList"===e?a=s.translateRequestUrlForEU(u.domainconfig.iot):"weather"===e?a=s.translateRequestUrlForEU(u.domainconfig.weather):"air"===e&&(a=s.translateRequestUrlForEU(u.domainconfig.air)),t(a)})}}},1346:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1345),r=a(1344),o=a(599),i=a(598),u=a(1343),s=a(1342),l=a(1341),c=a(1340);t.default={Iot:n.Iot,Account:r.Account,codeUploader:i.codeUploader,firmwareUploader:i.firmwareUploader,codeProcessor:u.codeProcessor,UIProgess:s.UIProgess,DataChart:o.DataChart,UIFirmware:l.UIFirmware,SystemUi:c.SystemUi}},1347:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2)),r=o(a(7));function o(e){return e&&e.__esModule?e:{default:e}}var i=new(function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"getChannelId",value:function(){return this.channelId}},{key:"setChannelId",value:function(e){this.channelId=e}}]),e}());t.default=i},1348:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paginationChange=t.classifyChange=t.search=t.type=t.merge=t.checked=t.editMode=t.cleanFileList=t.remove=t.add=t.selected=void 0;var n=c(a(23)),r=c(a(25)),o=c(a(19)),i=c(a(15)),u=c(a(92)),s=c(a(12)),l=a(379);function c(e){return e&&e.__esModule?e:{default:e}}t.selected=function(e){return{type:l.SELECTED,payload:{selected:e}}},t.add=function(e,t){return function(a){a({type:l.ADD,payload:{isAdding:!0}});o.default.emit("AddSprite",e,t,!1,function(e){a({type:l.ADD,payload:{selected:{},isAdding:!1}}),e&&History.push("/")})}},t.remove=function(e){return{type:l.REMOVE,payload:{sprite:e}}},t.cleanFileList=function(){return{type:l.SPRITE_CLEAN_FILELIST,payload:{fileList:[],backup:{}}}},t.editMode=function(e){return{type:l.SPRITE_EDIT_MODE,payload:{isEdit:e}}},t.checked=function(e){return{type:l.SPRITE_CHECKED,payload:{checkedIndex:e}}},t.merge=function(e,t){var a,o={type:l.SPRITE_MERGE,payload:{status:i.default.REQUEST_STATUS.PENDING}};return a=(0,r.default)(n.default.mark(function a(r){var s;return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r(o),s=i.default.SPRITE_TYPE.USER_LIBS,a.prev=2,a.next=5,u.default.Sprite.merge(e,t);case 5:if(!a.sent){a.next=15;break}return a.next=9,u.default.Sprite.custom(s);case 9:o.payload[s]=a.sent,o.payload.checkedIndex=[],o.payload.fileList=[],o.status=i.default.REQUEST_STATUS.DONE,a.next=16;break;case 15:o.status=i.default.REQUEST_STATUS.FAILED;case 16:a.next=22;break;case 18:a.prev=18,a.t0=a.catch(2),o.status=i.default.REQUEST_STATUS.FAILED;case 22:r(o);case 23:case"end":return a.stop()}},a,void 0,[[2,18]])})),function(e){return a.apply(this,arguments)}},t.type=function(e){return{type:l.SPRITE_TYPE,payload:{type:e}}},t.search=function(e,t){var a={type:l.SPRITE_SEARCH,payload:{searchText:t}};return function(n,r){var o=r().sprite,i=o.backup;s.default.has(i,e)&&!s.default.isEmpty(i[e])||(i[e]=o[e]);try{s.default.isEmpty(t)?(a.payload[e]=i[e],i[e]=[]):a.payload[e]=s.default.filter(i[e],function(e){return-1!==e.name.toLowerCase().indexOf(s.default.trim(t.toLowerCase()))})}catch(e){}a.payload.backup=i,n(a)}},t.classifyChange=function(e){return{type:l.SPRITE_CLASSIFY_CHANGE,payload:e}},t.paginationChange=function(e){var t=e.paginationSettings;return{type:l.SPRITE_PAGINATION_CHANGE,payload:{paginationSettings:t}}}},1349:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(3)),r=y(a(11)),o=y(a(39)),i=y(a(30)),u=y(a(23)),s=y(a(25)),l=y(a(12)),c=y(a(15)),d=y(a(92)),f=y(a(19)),p=y(a(21)),h=y(a(118)),m=y(a(82)),E=y(a(16)),v=(y(a(486)),a(18)),T=a(379),S=a(1348);function y(e){return e&&e.__esModule?e:{default:e}}var g,N=(g=(0,s.default)(u.default.mark(function e(t,a,n){var r,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!p.default.defaultAssets.customize){e.next=7;break}return e.next=4,d.default.Sprite[t]();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:if(r=e.t0,!p.default.defaultAssets.makeblock){e.next=15;break}return e.next=12,d.default.Sprite[a]();case 12:e.t1=e.sent,e.next=16;break;case 15:e.t1=[];case 16:if(o=e.t1,!p.default.defaultAssets.scratch){e.next=23;break}return e.next=20,d.default.Sprite[n]();case 20:e.t2=e.sent,e.next=24;break;case 23:e.t2=[];case 24:return i=e.t2,e.abrupt("return",r.concat(o).concat(i));case 28:return e.prev=28,e.t3=e.catch(0),e.abrupt("return",[]);case 32:case"end":return e.stop()}},e,void 0,[[0,28]])})),function(e,t,a){return g.apply(this,arguments)}),_=function(e){var t,a=e.file,n=e.type,d=e.source,f=(0,i.default)(e,["file","type","source"]);return t=(0,s.default)(u.default.mark(function e(t,i){var s,p,h,m,E,y,g;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i(),p=s.sprite,h=p[n]||[],m=l.default.cloneDeep(f),e.t0=d,e.t0){e.next=8;break}return e.next=7,(0,v.getBase64)(a);case 7:e.t0=e.sent;case 8:m.source=e.t0,E=[m].concat(h),t((0,S.search)(n,"")),t((0,S.paginationChange)({paginationSettings:(0,o.default)({},p.paginationSettings,{signStart:0,current:1,signEnd:p.paginationSettings.defaultPageSize})})),y=0;case 13:if(!(y<E.length)){e.next=21;break}if(E[y].md5!==m.md5){e.next=18;break}return E[y].status=c.default.REQUEST_STATUS.DONE,e.abrupt("break",21);case 18:y++,e.next=13;break;case 21:g=m,setTimeout(function(){var e;t({type:T.SPRITE_SAVE,payload:(e={},(0,r.default)(e,n,E),(0,r.default)(e,"selected",g),e)})},0);case 23:case"end":return e.stop()}},e,void 0)})),function(e,a){return t.apply(this,arguments)}};t.default={update:function(e,t){var a,n={type:T.UPDATE,spriteType:e,payload:{status:c.default.REQUEST_STATUS.PENDING}};return a=(0,s.default)(u.default.mark(function a(r){return u.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,a.t0=e,a.next=a.t0===c.default.SPRITE_TYPE.LIBS?4:a.t0===c.default.SPRITE_TYPE.COSTUMES?10:a.t0===c.default.SPRITE_TYPE.BACKDROPS?16:a.t0===c.default.SPRITE_TYPE.SOUNDS?22:28;break;case 4:return a.t1=t,a.next=7,N("customizeSprites","mbsprites","sprites");case 7:return a.t2=a.sent,n.payload[c.default.SPRITE_TYPE.LIBS]=a.t1.concat.call(a.t1,a.t2),a.abrupt("break",29);case 10:return a.t3=t,a.next=13,N("customizeCostumes","mbcostumes","costumes");case 13:return a.t4=a.sent,n.payload[c.default.SPRITE_TYPE.COSTUMES]=a.t3.concat.call(a.t3,a.t4),a.abrupt("break",29);case 16:return a.t5=t,a.next=19,N("customizeBackdrops","mbbackdrops","backdrops");case 19:return a.t6=a.sent,n.payload[c.default.SPRITE_TYPE.BACKDROPS]=a.t5.concat.call(a.t5,a.t6),a.abrupt("break",29);case 22:return a.t7=t,a.next=25,N("customizeSounds","mbsounds","sounds");case 25:return a.t8=a.sent,n.payload[c.default.SPRITE_TYPE.SOUNDS]=a.t7.concat.call(a.t7,a.t8),a.abrupt("break",29);case 28:return a.abrupt("break",29);case 29:a.next=34;break;case 31:a.prev=31,a.t9=a.catch(0);case 34:n.payload.status=c.default.REQUEST_STATUS.DONE,r(n);case 36:case"end":return a.stop()}},a,void 0,[[0,31]])})),function(e){return a.apply(this,arguments)}},list:function(e){var t,a={type:T.LIST,payload:{status:c.default.REQUEST_STATUS.PENDING}};return t=(0,s.default)(u.default.mark(function t(n){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,t.t0=e,t.next=t.t0===c.default.SPRITE_TYPE.LIBS?4:t.t0===c.default.SPRITE_TYPE.COSTUMES?8:t.t0===c.default.SPRITE_TYPE.BACKDROPS?12:t.t0===c.default.SPRITE_TYPE.SOUNDS?16:t.t0===c.default.SPRITE_TYPE.USER_LIBS?20:t.t0===c.default.SPRITE_TYPE.USER_COSTUMES?20:t.t0===c.default.SPRITE_TYPE.USER_BACKDROPS?20:t.t0===c.default.SPRITE_TYPE.USER_SOUNDS?20:24;break;case 4:return t.next=6,N("customizeSprites","mbsprites","sprites");case 6:return a.payload[c.default.SPRITE_TYPE.LIBS]=t.sent,t.abrupt("break",25);case 8:return t.next=10,N("customizeCostumes","mbcostumes","costumes");case 10:return a.payload[c.default.SPRITE_TYPE.COSTUMES]=t.sent,t.abrupt("break",25);case 12:return t.next=14,N("customizeBackdrops","mbbackdrops","backdrops");case 14:return a.payload[c.default.SPRITE_TYPE.BACKDROPS]=t.sent,t.abrupt("break",25);case 16:return t.next=18,N("customizeSounds","mbsounds","sounds");case 18:return a.payload[c.default.SPRITE_TYPE.SOUNDS]=t.sent,t.abrupt("break",25);case 20:return t.next=22,d.default.Sprite.custom(e);case 22:return a.payload[e]=t.sent,t.abrupt("break",25);case 24:return t.abrupt("break",25);case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(0);case 30:a.payload.status=c.default.REQUEST_STATUS.DONE,n(a);case 32:case"end":return t.stop()}},t,void 0,[[0,27]])})),function(e){return t.apply(this,arguments)}},selected:function(e){return{type:T.SELECTED,payload:{selected:e}}},checked:S.checked,add:function(e,t){return function(a){a({type:T.ADD,payload:{isAdding:!0}}),f.default.emit("AddSprite",e,t,!1,function(e){a({type:T.ADD,payload:{selected:{},isAdding:!1}}),e&&E.default.push("/")})}},draw:function(e){return function(){try{var t={name:"Empty",md5:"cd21514d0531fdffb22204e0ec5ed84a.svg",type:"costume",tags:[],info:[0,0,1]};switch(e){case c.default.SPRITE_TYPE.LIBS:t={name:"Empty",md5:"cd21514d0531fdffb22204e0ec5ed84a.svg",fileurl:"./static/sprites/cd21514d0531fdffb22204e0ec5ed84a.svg",type:"sprite",tags:[],info:[0,1,0],json:{objName:"Empty",sounds:[],costumes:[{costumeName:"empty",baseLayerID:-1,baseLayerMD5:"cd21514d0531fdffb22204e0ec5ed84a.svg",fileurl:"./static/sprites/cd21514d0531fdffb22204e0ec5ed84a.svg",bitmapResolution:1,rotationCenterX:0,rotationCenterY:0}],currentCostumeIndex:0,scratchX:36,scratchY:28,scale:1,direction:90,rotationStyle:"normal",isDraggable:!1,indexInLibrary:59,visible:!0,spriteInfo:{}}};break;case c.default.SPRITE_TYPE.COSTUMES:t.name="costume1";break;case c.default.SPRITE_TYPE.BACKDROPS:t.name="backdrop1"}f.default.emit("AddSprite",e,t,!0)}catch(e){}}},remove:function(e){return{type:T.REMOVE,payload:{sprite:e}}},save:_,removeExt:function(e){var t,a=e.data,o=e.type,i={type:T.SPRITE_REMOVE_EXT};return t=(0,s.default)(u.default.mark(function e(t,s){var f,m,E,v,T,S,y,g,N,_,O,C;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f=s().sprite,m=f.fileList,E=f.backup,v=s().sprite[o],T=a.md5,e.prev=3,i.payload={removeExtRequest:c.default.REQUEST_STATUS.PENDING},t(i),S=!1,y="",o===c.default.SPRITE_TYPE.USER_LIBS?y=h.default.join(p.default.userSpriteFilePath,p.default.spriteCustom[c.default.SPRITE_TYPE.USER_COSTUMES]):o===c.default.SPRITE_TYPE.USER_COSTUMES&&(y=h.default.join(p.default.userSpriteFilePath,p.default.spriteCustom[c.default.SPRITE_TYPE.USER_LIBS])),!y){e.next=13;break}return e.next=12,d.default.Sprite.searchExistInJson(y,T);case 12:S=e.sent;case 13:if(S){e.next=16;break}return e.next=16,d.default.Sprite.remove(a);case 16:return e.next=18,d.default.Sprite.write.call(d.default.Sprite,a,o,"remove");case 18:e.sent&&(N=m.filter(function(e){return e.md5!==T}),v=v.filter(function(e){return e.md5!==T}),_=E,l.default.isEmpty(E.fileList)||(O=E.fileList.filter(function(e){return e.md5!==T}),_=(0,n.default)({},_,{fileList:O})),l.default.isEmpty(E[o])||(C=E[o].filter(function(e){return e.md5!==T}),_=(0,n.default)({},_,(0,r.default)({},o,C))),i.payload=(g={fileList:N},(0,r.default)(g,o,v),(0,r.default)(g,"selected",{}),(0,r.default)(g,"backup",_),(0,r.default)(g,"removeExtRequest",c.default.REQUEST_STATUS.DONE),g),t(i)),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3);case 25:case"end":return e.stop()}},e,void 0,[[3,22]])})),function(e,a){return t.apply(this,arguments)}},type:S.type,merge:S.merge,search:S.search,editMode:S.editMode,cleanFileList:S.cleanFileList,classifyChange:S.classifyChange,paginationChange:S.paginationChange,recordSound:function(e){var t="data:audio/wav;base64,"+(0,v.bufferToBase64)(e.data),a=(0,v.getFileName)(e.md5),n=e.name;m.default.dispatch(_({id:a,name:n,md5:e.md5,source:t,property:{isSound:!0},type:"user_sounds"})),E.default.push("/sprite/sounds/user")}}},14:function(e,t,a){e.exports=a(31)(147)},1408:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=O(a(28)),r=O(a(22)),o=O(a(163)),i=O(a(80)),u=O(a(162)),s=O(a(40)),l=O(a(164)),c=O(a(78)),d=O(a(381)),f=O(a(146)),p=O(a(1350)),h=O(a(39)),m=O(a(77)),E=O(a(9)),v=O(a(2)),T=O(a(7)),S=O(a(5)),y=O(a(6)),g=O(a(46)),N=O(a(12)),_=O(a(1));function O(e){return e&&e.__esModule?e:{default:e}}var C=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof g.default){var r=0;for(n=(0,g.default)(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},I=["input","number","checkbox","radio","select"],A=function(e){function t(e){(0,v.default)(this,t);var a=(0,S.default)(this,(t.__proto__||(0,E.default)(t)).call(this,e));return a.state={objOptions:{},isLoading:!1,loading:{},values:a.mapFieldsValue(e.config.fields)},a}return(0,y.default)(t,e),(0,T.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.values,a=this.mapFieldsValue(e.config.fields);N.default.isEqual(t,a)||this.setState({values:a})}},{key:"mapFieldsValue",value:function(e){var t={};return e.forEach(function(e){N.default.isEmpty(e.type)||(t[e.id]=e.value)}),t}},{key:"fieldText",value:function(e){var t=this.props.formatMessage;if(e&&!N.default.isEmpty(e)){var a="p",n="",r={};return N.default.isString(e)?n=e:N.default.isObject(e)&&(a=e.tag||"p",n=e.text,r=e.style||{}),n=t({id:n,defaultMessage:n}),_.default.createElement(a,{style:r},n)}return null}},{key:"fieldContent",value:function(e){var t=this,a=e.type,n=e.value,r=e.props,o=void 0===r?{}:r,i=e.onChange,u=this.props.formatMessage,s=this.state.values;if(!N.default.isUndefined(a)&&!N.default.isUndefined(n)&&!N.default.isEmpty(a))switch(a.toLowerCase()){case"image":return _.default.createElement("p",null,_.default.createElement("img",{style:{maxWidth:"100%",display:"block"},alt:"is a picture",src:n}));case"text":return _.default.createElement("p",null,u({id:n.toString(),defaultMessage:n.toString()}));case"input":return _.default.createElement(m.default,(0,h.default)({},o,{style:{width:"100%"},defaultValue:s[e.id]||e.value,onChange:function(a){return t.fieldValue(e.id,a.target.value,i)}}));case"number":return _.default.createElement(p.default,{style:{width:"100%"}});case"checkbox":return _.default.createElement(f.default,null);case"radio":return _.default.createElement(d.default,null);case"select":return this.selectField(e)}return null}},{key:"transProps",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],n=this.state,r=n.objOptions,o=void 0===r?{}:r,i=n.values,u=t.onBlur,s=void 0===u?function(){}:u,l=t.onSearch,d=void 0===l?function(){}:l,f=t.onSelect,p=void 0===f?function(){}:f,m=t.onDeselect,E=void 0===m?function(){}:m,v=t.onFocus,T=void 0===v?function(){}:v,S=t.onPopupScroll,y=void 0===S?function(){}:S,g=t.onInputKeyDown,N=void 0===g?function(){}:g,_=t.onMouseEnter,O=void 0===_?function(){}:_,I=t.onMouseLeave,A=void 0===I?function(){}:I,k=(t.onChange,C(t,["onBlur","onSearch","onSelect","onDeselect","onFocus","onPopupScroll","onInputKeyDown","onMouseEnter","onMouseLeave","onChange"])),R=function(t){t instanceof Array&&t.length>0&&(o[a]=t,e.setState({objOptions:o}))},L=function(t){i[a]=t,e.setState({values:i})};return(0,h.default)({onBlur:function(){s()},onFocus:function(){T()},onSearch:function(e){d(e,R)},onSelect:function(e){p(e,L)},onDeselect:function(e){E.apply(void 0,(0,c.default)(e))},onPopupScroll:function(){y()},onInputKeyDown:function(e){N.apply(void 0,(0,c.default)(e))},onMouseEnter:function(e){O.apply(void 0,(0,c.default)(e))},onMouseLeave:function(e){A.apply(void 0,(0,c.default)(e))},onChange:function(e){L(e)}},k)}},{key:"selectField",value:function(e){var t=this.state,a=t.values,n=t.objOptions,r=e.props,o=e.id;return _.default.createElement(l.default,(0,h.default)({style:{width:"100%"},value:a[e.id]||e.value},this.transProps(r,o)),this.fieldSelectOptions(n[o]||e.options))}},{key:"fieldSelectOptions",value:function(e){var t=this.props.formatMessage,a=[],n=function(e){try{for(var n=0;n<e.length;n++){var r=e[n],o=N.default.isString(r)?r:r.text,i=N.default.isString(r)?r:r.value.toString();a.push(_.default.createElement(l.default.Option,{key:n,value:i},t({id:o,defaultMessage:o})))}}catch(e){}};if(N.default.isFunction(e)){var r=e();r instanceof s.default?r.then(function(e){n(e)}):n(r)}else N.default.isArray(e)&&n(e);return a}},{key:"fieldValue",value:function(e,t,a){var n=this.state.values;return n[e]=t,this.setState({values:n}),N.default.isFunction(a)&&a(t),t}},{key:"field",value:function(e,t){var a=e.layout,n=void 0===a?{span:24,style:{}}:a,r=n.span,o=n.style,s={id:e.id||"cfgUIField"+t,key:t,span:r,style:o};if(e.type&&-1!==I.indexOf(e.type)){var l=this.props.formatMessage,c=e.label||"";return _.default.createElement(u.default,(0,h.default)({},s),_.default.createElement(i.default.Item,{label:l({id:c,defaultMessage:c}),extra:e.info},this.fieldContent(e)))}return _.default.createElement(u.default,(0,h.default)({},s),this.fieldText(e.label),this.fieldContent(e),this.fieldText(e.info))}},{key:"content",value:function(e){var t=this;try{if(e&&!N.default.isEmpty(e))return _.default.createElement(o.default,{type:"flex",gutter:16},e.map(function(e,a){return t.field(e,a)}))}catch(e){}return null}},{key:"changeLoading",value:function(e,t){var a=this.state.loading;a[e]=t,this.setState({isLoading:t,loading:a})}},{key:"handleButtonClick",value:function(e){var t=this,a=e.id,n=e.handle,r={values:this.state.values,button:this[a],close:this.props.onCancel||function(){}};if(n&&N.default.isFunction(n)){var o=n(r);o instanceof s.default&&(this.changeLoading(a,!0),o.then(function(){t.changeLoading(a,!1)}).catch(function(e){}))}else r.close()}},{key:"footer",value:function(e){var t=this;return e&&!N.default.isEmpty(e)?_.default.createElement("section",{className:"button-container"},e.map(function(e,a){var n=e.id,o=e.type,i=void 0===o?"primary":o,u=e.ghost,s=e.style,l=void 0===s?{}:s,c=t.state.loading[n],d={type:i,ghost:u,style:l,key:a,ref:function(e){return t[n]=e},loading:c,onClick:function(){return t.handleButtonClick(e)}},f=t.props.formatMessage,p=e.text;return c&&(p=e.loadingText||e.text),p=f({id:p,defaultMessage:p}),_.default.createElement(r.default,(0,h.default)({},d),p)})):null}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,r=e.config,o=this.props.formatMessage,i=this.state.isLoading;if(r&&!N.default.isEmpty(r)){var u=r.title,s=r.width,l=void 0===s?480:s,c=r.maskClosable,d=void 0!==c&&c,f=r.closable,p=void 0===f||f,h=r.fields,m=r.buttons,E=!i&&p,v=u;return u&&(v=o({id:u,defaultMessage:u})),_.default.createElement(n.default,{title:v,destroyOnClose:!0,className:"custom-modal",width:l,visible:t,keyboard:E,maskClosable:d,closable:E,footer:this.footer(m),onCancel:a},this.content(h))}return null}}]),t}(_.default.Component);t.default=A},1409:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(39)),r=f(a(9)),o=f(a(2)),i=f(a(7)),u=f(a(5)),s=f(a(6)),l=f(a(12)),c=f(a(1)),d=f(a(1408));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,o.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={visible:!1,config:e.config},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this._changeVisible(!0)}},{key:"_changeVisible",value:function(e){this.state.visible!==e&&this.setState({visible:e})}},{key:"open",value:function(e){l.default.isEqual(e,this.state.config)||this.setState({config:e}),this._changeVisible(!0)}},{key:"show",value:function(){this._changeVisible(!0)}},{key:"close",value:function(){this._changeVisible(!1)}},{key:"render",value:function(){var e=this.props.formatMessage,t=this.state,a=t.visible,r={config:t.config,visible:a,formatMessage:e,onCancel:this.close.bind(this)};return c.default.createElement(d.default,(0,n.default)({},r))}}]),t}(c.default.Component);t.default=p},1411:function(e,t,a){"use strict";var n,r=a(19),o=(n=r)&&n.__esModule?n:{default:n},i=a(295);o.default.on("LogConnectDevice",function(e,t,a){e&&e.name&&(0,i.trackEvent)(e.name,"connect_"+(t?"ok":"fail"),{el:a})}),o.default.on("LogDisconnectDevice",function(e,t){e&&e.name&&(0,i.trackEvent)(e.name,"disconnect",{el:t})}),o.default.on("LogUploadCode",function(e,t,a){e&&(0,i.trackEvent)(e,"upload_code_"+(t?"ok":"fail"),{el:a})}),o.default.on("LogUpdateFirmware",function(e,t,a){e&&e.name&&(0,i.trackEvent)(e.name,"update_firmware_"+(t?"ok":"fail"),{el:a})}),o.default.on("LogMblockUpdate",function(e){var t="update_mblock";void 0!==e&&(t+=e?"_ok":"_fail"),(0,i.trackEvent)("mblock",t)}),o.default.on("LogExtension",function(e,t){(0,i.trackEvent)("extension",t?"load":"unload",{el:e})})},1412:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2)),r=o(a(7));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,e),this.prevValue=0,this.value=0,this.waitingTime=0,this.size=t.size&&Number(t.size)||100,this.processedSize=0,this.leftSize=this.size,this.timeout=t.timeout||6e4,this.onsucceeded=t.onsucceeded,this.onerror=t.onerror,this.onupdated=t.onupdated,this.children=[],this.disposed=!1,this.updateValue(0)}return(0,r.default)(e,[{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.size=Number(e)||100}},{key:"getValue",value:function(){return this.value}},{key:"addChild",value:function(t){t instanceof e&&-1===this.children.indexOf(t)&&(t.parent=this,this.children.push(t))}},{key:"compute",value:function(e){e&&(this.processedSize=e/100*this.size);for(var t=this.children.reduce(function(e,t){return e+t.size},this.size),a=this.children.reduce(function(e,t){return e+t.processedSize},this.processedSize),n=this.parent;n;)t+=this.parent.size,a+=this.parent.processedSize,n=this.parent.parent;return Math.round(a/t*1e3)/10}},{key:"updateValue",value:function(e){if(!this.disposed){if(e){if((e=Number(e))>100)return;if(e<0)return}this.waitingTime=0,this.fakeTime=Date.now(),this.prevValue=this.value,this.value=this.compute(e),this.parent,this.triggerUpdate();for(var t=this.parent;t;)t.updateValue(),t=t.parent;this.value<100?this.startFake():this.triggerSucceeded()}}},{key:"startFake",value:function(){var e=this;this.parent||this.disposed||(this.stopFake(),this.fakeTimeId=setInterval(function(){e.updateFakeValue()},1e3))}},{key:"stopFake",value:function(){clearInterval(this.fakeTimeId)}},{key:"updateFakeValue",value:function(){this.disposed||(navigator.onLine?(this.waitingTime=this.fakeTime?Date.now()-this.fakeTime:0,this.value+=.1,this.triggerUpdate(this.value),this.waitingTime>=this.timeout&&this.triggerTimeoutError()):this.triggerOfflineError())}},{key:"triggerUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value;this.disposed||e>this.prevValue&&"function"==typeof this.onupdated&&(e=Math.round(10*e)/10,this.onupdated(e))}},{key:"triggerTimeoutError",value:function(){this.triggerError(new Error("Timeout: waiting time over "+this.waitingTime))}},{key:"triggerError",value:function(e){"function"==typeof this.onerror&&this.onerror(e);for(var t=this.parent;t;)t.triggerError(e),t=t.parent;this.dispose()}},{key:"triggerOfflineError",value:function(){this.triggerError(new Error("Offline: not connected to the Internet "))}},{key:"triggerSucceeded",value:function(){"function"==typeof this.onsucceeded&&this.onsucceeded(),this.dispose()}},{key:"dispose",value:function(){this.disposed=!0,this.prevValue=0,this.value=0,this.fake=0,this.waitingTime=0,this.onsucceeded=null,this.onerror=null,this.onupdated=null,this.parent=null,this.stopFake(),this.children.forEach(function(e){e.dispose()}),this.children=[]}}]),e}();t.default=i},1413:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(30)),r=h(a(23)),o=h(a(25)),i=h(a(2)),u=h(a(7)),s=h(a(39)),l=h(a(113)),c=h(a(48)),d=h(a(15)),f=h(a(709)),p=a(32);function h(e){return e&&e.__esModule?e:{default:e}}var m=function(){return c.default.get(d.default.USER_ACCESS_TOKEN_KEY)},E=function(){return(0,s.default)({},{client:null,checkpoint:null,retryCount:0,name:null,uploadId:null})},v=function(){function e(){(0,i.default)(this,e),this.domain=l.default.domainconfig.cloud[(0,p.getInternational)()];l.default.configToRequestAction.call(this,{uploadToken:{method:"get",url:"cloud/token/upload"},uploadImgToken:{method:"get",url:"cloud/token/coverupload"}},l.default),this.coverImg=E(),this.project=E()}return(0,u.default)(e,[{key:"getProjectToken",value:function(){return this.uploadToken({_HEADER_:{utoken:m(),pid:1}})}},{key:"getCoverImgToken",value:function(){return this.uploadImgToken({_HEADER_:{utoken:m(),pid:2}})}},{key:"multipartUploadCoverImg",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a){var i,u,s,l,c,d,p,h=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.coverImg=E(),i=null,e.prev=2,e.next=5,this.getCoverImgToken();case 5:i=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),e.t0;case 11:if(!i){e.next=30;break}return u={"Content-Encoding":"gzip",timeout:3e4,partSize:102400,progress:function(){var e=(0,o.default)(r.default.mark(function e(t,n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n&&(h.coverImg.checkpoint=n,h.coverImg.name=n.name,h.coverImg.uploadId=n.uploadId),"function"==typeof a&&a(100*t);case 2:case"end":return e.stop()}},e,h)}));return function(t,a){return e.apply(this,arguments)}}()},l=(s=i).commitId,c=(0,n.default)(s,["commitId"]),this.coverImg.client=new f.default(c),this.coverImg.name=l,d=null,e.prev=17,e.next=20,this.multipartUpload(this.coverImg.client,l,t,u);case 20:if(!(p=e.sent)||!p.res||200!==p.res.status){e.next=23;break}return e.abrupt("return",p.res.requestUrls[0]);case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(17),d=e.t1;case 28:throw this.abortAll(),d;case 30:case"end":return e.stop()}},e,this,[[2,8],[17,25]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"multipartUploadProject",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a,i){var u,s,l,c,d,p,h,v,T,S,y,g,N,_,O,C,I=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.project=E(),u=null,e.prev=2,e.next=5,this.getProjectToken();case 5:u=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),e.t0;case 11:if(!u){e.next=34;break}return l=(s=u).commitId,c=s.callbackUrl,d=(0,n.default)(s,["commitId","callbackUrl"]),p="coverImage=${x:coverImage}&utoken=${x:utoken}&pid=${x:pid}&fileName=${x:fileName}&fsize=${size}&bucket=${bucket}&object=${object}&etag=${etag}&size=${size}&commitId=${x:commitId}&handle=${x:handle}&projectName=${x:projectName}&projectId=${x:projectId}&createdAt=${x:createdAt}",h=i.projectId,v=i.projectName,T=i.localName,S=i.createdAt,y=i.coverImage,g=i.isSelfProject,N={url:c,body:p,customValue:{utoken:m(),pid:"1",commitId:l,fileName:T,handle:g?Number(h)>0?"edit":"create":"adapt",projectName:v,projectId:String(h),coverImage:y||"null",createdAt:String(S)}},_={"Content-Encoding":"gzip",timeout:3e4,partSize:102400,callback:N,progress:function(){var e=(0,o.default)(r.default.mark(function e(t,n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n&&(I.project.checkpoint=n,I.project.name=n.name,I.project.uploadId=n.uploadId),"function"==typeof a&&a(100*t);case 2:case"end":return e.stop()}},e,I)}));return function(t,a){return e.apply(this,arguments)}}()},this.project.client=new f.default(d),this.project.name=l,O=null,e.prev=21,e.next=24,this.multipartUpload(this.project.client,l,t,_);case 24:if(!(C=e.sent)||!C.data||0!==C.data.code){e.next=27;break}return e.abrupt("return",{projectId:C.data.data.projectId||h,commitId:l});case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(21),O=e.t1;case 32:throw this.abortAll(),O;case 34:case"end":return e.stop()}},e,this,[[2,8],[21,29]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"multipartUpload",value:function(e,t,a,n){var r=this;if(e){var o={};return e===this.coverImg.client?o=this.coverImg:e===this.project.client&&(o=this.project),o.checkpoint&&(n.checkpoint=o.checkpoint),e.multipartUpload(t,a,n).then(function(e){return e}).catch(function(i){if(e.isCancel())throw i;!i||"ConnectionTimeoutError"!==i.code&&-1===i.name.toLowerCase().indexOf("connectiontimeout")||o.retryCount<3&&(o.retryCount++,r.multipartUpload(e,t,a,n))})}}},{key:"abortMultipartUpload",value:function(e){var t=e.client,a=e.name,n=e.uploadId;if(t){t.cancel();try{if(a&&n)return t.abortMultipartUpload(a,n);if(a)return t.delete(a)}catch(e){}}}},{key:"abortAll",value:function(){this.abortMultipartUpload(this.coverImg),this.abortMultipartUpload(this.project)}}]),e}();t.default=v},1414:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=i(a(16));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"gotoPath",value:function(e){o.default.location.pathname!==e&&o.default.push({pathname:e})}}]),e}();t.default=new u},1415:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultState=void 0;var _regenerator=__webpack_require__(23),_regenerator2=_interopRequireDefault(_regenerator),_extends2=__webpack_require__(3),_extends3=_interopRequireDefault(_extends2),_asyncToGenerator2=__webpack_require__(25),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_lodash=__webpack_require__(12),_lodash2=_interopRequireDefault(_lodash),_emitter=__webpack_require__(19),_emitter2=_interopRequireDefault(_emitter),_store=__webpack_require__(48),_store2=_interopRequireDefault(_store),_constant=__webpack_require__(15),_constant2=_interopRequireDefault(_constant),_index=__webpack_require__(437),_index2=_interopRequireDefault(_index),_ext=__webpack_require__(91),_util=__webpack_require__(18),_action=__webpack_require__(618);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var list=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={type:_action.EXT_ACTION.LIST,payload:{}};return e=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(r){var o;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[],"ready"!==_index2.default.loadDataStatus){e.next=6;break}return e.next=4,_index2.default.prepare();case 4:e.next=8;break;case 6:return e.next=8,(0,_util.getReady)(function(){return"loading"!==_index2.default.loadDataStatus});case 8:try{"common"===t?o=(o=_index2.default.exts||[]).map(function(e){return(0,_extends3.default)({},e,{installing:!1})}):"devices"===t&&(o=_index2.default.devices),a&&(0,_action.preloadExt)(o),"common"===t?(n.payload.exts=o,n.payload.userExts=_index2.default.userExts):(n.payload.devices=o,n.payload.userDevices=_index2.default.userDevices),r(n)}catch(e){}case 9:case"end":return e.stop()}},e,void 0)})),function(t){return e.apply(this,arguments)}},add=function add(info,successCb,failCb){return function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(dispatch,getState){var updateList,isLoaded,installed;return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return updateList=function(e){var t=getState().extension.exts.map(function(t){return t.id===info.id?(0,_extends3.default)({},t,{installing:e}):t});dispatch({type:_action.EXT_ACTION.ADD,payload:{exts:t}})},updateList(!0),_context2.next=4,(0,_ext.loadExt)(info,!0);case 4:isLoaded=_context2.sent,isLoaded?(!0!==info.device&&(installed=eval(_store2.default.get(_constant2.default.INSTALLED_EXT))||[],-1===installed.indexOf(info.id.toLowerCase())&&installed.push(info.id.toLowerCase()),_store2.default.set(_constant2.default.INSTALLED_EXT,installed),_emitter2.default.emit("LogExtension",info.id,!0),dispatch({type:_action.EXT_ACTION.ADD,payload:{installed:installed}})),updateList(!1),successCb&&successCb()):(updateList(!1),failCb&&failCb());case 6:case"end":return _context2.stop()}},_callee2,void 0)}));return function(e,t){return _ref2.apply(this,arguments)}}()},remove=function remove(extId,successCb,failCb){var installed=eval(_store2.default.get(_constant2.default.INSTALLED_EXT))||[];return!0===(0,_ext.unloadExt)(extId)?(_lodash2.default.remove(installed,function(e){return e===extId.toLowerCase()}),_store2.default.set(_constant2.default.INSTALLED_EXT,installed),successCb&&successCb(),_emitter2.default.emit("LogExtension",extId,!1)):failCb&&failCb(),{type:_action.EXT_ACTION.REMOVE,payload:{installed:installed}}},load=(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(t){var a;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"success"===_index2.default.loadDataStatus){e.next=4;break}return e.next=4,_index2.default.prepare();case 4:_lodash2.default.isArray(t)&&!_lodash2.default.isEmpty(t)&&(a=_index2.default.devices.concat(_index2.default.exts),_lodash2.default.isArray(_index2.default.userExts)&&(a=_index2.default.userExts.concat(a)),_lodash2.default.isArray(_index2.default.userDevices)&&(a=_index2.default.userDevices.concat(a)),t.map(function(e){var t=_lodash2.default.find(a,function(t){return(t&&t.id||"").toLowerCase()===e.toLowerCase()});t&&(0,_ext.loadExt)(t)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,void 0,[[0,7]])})),function(e){return _ref3.apply(this,arguments)}),_ref3,defaultState=exports.defaultState={exts:[],devices:[],tags:[],installed:[],list:[]};exports.default={list:list,add:add,remove:remove,load:load}},1416:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=R(a(3)),r=R(a(143)),o=R(a(23)),i=R(a(38)),u=R(a(25)),s=R(a(2)),l=R(a(7)),c=R(a(12)),d=a(18),f=R(a(48)),p=R(a(15)),h=R(a(35)),m=a(197),E=R(a(88)),v=R(a(56)),T=R(a(63)),S=R(a(1414)),y=R(a(19)),g=R(a(16)),N=R(a(81)),_=R(a(151)),O=R(a(1413)),C=R(a(1412)),I=R(a(21)),A=a(166),k=a(392);function R(e){return e&&e.__esModule?e:{default:e}}var L={},w=!0,P=function(){function e(t){(0,s.default)(this,e),this.store=t}return(0,l.default)(e,[{key:"getMyProjects",value:function(){var e=(0,u.default)(o.default.mark(function e(){var t,a,n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!I.default.showCopyrightLogo){e.next=2;break}return e.abrupt("return");case 2:return t=this.store.getState(),a=t.intlr,n=[],e.next=6,this.getCloudProjects();case 6:(r=e.sent).error?(E.default.syncMsg(this.store,p.default.PROJECT_SYNC_STATUS.NONETWORK),i.default.warning(a.messages["NETWORK.ERR.MSG"])):(n=r,v.default.syncWebList(n)),this.store.dispatch({type:k.SYNC_PROJECTS,payload:{projects:n}}),this.setInfoBaseProjects();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setInfoBaseProjects",value:function(){var e=(0,u.default)(o.default.mark(function e(){var t,a,n,r,i,u,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store.getState(),a=t.project,n=a.projectId,r=a.projects,n=v.default.getCorrectId(n),i=v.default.isSelfProject(n),e.next=6,v.default.fetchProjectBaseInfoById(n);case 6:u=e.sent,s=i?v.default.hasShared(r,n):!u||void 0===u.isShare||1===Number(u.isShare),N.default.initName(r),N.default.setProSelfAndShare(i,s),w&&(w=!1,this.updateRemoteProjectFromUrl(u));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"NewProject",value:function(){N.default.isSaved()?(T.default.instance.clear(),g.default.replace({pathname:"/"}),N.default.createNewProject("list"),this.store.dispatch(E.default.saved({isConfirmName:!1,nextProjectInfo:null}))):(this.saveProjectCache(),this.store.dispatch(E.default.saveNextProjectInfo({projectType:p.default.PROJECT_TYPE.LIST})),"/confirm/save/new"!==g.default.location.pathname&&g.default.push({pathname:"/confirm/save/new"}))}},{key:"openProject",value:function(){var e=(0,u.default)(o.default.mark(function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.default.isSaved()){e.next=9;break}return T.default.instance.clearLayout(),t&&N.default.setLoadingPageState(!0),this.store.dispatch(E.default.saved({isConfirmName:!0,nextProjectInfo:null})),e.next=6,this.loadProject(t,a,n);case 6:g.default.replace("/"),e.next=14;break;case 9:return N.default.setCurrentFile(t),e.next=12,this.saveProjectCache();case 12:"{}"!==(0,r.default)(n)&&this.store.dispatch(E.default.saveNextProjectInfo(n)),S.default.gotoPath("/confirm/save/open");case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadProject",value:function(){var e=(0,u.default)(o.default.mark(function e(t,a,n){var r,i,u,s,l,c,f,h,m,S,y,_,O;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.store.getState(),i=r.project,u=r.intlr,s=i.projects,l=i.isShare,c=u.messages,f={title:c["PROJECT.SHOW.DIALOG.TITLE"],filters:[{name:c["PROJECT.DIALOG.FILTER.NAME"],extensions:p.default.PROJECT_SUFFIX}],properties:["openFile"]},h=n.cacheName||n.name||i.name,a!==p.default.PROJECT_TYPE.LIST){e.next=12;break}this.loadProjectById(t),m=v.default.isSelfProject(t),S=v.default.hasShared(s,t),N.default.setProSelfAndShare(m,S),e.next=29;break;case 12:if(a!==p.default.PROJECT_TYPE.EXAMPLE){e.next=17;break}N.default.setProSelfAndShare(!0,!1),this.loadExample(t,h),e.next=29;break;case 17:return e.prev=17,e.next=20,T.default.instance.import(t||i.file,f);case 20:(y=e.sent)&&(_=y.filePath,this.store.dispatch(E.default.filePath(_)),h=_?(0,d.getFileName)(_):h,h=v.default.getNewProjectName(h,s),N.default.setProSelfAndShare(!0,!1),this.loadProjectByFileData(h,"",y.data,{projectType:a}),"/"!==g.default.location.pathname&&g.default.push({pathname:"/"})),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(17),O=i.cacheProjectType,N.default.setProSelfAndShare(!0,l),this.store.dispatch(E.default.saved({projectType:O,cacheProjectType:""}));case 29:case"end":return e.stop()}},e,this,[[17,24]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"SaveProject",value:function(){var e=(0,u.default)(o.default.mark(function e(t){var a,n,r,i,u,s,l,c,d,h,m,v,S,g,_,I,k,R,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.store.getState(),n=a.project,r=n.saveStatus,i=n.nextProjectInfo,u=n.cacheProjectType,this.checkIsLogin()&&r!==p.default.PROJECT_SAVE_STATUS.DOING){e.next=5;break}return i.projectType===p.default.PROJECT_TYPE.LOCAL&&this.store.dispatch(E.default.saved({projectType:u,cacheProjectType:"",nextProjectInfo:null})),e.abrupt("return");case 5:if(N.default.setProjectSaveStatus("DOING"),e.t0=L.projectData,e.t0){e.next=11;break}return e.next=10,T.default.instance.getProjectJson();case 10:e.t0=e.sent;case 11:if((s=e.t0)&&!(s.size<1e3)){e.next=15;break}return N.default.saveError(),e.abrupt("return");case 15:if(f.default.get(p.default.USER_ACCESS_TOKEN_KEY)){e.next=19;break}return y.default.emit("AuthLogin"),N.default.saveError(),e.abrupt("return");case 19:return this.projectOss=new O.default,l=new C.default({size:s.size,timeout:p.default.PROJECT_SAVE_TIMEOUT,onupdated:function(e){N.default.saveProjectProgress(e)},onerror:function(e){N.default.saveError(e)}}),c=new C.default,l.addChild(c),e.next=25,this.saveProjectCover(c);case 25:if(d=e.sent){e.next=28;break}return e.abrupt("return");case 28:return(0,A.setPageThumbnail)(d),h=this.updateProjectInfo(t,w,s),m=h.id,v=h.projectId,S=h.createdAt,g=h.isSelfProject,_=h.isShare,I=h.projectName,k=h.localName,R={id:m,projectId:v,projectName:I,localName:k,createdAt:S,fileName:I,coverImage:d,isSelfProject:g,isShare:_},e.next=34,this.UploadFile(s,R,P,l);case 34:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateProjectInfo",value:function(e,t,a){var r=this.store.getState().project,o=r.id,i=r.projectId,u=r.projects,s=r.isSelfProject,l=r.isShare,f=(0,d.genId)(),p=L.name||t.name||r.name;p=(s=c.default.has(t,"isSelfProject")?t.isSelfProject:s)?p:t.name,i=c.default.has(t,"projectId")?t.projectId:i,l=c.default.has(t,"isShare")?t.isShare:l;var h=u.map(function(e){return e.projectId}),m=Date.parse(new Date)/1e3,v=!e&&c.default.indexOf(h,parseInt(i))>-1?"update":s?"new":"adapt",T=N.default.selectSaveOperation()[v]({id:o,_id:f,createdAt:m,name:p,projectId:i,projectData:a,projectInfo:t,projects:u});return this.store.dispatch(E.default.saved({projects:u})),(0,n.default)({id:f,isShare:l,isSelfProject:s,projectId:T.projectId},T.projectInfo)}},{key:"saveProjectCover",value:function(){var e=(0,u.default)(o.default.mark(function e(t){var a,n,r,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=L.coverData,e.t0){e.next=5;break}return e.next=4,this.getCoverData();case 4:e.t0=e.sent;case 5:if(a=e.t0,t.setSize(a.size),n=null,(!a||a.size<1024)&&(n=p.default.PROJECT_SAVE_STATUS.FAILURE),n){e.next=23;break}return r=function(e){t.updateValue(e)},e.prev=11,e.next=14,this.projectOss.multipartUploadCoverImg(a,r);case 14:if(!(i=e.sent)){e.next=17;break}return e.abrupt("return",i);case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),n=e.t1;case 23:t.triggerError(n);case 24:case"end":return e.stop()}},e,this,[[11,19]])}));return function(t){return e.apply(this,arguments)}}()},{key:"UploadFile",value:function(){var e=(0,u.default)(o.default.mark(function e(t,a,n,r){var u,s,l,c,d,f,h,m,E,v,S;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetProjectCache(),u=null,(!t||t.size<1024)&&(u=p.default.PROJECT_SAVE_STATUS.FAILURE),u){e.next=31;break}return s=this.store.getState().project.projects,l=function(e){r.updateValue(e)},c=null,e.prev=7,e.next=10,this.projectOss.multipartUploadProject(t,l,a);case 10:c=e.sent,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(7),u=e.t0;case 17:if(!c){e.next=31;break}return f=(d=c).projectId,h=d.commitId,N.default.setProjectSaveStatus("SUCCESS"),m=this.store.getState().intlr.messages,E=m["PROJECT.EXPORT.MYPROJECTS.MSG"],i.default.success(E,2),v={origin:s.map(function(e){return e.id===f&&(e.commitId=h),e}),dowithOrigin:s.map(function(e){return e.id===a.id&&(e.id=f,e.projectId=f),e})},S={projectId:f,commitId:h,preProjectData:T.default.instance.getProjectJsonString(),projectType:p.default.PROJECT_TYPE.LIST,name:a.projectName,isSelfProject:a.isSelfProject,isShare:a.isShare,projects:v[f&&a.isSelfProject?"origin":"dowithOrigin"],isForThirdPlatform:!1},a.isSelfProject||(S.isSelfProject=!0,S.isShare=!1),this.store.dispatch({type:k.UPLOAD_PROJECT,payload:S}),N.default.saveProjectProgress(0),n&&n(f),e.abrupt("return");case 31:r.triggerError(u);case 32:case"end":return e.stop()}},e,this,[[7,13]])}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"RenameProject",value:function(){var e=(0,u.default)(o.default.mark(function e(t,a){var r,u,s,l,d,h,m,T,S;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.store.getState(),u=r.project,s=r.intlr,l=r.account,d=t.projectId,h=t.projectName,m=t.createdAt,!(d&&l.isLogin&&u.isSelfProject)){e.next=15;break}return e.prev=3,e.next=6,v.default.rename_project({createdAt:m,projectName:h,projectId:d,_HEADER_:{utoken:f.default.get(p.default.USER_ACCESS_TOKEN_KEY)}});case 6:e.sent&&(T=u.projects.map(function(e){return e.id===d?(0,n.default)({},e,{projectName:h}):e}),S={projects:T},u.projectId===d&&(S=(0,n.default)({},S,{name:h})),this.store.dispatch(E.default.rename(S))),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),c.default.isFunction(a)&&a(e.t0),i.default.warning(s.messages["NETWORK.ERR.MSG"],2),e.abrupt("return");case 15:c.default.isFunction(a)&&a();case 16:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"exportProject",value:function(){var e=(0,u.default)(o.default.mark(function e(t){var a,n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.store.getState(),n=a.project,r=a.intlr,r.messages,v.default.exportFromWeb(n);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"importProject",value:function(){var e=(0,u.default)(o.default.mark(function e(t){var a,n,r,i,u,s,l,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.store.getState(),n=a.project,r=a.intlr,i=r.messages,!N.default.isSaved()){e.next=18;break}return u={title:i["PROJECT.SHOW.DIALOG.TITLE"],filters:[{name:i["PROJECT.DIALOG.FILTER.NAME"],extensions:p.default.PROJECT_SUFFIX}],properties:["openFile"]},e.prev=4,e.next=7,T.default.instance.import(t||n.file,u);case 7:(s=e.sent)&&(N.default.setProSelfAndShare(!0,!1),c.filePath=s.filePath,c.projectId="",s.filePath.indexOf(".")>-1&&(c.name=v.default.getNewProjectName(s.filePath.substring(0,s.filePath.lastIndexOf(".")),n.projects)),this.readedFile(null,s.data,c),this.store.dispatch(E.default.saveNextProjectInfo(null)),this.store.dispatch(E.default.saved({cacheProjectType:""})),g.default.push({pathname:"/"})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),l=n.cacheProjectType,this.store.dispatch(E.default.saved({projectType:l,cacheProjectType:""}));case 16:e.next=22;break;case 18:return e.next=20,this.saveProjectCache();case 20:this.store.dispatch(E.default.saveNextProjectInfo({projectType:p.default.PROJECT_TYPE.LOCAL})),S.default.gotoPath("/confirm/save/import");case 22:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"saveProjectCache",value:function(){var e=(0,u.default)(o.default.mark(function e(){var t,a,n,r,i,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store.getState(),a=t.project,n=a.name,r=a.projectType,e.next=5,this.getCoverData();case 5:return i=e.sent,e.next=8,T.default.instance.getProjectJson();case 8:u=e.sent,L={name:n,coverData:i,projectData:u,projectType:r};case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"resetProjectCache",value:function(){L={}}},{key:"savedFinishExec",value:function(e){if(!N.default.isSaved()){if(!this.checkIsLogin())return;return N.default.setProjectSaveStatus("FAILURE"),void g.default.replace("/")}var t=this.store.getState().project,a=t.file,r=t.cacheName,o=t.nextProjectInfo;N.default.isSaved()&&(N.default.setProSelfAndShareOnConfirm(t),this.resetProjectCache());var i=o.projectType||p.default.PROJECT_TYPE.LIST;switch(e){case"open":y.default.emit("OpenProject",a,i,(0,n.default)({cacheName:r},t));break;case"new":y.default.emit("NewProject");break;case"import":y.default.emit("ImportProject");break;case"example":g.default.replace("/list?demos");break;case"list":g.default.replace("/list?projects");break;case"close":this.closeProject()}g.default.replace("/"),this.store.dispatch(E.default.confirmType(null))}},{key:"closeProject",value:function(){var e=(0,u.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.default.set(p.default.INSTALLED_EXT,[]),h.default.closeWindow();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkIsLogin",value:function(){return!!this.store.getState().account.isLogin||(g.default.replace("/login"),!1)}},{key:"updateRemoteProjectFromUrl",value:function(){var e=(0,u.default)(o.default.mark(function e(t){var a,n,r,i,u,s,l,c,f;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,d.getUrlParams)()||{},n=a.cloudProjectId||"",r=a.lang,n){e.next=5;break}return e.abrupt("return");case 5:if(r&&this.store.dispatch(_.default.change(r)),e.t0=t,e.t0){e.next=12;break}return e.next=11,v.default.fetchProjectBaseInfoById(n);case 11:e.t0=e.sent;case 12:if(i=e.t0){e.next=16;break}return N.default.createNewProject(),e.abrupt("return");case 16:u={name:i.projectName},s=this.store.getState(),l=s.account,c=s.project,f=c.projects,N.default.setProjectPlatformType(n),l.isLogin?N.default.getProject(n)?(u.projectId=n,N.default.setProSelfAndShare(!0,v.default.hasShared(f,n))):(N.default.setProSelfAndShare(!1,!0),u.preProjectData="",u.projectId=n):(N.default.setProSelfAndShare(!1,!0),u.projectId=i.id),this.store.dispatch(E.default.saved(u));case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProject",value:function(){var e=(0,u.default)(o.default.mark(function e(t,a){var n,r,i,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.store.getState(),r=n.project,i=r.projects,e.prev=2,e.next=5,v.default.delete_project({projectId:t,_HEADER_:{utoken:f.default.get(p.default.USER_ACCESS_TOKEN_KEY)}});case 5:u=i.filter(function(e){return e.id!==Number(t)}),this.store.dispatch({type:k.DELETE_PROJECT,payload:{projects:u,selectedProjectId:""}}),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),c.default.isFunction(a)&&a(e.t0),e.abrupt("return");case 13:c.default.isFunction(a)&&a();case 14:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCloudProjects",value:function(){var e=(0,u.default)(o.default.mark(function e(){var t,a,r,i,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.store,a=t.getState(),r=a.account,i=[],!r.isLogin){e.next=15;break}return e.prev=4,e.next=7,v.default.get_cloud_projects({_HEADER_:{utoken:f.default.get(p.default.USER_ACCESS_TOKEN_KEY)}});case 7:return u=e.sent,i=u.cloudProjectList.map(function(e){return(0,n.default)({},e,{projectId:e.id,isDeleted:1===e.isDeleted,isShare:1===e.isShare})}),e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",{error:e.t0});case 15:return e.abrupt("return",[]);case 16:case"end":return e.stop()}},e,this,[[4,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"loadProjectById",value:function(){var e=(0,u.default)(o.default.mark(function e(t){var a,n,r,i,u,s,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=N.default.getProject(t),e.t0){e.next=5;break}return e.next=4,v.default.fetchProjectBaseInfoById(t);case 4:e.t0=e.sent;case 5:if(a=e.t0){e.next=8;break}return e.abrupt("return");case 8:if(n=a.commitId,r=a.projectName,i=a.id,u=a.projectData,s={filePath:""},!u){e.next=14;break}this.loadProjectByFileData(r,t,u,s),e.next=26;break;case 14:if(e.prev=14,this.checkNetWork()){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,v.default.fetchProjectData(n,r,i,t);case 19:l=e.sent,this.loadProjectByFileData(r,t,l,s),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14);case 26:case"end":return e.stop()}},e,this,[[14,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"loadExample",value:function(){var e=(0,u.default)(o.default.mark(function e(t,a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(N.default.setCurrentFileCacheName(t,a),!N.default.isSaved()){e.next=8;break}return N.default.setProSelfAndShare(!0,!1),e.next=5,this.readedFile(null,t,{name:a,projectId:"",projectType:p.default.PROJECT_TYPE.EXAMPLE,nextProjectInfo:null,filePath:""});case 5:S.default.gotoPath("/"),e.next=11;break;case 8:this.saveProjectCache(),this.store.dispatch(E.default.saveNextProjectInfo({projectType:p.default.PROJECT_TYPE.EXAMPLE})),S.default.gotoPath("/confirm/save/open");case 11:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"checkNetWork",value:function(){var e=this.store,t=e.getState().intlr;if(!(0,d.isOnline)()){var a=t.messages;return e.dispatch({type:k.DOWNLOAD_PROJECT,payload:{downloadStatus:{err:a["NETWORK.ERR.MSG"],percent:0}}}),!1}return!0}},{key:"loadProjectByFileData",value:function(e,t,a,r){this.readedFile(null,a,(0,n.default)({name:e,projectId:t,projectType:r.projectType||p.default.PROJECT_TYPE.LIST,selectedProjectId:""},r))}},{key:"readedFile",value:function(){var e=(0,u.default)(o.default.mark(function e(t,a,r){var u,s,l,d,f,h,v,S,y,g,_,O,C,I,A;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.store,s=!1,l=u.getState(),d=l.project,f=l.intlr,h=d.nextProjectInfo,v=f.messages,S=v["IMPORT.SUCCESS.MSG"],y=v["IMPORT.FAIL.MSG"],g=v["IMPORT.EXTINPROJECT.FAIL"],!t){e.next=14;break}_=[y],_=c.default.isObject(t)&&c.default.has(v,t.key)?[v[t.key],y]:[t,y],i.default.error(_.join(" - ")),e.next=33;break;case 14:if(O=function(){var e=r.hasOwnProperty("projectType")?r.projectType:p.default.PROJECT_TYPE.LOCAL;r.projectType=e,u.dispatch(E.default.saved((0,n.default)({},h,r,{saveStatus:"",cacheName:null}))),e===p.default.PROJECT_TYPE.EXAMPLE||s?T.default.instance.clearUpWorkspace():(i.default.success(S,2),s=!0)},C=function(e){c.default.isArray(e)&&e.length&&!s&&(i.default.error(g,4),s=!0),N.default.setLoadingPageState(!1)},!a){e.next=30;break}return e.prev=17,e.next=20,T.default.instance.renderProject(a,O,C);case 20:(I=e.sent)&&I.exts&&m.Actions.load(I.exts),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(17),i.default.error(y);case 28:e.next=33;break;case 30:N.default.setLoadingPageState(!1),A=u.getState().intlr.messages,i.default.error(A["IMPORT.FAIL.MSG"],2);case 33:u.dispatch(E.default.file(null));case 34:case"end":return e.stop()}},e,this,[[17,24]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getCoverData",value:function(){var e=(0,u.default)(o.default.mark(function e(){var t,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.default.instance.getProjectCoverPic();case 2:return t=e.sent,e.next=5,(0,d.base64ToBlob)(t);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"clearProjects",value:function(){this.store.dispatch({type:k.CLEAR_PROJECTS,payload:{projects:[]}})}}]),e}();t.default=P},1417:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(3)),r=u(a(39)),o=u(a(88)),i=a(392);function u(e){return e&&e.__esModule?e:{default:e}}var s={confirmSaveType:null,filePath:null,file:null,syncLabel:"",id:"",projectId:"",commitId:"",name:"",isConfirmName:!1,localName:"",projectType:"",projectStatus:"",isReName:!1,createdAt:"",coverImage:"",projects:[],localList:{},downloadStatus:{err:null,percent:0},saveStatus:"",saveProgress:0,searchText:"",preProjectData:"",currentUserId:"null",isSelfProject:!0,isShare:!1,showLoadingPage:!0,isForThirdPlatform:!1,cacheName:"",cacheProjectType:"",nextProjectInfo:null,selectedProjectId:""};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case i.SAVED:case i.SAVEAS:case i.CONFIRM_TYPE:case i.FILE:case i.FILEPATH:case i.RENAME:case i.SYNC_PROJECTS:case i.OPEN_PROJECT:case i.DOWNLOAD_PROJECT:case i.UPLOAD_PROJECT:case i.DELETE_PROJECT:case i.COPY_PROJECT:case i.CLEAR_PROJECTS:case i.UPLOAD_COVERIMG:case i.SHARE_PROJECT:case i.SEARCH:case i.UPDATE_PRE_PROJECT_DATA_STRING:case i.UPDATE_PROJECT_LOADED_STATE:return(0,r.default)({},e,t.payload);case i.SAVE_NEXT_PROJECT_INFO:return(0,n.default)({},e,{nextProjectInfo:t.payload.nextProjectInfo});case i.SELECTED_PROJECT_ID:return(0,n.default)({},e,{selectedProjectId:t.payload.selectedProjectId});default:return e}},actions:o.default}},1418:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(39)),r=a(487),o=s(r),i=s(a(48)),u=s(a(15));function s(e){return e&&e.__esModule?e:{default:e}}var l={cacheData:i.default.get(u.default.FEEDBACK_CACHE_KEY)||{profession:"",description:"",contact:"",call:"",attachment:""},status:null};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case r.CACHE_FEEDBACK:case r.ADD_FEEDBACK:return(0,n.default)({},e,t.payload);default:return e}},actions:o.default}},1419:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GET_URL=t.GET_TOKEN=void 0;var n=o(a(40)),r=o(a(92));function o(e){return e&&e.__esModule?e:{default:e}}t.GET_TOKEN="GET_TOKEN",t.GET_URL="GET_URL";t.default={getToken:function(e){return new n.default(function(t,a){r.default.QiniuService.token({qiniuKey:e,bucketKey:"PUBLIC"}).then(t,a)})},getUrl:function(e){return new n.default(function(t,a){r.default.QiniuService.url({qiniuKey:e,isPublic:!0,bucketKey:"PUBLIC"}).then(t,a)})}}},1420:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(39)),r=a(1419),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var u={tokenModel:{},urlModel:{}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.GET_URL:return(0,n.default)({},e,{tokenModel:t.payload});case r.GET_TOKEN:return(0,n.default)({},e,{urlModel:t.payload});default:return e}},actions:o.default}},1421:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(39)),r=a(263),o=l(r),i=l(a(48)),u=l(a(21)),s=l(a(15));function l(e){return e&&e.__esModule?e:{default:e}}var c={code:null,model:{last:"",source:"",board:"",codey:{},date_time:"",is_support:!0},progress:null,isAuto:!1,isChecking:!1,isNotNetwork:!1,appVersion:u.default.appVersion,ignoreVersions:i.default.get(s.default.IGNORE_UPDATE_VERSIONS)||[],isRemind:r.isRemind};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case r.UPDATER_FIRMWAREN:return(0,n.default)({},e,{model:{codey:t.payload}});case r.IGNORE_UPDATE_VERSION:return(0,n.default)({},e,{ignoreVersions:t.payload});case r.EXEC_DOWNLOAD_UPDATE:return(0,n.default)({},e,{progress:t.payload});case r.UPDATER_CHECKER:return(0,n.default)({},e,t.payload);case r.SET_UPDATER_FIRMWARE_DATA:return(0,n.default)({},e,{firmware:t.payload});case r.REMIND_UPDATE:return(0,n.default)({},e,{isRemind:t.payload});default:return e}},actions:o.default}},1422:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),r=c(a(7)),o=c(a(12)),i=a(393),u=a(620),s=c(a(92)),l=c(a(19));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"logout",value:function(e,t){return u.requestDispatch.bind(this)(i.USER_LOGOUT,"logout",null,function(){s.default.UserService.removeUserinfoToLocal(),l.default.emit("Logout"),l.default.emit("ClearProjects"),o.default.isFunction(e)&&e()},o.default.isFunction(t)&&t)}},{key:"setLoginState",value:function(e){return{type:i.CHANGE_LOGIN_STATE,payload:{isLogin:e}}}}]),e}();t.default=d},1423:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=i(a(1422));function i(e){return e&&e.__esModule?e:{default:e}}var u=new(function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"strategy",value:function(){return new o.default}}]),e}());t.default=u},1424:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(11)),r=f(a(3)),o=f(a(39)),i=f(a(12)),u=a(393),s=f(a(72)),l=f(a(92)),c=f(a(87)),d=f(a(19));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t,a){var i,u,s=h(t)||!1,l=t.status,d=t.data,f=void 0===d?{}:d;if(l===c.default.PENDING||99999===f.code)return(0,o.default)({},e,(0,r.default)({},e,(u={},(0,n.default)(u,a,l),(0,n.default)(u,"code",f.code),u)));var p=(i={},(0,n.default)(i,a,l),(0,n.default)(i,"data",s?f.user:f),(0,n.default)(i,"token",s?f.token:null),(0,n.default)(i,"isLogin",s),i);return(0,o.default)({},e,p)},h=function(e){var t=e.status,a=e.data,n=void 0===a?{}:a,r=e.type,o=c.default.DONE,s=l.default.UserService,f=s.getUserToken,p=s.saveUserInfoToLocal;if(t===o&&(r===u.GET_USER_STATE&&(n.token=i.default.isFunction(f)&&f()),i.default.has(n,"token")&&i.default.has(n,"user")))return i.default.isFunction(p)&&p(n),d.default.emit("Login"),!0;return!1},m={isInternational:(0,a(32).isInternational)(),overAge:!1,emailNum:"",validCode:"",oldpassword:"",isLogin:!1,data:{account:"",email:"",userName:"",uid:"",headpic:"",isBindEmail:!1,isBindQQ:!1,isBindWechat:!1,isBindGoogle:!1,isBindFacebook:!1}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case u.GET_URL_TOKEN:return(0,o.default)({},e,{urlTokenRequest:t.status});case u.CHANGE_MODE:return(0,r.default)({},e,{isInternational:t.payload.isInternational});case u.CHANGE_LOGIN_STATE:return(0,r.default)({},e,{isLogin:t.payload.isLogin});case u.SET_OVERAGE:return(0,r.default)({},e,{overAge:t.payload.overAge});case u.GET_USER_STATE:return p(e,t,"checkAccountRequest");case u.USER_LOGOUT:return p(e,t,"logoutRequest");case u.SAVE_EMAILNUM:return(0,r.default)({},e,{checkEmailNumRequest:c.default.PENDING,emailNum:t.payload.emailNum});case u.CHECK_EMAILNUM:return(0,r.default)({},e,{checkEmailNumRequest:t.payload.checkEmailNumRequest});case u.CHECK_CODE_REQUEST:return(0,r.default)({},e,{checkCodeRequest:c.default.PENDING});case u.CHECK_CODE:return(0,r.default)({},e,{checkCodeRequest:t.payload.checkCodeRequest,validCode:t.payload.validCode});case u.CHECK_OLDPWD_REQUEST:return(0,r.default)({},e,{checkOldPwdRequest:c.default.PENDING});case u.CHECK_OLDPWD:return(0,r.default)({},e,{checkOldPwdRequest:t.payload.checkOldPwdRequest,oldpassword:t.payload.oldpassword});case u.UPDATEPWD_REQUEST:return(0,r.default)({},e,{updatepwdRequest:c.default.PENDING});case u.UPDATEPWD:return(0,r.default)({},e,{updatepwdRequest:t.payload.updatepwdRequest});case u.USER_LOGIN:return p(e,t,"loginRequest");case u.USER_REGISTER:return p(e,t,"registerRequest");case u.USER_FINDPWD:return p(e,t,"findpwdRequest");case u.USER_UPDATEPWD:return p(e,t,"updatepwdRequest");case u.GET_VALID_CODE:return p(e,t,"codeRequest");default:return e}},actions:s.default}},1425:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{key:"MENU.FILE.NEW",label:"新建",shortcutKey:["Ctrl+N","⌘+N"]},{key:"MENU.FILE.OPEN",label:"打开",shortcutKey:["Ctrl+O","⌘+O"]},{key:"MENU.HELP",label:"帮助",menus:[{key:"MENU.HELP.GUIDE",label:"用户指引",shortcutKey:""},{key:"MENU.HELP.UPDATER.CHECKER",label:"检查更新",shortcutKey:""},{key:"MENU.HELP.FEEDBACK",label:"意见反馈",shortcutKey:"",link:"/list/help/feedback"},{key:"MENU.HELP.ABOUT",label:"关于",shortcutKey:"",link:"/list/help/about"}]},{key:"MENU.LANGUAGE",label:"语言"},{key:"MENU.EXIT",label:"退出"}],t.webMenus={file:[{key:"MENU.FILE.NEW.WEB",label:"新建",shortcutKey:["Ctrl+N","⌘+N"]},{key:"MENU.FILE.OPEN.WEB",label:"打开",link:"/projects/projects"},{key:"MENU.FILE.SAVEAS.WEB",label:"另存为",shortcutKey:["Ctrl+Shift+S","⌘+⇧+S"]},{key:"MENU.FILE.IMPORT",label:"从计算机导入"},{key:"MENU.FILE.EXPORT",label:"保存到计算机"},{key:"MENU.FILE.PUBLISH.TO",label:"分享至",link:"/help/shareprojectto"}],edit:[{key:"MENU.EDIT.TURBO",label:"舞台加速模式",shortcutKey:""},{key:"MENU.EDIT.TURBO.OFF",label:"关闭舞台加速模式",shortcutKey:""}],tutorials:[{key:"MENU.HELP.GUIDE",label:"用户指引",shortcutKey:""},{key:"MENU.FILE.DEMOS",label:"示例程序",link:"/projects/demos"}],other:[{key:"MENU.OTHER.JOIN",label:"合作联系",shortcutKey:""}]}},1426:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(39)),r=a(1425),o=s(r),i=a(296),u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var l={menus:o.default,webMenus:r.webMenus,operate:{undo:!1,redo:!1},main:!1,lang:!1,user:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case i.VISIBLE_CHANGE:case i.SET_OPERATE_STATUS:return(0,n.default)({},e,t.payload);default:return e}},actions:u.default}},1427:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(39)),r=a(264),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var u={progress_status:i(a(15)).default.UPLOAD_STATUS.READY,progress_percent:0};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.UPLOAD_READY:case r.UPLOAD_CODE:case r.UPLOAD_CODE_PROGRESS:case r.UPLOAD_FIRMWARE:case r.UPLOAD_MODE:return(0,n.default)({},e,t.payload);default:return e}},actions:o.default}},1428:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(3)),r=c(a(39)),o=c(a(12)),i=c(a(92)),u=a(147),s=c(u),l=c(a(15));function c(e){return e&&e.__esModule?e:{default:e}}var d={type:l.default.CONNECT_TYPE.SERIAL,connectedType:"",connectionInfo:{},status:l.default.CONNECT_STATUS.NOT_CONNECTED,current:"",devices:[],scanStatus:l.default.SCAN_STATUS.SCAN_READY,scanData:{},isShowAll:!1,isSoftDisconnect:!1},f=function(e,t){var a=e.devices;return t.device?a=[t.device]:!1===t.device&&(a=[]),(0,r.default)({},e,(0,n.default)({},t,{devices:a}))};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case u.RESET_CONNECT_DEVICE:return function(e,t){var a=e.devices;return o.default.isEmpty(a)||t.device&&t.isRemove&&a.forEach(function(e){e.name===t.device.name&&(e.name=null)}),e}(e,t.payload);case u.CONNECT_CURRENT:case u.DISCOVERY_DEVICE:return function(e,t){var a=t.type,n=t.scanStatus,o=t.scanData,u=t.isShowAll,s=(0,r.default)({},e,t);if(n!==l.default.SCAN_STATUS.SCAN_SUCCESS)return s;var c=[];if(o&&o[a]&&(c=o[a]),u||(c=i.default.ConnectService.filterList(a,c)),c=i.default.ConnectService.sortBle(c),s.scanData[a]=c,s.current){for(var d=!1,f=0;f<c.length;f++)if(s.current==c[f].comName){d=!0;break}d||(c.length>0?s.current=c[0].comName:s.current="")}else c.length>0?s.current=c[0].comName:s.current="";return s}(e,t.payload);case u.CONNECT_DEVICE:return f(e,t.payload);case u.DISCONNECT_DEVICE:return function(e,t){return o.default.isEmpty(t.device)||o.default.remove(e.devices,function(e){return t.isBroken?t.device.address===e.address:t.device.name===e.name}),(0,r.default)({},e,{status:t.status,connectedType:"",connectionInfo:{},isSoftDisconnect:!1})}(e,t.payload);case u.CONNECT_STATUS:return function(e,t){return f(e,t)}(e,t.payload);case u.CONNECT_DEVICE_MBLOCK_INFO:return function(e,t){var a=e.devices;if(!o.default.isEmpty(a))for(var n=0;n<a.length;n++){var i=a[n];if(i.address===t.device.address){a[n]=(0,r.default)({},i,t.device);break}}return e}(e,t.payload);case u.SWITCH_CONNECT_MODE:case u.SET_IS_SHOW_ALL:case u.SET_IS_SOFT_DISCONNECT:return(0,r.default)({},e,t.payload);default:return e}},actions:s.default}},1429:function(e,t,a){"use strict"},1430:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=i(a(1429));function i(e){return e&&e.__esModule?e:{default:e}}var u=new(function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"strategy",value:function(){return new o.default}}]),e}());t.default=u},1431:function(e,t,a){e.exports=a(31)(57)},1432:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(39)),r=c(a(153)),o=c(a(655)),i=a(32),u=c(a(488)),s=c(a(16)),l=c(a(19));function c(e){return e&&e.__esModule?e:{default:e}}var d="esptoolByExec",f=function(e){window.uploadFirmwareMode=d=e},p=function(){s.default.replace("/"),u.default.disconnect(null,!0)};t.default=function(e,t,a,s,c){if(c=c||{},(0,i.isWindows)()&&"esptoolByExec"===d&&"esptoolByExec"===c.driverName){var h=r.default.serviceChannel;if(h)if(e&&e.options){l.default.on("firmware.update.cancel",function(t){var a=e.connectType+"."+e.options.port;t&&t.address===a&&h.client.emit("esptoolByExec.cancel")}),h.client.on("disconnect",function(e,t){f("js")});var m={connectType:"esptoolByExec",cmd:"upload",params:{options:(0,n.default)({port:e,data:t},c)}};u.default.setSoftDisconnectMode(!0),e.close(function(){h.sendMessage(m,function(e,t){u.default.setSoftDisconnectMode(!1),e?(f("js"),s(e)):s(null,t)})},!0),h.client.on("esptoolByExec.progress",function(e){a(e.percent)}),h.client.on("esptoolByExec.portDisconnect",function(){p()})}else s("port not found");else s("esptoolByExec service not available")}else(0,o.default)(e,t,a,s,c)}},1433:function(e,t,a){e.exports=a(31)(103)},1434:function(e,t,a){e.exports=a(31)(234)},1435:function(e,t,a){e.exports=a(31)(231)},1436:function(e,t,a){e.exports=a(31)(102)},147:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_IS_SOFT_DISCONNECT=t.SET_IS_SHOW_ALL=t.RESET_CONNECT_DEVICE=t.CONNECT_CURRENT=t.CONNECT_DEVICE_MBLOCK_INFO=t.CONNECT_STATUS=t.DISCONNECT_DEVICE=t.CONNECT_DEVICE=t.SWITCH_CONNECT_MODE=t.DISCOVERY_DEVICE=void 0;var n=h(a(3)),r=h(a(23)),o=h(a(11)),i=h(a(25)),u=h(a(339)),s=h(a(40)),l=h(a(153)),c=h(a(48)),d=h(a(15)),f=h(a(19)),p=h(a(12));function h(e){return e&&e.__esModule?e:{default:e}}var m=t.DISCOVERY_DEVICE="DISCOVERY_DEVICE",E=t.SWITCH_CONNECT_MODE="SWITCH_CONNECT_MODE",v=t.CONNECT_DEVICE="CONNECT_DEVICE",T=t.DISCONNECT_DEVICE="DISCONNECT_DEVICE",S=(t.CONNECT_STATUS="CONNECT_STATUS",t.CONNECT_DEVICE_MBLOCK_INFO="CONNECT_DEVICE_MBLOCK_INFO"),y=t.CONNECT_CURRENT="CONNECT_CURRENT",g=t.RESET_CONNECT_DEVICE="RESET_CONNECT_DEVICE",N=t.SET_IS_SHOW_ALL="SET_IS_SHOW_ALL",_=t.SET_IS_SOFT_DISCONNECT="SET_IS_SOFT_DISCONNECT",O=function(e){return new s.default(function(t,a){l.default.discovery(e,function(n,r){n?a(n):e!==d.default.CONNECT_TYPE.BLE&&t(r)},function(e,t){})})},C=function(e,t){return new s.default(function(a,n){l.default.discovery(e,function(e,r){e?n(e):(p.default.isFunction(t)&&t(r),a(r))})})},I=function(e,t){return new s.default(function(a,n){var r=(new u.default).set(d.default.CONNECT_TYPE.SERIAL,5e3).set(d.default.CONNECT_TYPE.BLE,8e3);setTimeout(function(){n("timeout")},r.get(e)),l.default.connect(e,t,function(e,t){e?n(e):a(t)})})};t.default={discovery:function(e){var t,a={type:m,payload:{scanStatus:d.default.SCAN_STATUS.SCANNING,type:e}};return l.default.isInstall()?(t=(0,i.default)(r.default.mark(function t(n,i){var u;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n(a),t.prev=1,a.payload.scanStatus=d.default.SCAN_STATUS.SCAN_SUCCESS,u={},e!==d.default.CONNECT_TYPE.BLE){t.next=10;break}return t.next=7,C(e);case 7:u=t.sent,t.next=13;break;case 10:return t.next=12,O(e);case 12:u=t.sent;case 13:a.payload.scanData=(0,o.default)({},e,u),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),a.payload.scanStatus=d.default.SCAN_STATUS.SCAN_FAIL;case 19:if(a.payload.isShowAll=i().connect.isShowAll,e===i().connect.type){t.next=22;break}return t.abrupt("return");case 22:n(a);case 23:case"end":return t.stop()}},t,void 0,[[1,16]])})),function(e,a){return t.apply(this,arguments)}):(a.payload.status=d.default.CONNECT_STATUS.NOT_SERVICE,a.payload.device=!1,a)},switchMode:function(e){return function(t){t({type:E,payload:{type:e,current:"",scanStatus:d.default.SCAN_STATUS.SCAN_READY,scanData:{},isShowAll:!1}})}},connect:function(e,t,a,o,u){var s,c={type:v,payload:{status:d.default.CONNECT_STATUS.CONNECTING}};return s=(0,i.default)(r.default.mark(function i(s,p){var h,m;return r.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s(c),(h=p().connect).connectionInfo&&h.connectionInfo.connectionId&&l.default.disconnect(h.type,h.connectionInfo.connectionId,function(e,t){}),r.prev=3,c.payload.status=d.default.CONNECT_STATUS.CONNECT_FAIL,r.next=7,I(t,a);case 7:(m=r.sent)&&(c.payload.status=d.default.CONNECT_STATUS.CONNECT_SUCCESS,c.payload.connectionInfo=m),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),"timeout"===r.t0&&(c.payload.status=d.default.CONNECT_STATUS.CONNECT_TIMEOUT);case 14:c.payload.status===d.default.CONNECT_STATUS.CONNECT_SUCCESS?(c.payload.connectedType=t,c.payload.device=(0,n.default)({},e,{address:c.payload.connectionInfo.connectionId,rawPort:c.payload.connectionInfo.rawPort}),s(c),o&&o(),f.default.emit("DeviceConnected",c.payload.device,t)):(u&&u(),s(c));case 15:case"end":return r.stop()}},i,void 0,[[3,11]])})),function(e,t){return s.apply(this,arguments)}},disconnect:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n||l.default.disconnect(e,t,function(e,t){}),c.default.remove(d.default.CONNECT_DEVICE_ID_KEY),f.default.emit("DeviceDisconnected",a,e,n),{type:T,payload:{status:d.default.CONNECT_STATUS.NOT_CONNECTED,device:a,isBroken:n}}},current:function(e){return{type:y,payload:{current:e}}},setDeviceInfo:function(e){return{type:S,payload:{device:e}}},resetConnectDevice:function(e,t){return{type:g,payload:{device:e,isRemove:t}}},Service:l.default,setIsShowAll:function(e){return{type:N,payload:{isShowAll:e}}},setSoftDisconnectMode:function(e){return{type:_,payload:{isSoftDisconnect:e}}}}},1483:function(e,t){},1484:function(e,t){},15:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPRITE_TYPE=void 0;var n=d(a(3)),r=d(a(444)),o=d(a(443)),i=d(a(266)),u=a(323),s=a(87),l=a(442),c=a(441);function d(e){return e&&e.__esModule?e:{default:e}}var f=t.SPRITE_TYPE={LIBS:"libs",USER_LIBS:"user_libs",COSTUMES:"costumes",USER_COSTUMES:"user_costumes",SOUNDS:"sounds",USER_SOUNDS:"user_sounds",BACKDROPS:"backdrops",USER_BACKDROPS:"user_backdrops",DEVICES:"devices"};t.default=(0,n.default)({},r.default,{DEVICE:o.default,PROTOCOL:i.default,REQUEST_STATUS:s.REQUEST_STATUS,UPLOAD_STATUS:l.UPLOAD_STATUS,CONNECT_TYPE:u.CONNECT_TYPE,CONNECT_STATUS:u.CONNECT_STATUS,SCAN_STATUS:u.SCAN_STATUS,PROJECT_ACCEPT:["application/mblock","application/json","application/sb2","application/sb3"],PROJECT_SUFFIX:["mblock","json","sb2","sb3"],LOGIN_AVAILABLE_BLOCKS:c.LOGIN_AVAILABLE_BLOCKS,LOGIN_BLOCKS_BELONGTO_EXT:c.LOGIN_BLOCKS_BELONGTO_EXT,SYNC_CONNECT_STATE_TYPE:{ONREADY:0,PROJECT:1,ADD_DEVICE:2,REMOVE_DEVICE:3,CONNECTED:4,SERVER_OFFLINE:5,CONNECT_BROKEN:6},SENSOR_CALIBRATE_TYPE:{COLOR:"color",GYRO:"gyro"},SHOW_COMPILING_DEVICE:["mcore","auriga"],SPRITE_SUFFIX:["svg","png","jpg","sprite2","sprite3"],SPRITE_TYPE:f,SPRIET_ACCEPT:["image/jpeg","image/png","image/svg+xml","image/gif",".sprite2",".sprite3"],COSTUME_ACCEPT:["image/jpeg","image/png","image/svg+xml","image/gif"],SPRIET_SOUNDS_ACCEPT:["audio/mp3","audio/wav"],SPRITE_FILE_PREFIX:"U_",PROJECT_STATUS:{NORMAL:0,WILL_DOWNLOAD:1,WILL_UPLOAD_FILE:2,WILL_UPLOAD_RECORD:3,WILL_UPLOAD_ALL:4,UPLOADING:5,WILL_DELETE:6},PROJECT_TYPE:{EXAMPLE:"example",LOCAL:"local",LIST:"list"},PROJECT_SAVE_STATUS:{DOING:"DOING",FAILURE:"FAILURE",SUCCESS:"SUCCESS"},PROJECT_SYNC_STATUS:{SYNCING:"syncing",SUCCESS:"success",FAIL:"fail",NONETWORK:"noNetWork"},LANG_DOWNLOAD_STATUS:{DOING:"DOING",FAILURE:"FAILURE",SUCCESS:"SUCCESS"},PROJECT_SAVE_TIMEOUT:6e4})},151:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMessages=t.defaultLangKey=void 0;var n=l(a(19)),r=a(621),o=a(248),i=l(o),u=a(439),s=l(a(1430));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.defaultLangKey=(0,o.getDefaultLang)();t.defaultMessages=i.default[c]?i.default[c].messages:i.default.en.messages;t.default={change:function(e){return function(t){(0,o.updateLocaleData)(e).then(function(e){var a,i;if(e)return n.default.emit("SwitchLanguage",e.langKey),(0,o.setStoreLang)(e.langKey),t((a=e.langKey,i=e.messages,{type:r.SWITCH_LANGUAGE,payload:{langKey:a,messages:i}}))})}},updateSupportedLangNames:function(){return function(e){(0,u.fetchLangManifest)().then(function(t){if(t)return e({type:r.UPDATE_SUPPORTED_LANG_NAMES,payload:{supportedLangs:t.supportLangs}})})}},strategy:function(){return s.default.strategy()}}},1518:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(40)),r=l(a(23)),o=l(a(25)),i=l(a(1517)),u=l(a(2)),s=l(a(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=a(1513),d=a(1511),f=a(1438),p=a(26).Buffer,h={BOOTLOADER_FLASH_OFFSET:4096,FLASH_SIZES:{"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},STUB_CODE:{data_start:1073736612,data:p.from("08c0fe3f","hex"),text:p.from("f820f43ff830f43f36410091fdffc0200088098080245648ff91faffc0200088098080245648ff1df00000001020f43f0020f43f00000008364100e5fcff81fbff0c02c02000290891faff21faffc02000226900c0200028095672ffc0200088080c128080042028301df0000000004036410065fcff169aff81edff91fcffc020009908c0200098085679ff1df00000000000010000800098c0ff3fffffff000420f43f36410021fcff32220416430565f8ff16ea04a5fbff58420cf80c1341f4ff57a80b5822805510cc3541f2ff1c03882240581125f3ff81f0ff80851051f0ffc02000890581d2ffc02000426800c0200048085674ff884248223088c03a34894239221df0000800f43f1c00f43f0000f43f90c0ff3f0840ff3f8080000084800000404000004880ff3f1000f43f94c0ff3f36410021f4ff31f7ff41f7ffc0200058024a4361f1ffc02000280620207416e209c6230061eeffb1eeffc02000a22600a0a07425a80096ca0491eaff81ebffb1ebff808980b0b980c02000c808921b00a0a0749080f41b989090f4c02000925b008a8cc02000a24800821b0091e1ff8080f497983ec02000a80481e0ff91ddff379a194602007ce8871ae94609000000c020003908c020009904460200c020009908c02000390481d1ff0c098a83c020009258000b22260202c6d9ffc6d4ff0021ceffc0200059021df00000502d064036410041a4ff583430356316e30358145a53505c4186000065e8ff8844a61804882487a5f2e5e0ff169affa81430c32020b22081f2ffe008008c3a22a0c4295458143a55591458343035c039341df0000820f43f0000400070e2fa3f48240640f0220640366100e5d9ffad0181fcffe008003d0a0c12ecea980182a2008089108901a5deff91f2ff81f3ffc02000a809808a20c02000826900b22100a1efff81f0ffe00800a023831df00000ff0f0000364100a178ff91fdff82a001824a00326a01308c41226a033030b49a22892a2a83808c410c02894a295aa5f8ff2d0a32a0c5a023931df0002c92004036410082a0c0ad0287920ea2a0db81fbffe00800a2a0dc86030082a0db87920881f7ffe00800a2a0dd81f4ffe008001df00000003641003a3206020000a202001b22e5fbff3792f41df0000000100000581000007cda0540d82e06409cda05401cdb0540362121a2d11081faffe008008609000051f6ffbd01504363cd04ad0281f6ffe00800ecfacd04bd01a2d11081f3ffe008004a224033c05663fda1ecffb2d1101aaa81eeffe00800a1e9ff1c0b1aaa25f8ff2d031df022a0631df00000364100a2a0c081cdffe008001df0000068100000701000007410000078100000fc670040a49200400868004036412161f9ff81f9ff1a661a88490672d1100c062c0a590862671a81f6ffe0080081cfff47b802463600ad0781cfffe008004d0651efff61cbff1a556a818905062d000081e9ff4063c01a888808bd01606863cd0620a22081c5ffe008008cea91e1ff0c055267166d059a51460d000025f6ff60b620ad01e5ecffa5f5ffcd0610b12070a72081baffe008006a226a4437b4cc81d6ff5064c01a8888088736a306efff000081d4ffe0080081d1ff108880b22800657500f7ea0df6460a60b580a24b001b6606f7ff7cebb79ad7264627a1a5ff70b7201aaa81a7ffe0080065efffa1a0ff1c0b1aaae5e5ffa5eeff2c0a81c3ffe008001df052271a37b5d157b48ec6f2ff1df0000000c0fe3f4f484149a4ebff3f34f109400c00f43f3840f43fffff0000000001008c800000104000000040000000c0fe3f04c0fe3f102700001400f43fffff0f00a4ebff3f08c0fe3fb0c0ff3f7c680040ec670040588600406c2a064038320640cc2c06404c2c064034850040cc90004030ef0540589200404c820040142c064036c10021e0ff0c0a22610842a00081efffe0080021dbff31dcff0601004262004b223732f765e2ff0c4ba2c12025d9ffa5e1ff41e0fe21e0feb1d4ff0c0c2a240c5ac02000490281e2ffe0080031d0ff22a101c0200058032c0a202520c0200029038184ffe0080081dbffe0080021c9ffc020003802ccba1cc220231022c2f80c1320a3830c0b81d4ffe00800f1c2ffd152ffc1c2ffb1a5fee2a1000c0a81cfffe0080031a4fe52d32b41c2fe61bcff6a24c0200068021676ffc0200078020c06c0200069020c122241102207010c2822411182510969512692081c3667121f460800002207036207028022116022206642112827c0200028022951460100001c2222510965d4ff0c8ba2c11025cbff22070382070280221180822021a2ff87b211a2a0c065c6ffa2a0ee25c6ffe5d1ff46ddff6207010cd227960206910067324e666602c6af00f67620663602c66500f64608662602c64b0046ae00664602067b00665602868e0086aa000c92279602068600673208667602c68b0086a500669602c683000cb227960246790046a1001c32279602c6390067322866b602c643001c0267320a0cf2279602062e000699001c12279602864b001c2227960246630046940022a0d127162d67320922a0d0271618c68f000022a0d227960286250022a0d3279602462501468a000c1216183ead022d0a868500268802868300c6f8000000e5afff604620602280162a01867e0000a0ac418172ffe0080056da1e42d4f040a2c0cc2486010100a060f45616fe615aff860300a0a0f5816affe00800569a1c6044c040a2c04736ea860300a0ac418163ffe00800561a1b42d4f040a2c056a4fe46f2000c0622a0c0268802466a0086f200000066b80286f00086460066b80286db00c6600022a00126b802065f009227048144ff62a00022a0c2871902c65d00b857a82765aaffc6d3000000000c1466b82ca847813bff0c0622a0c2871a024655008837b857a82720881189c1e5a7ff2117fe88c1696222d22b8922a046832d048649009112fe0c06a2090022a0c6679a028648006827285982c8f08066c092a0c060299362c7189d06b2a0efc60100a209001b99a0bb3060a9c0872af1820705a20704620706808811a0982000661190862062070792a0c1806601806620608bc08029930c064633000081f9fd0c0692080022a0c6679902c62e00983822a0c8671902062c006248002858062a001c8227980246a3000c060c124626000066480246a70006200066b80206a90046010066480206a9000c0622a0c0061e0066b80246a700061800c1fffe0c06a80c0c1282c8f09d06809293a0269320991022a0c6679952b1f9fe6d09d80b22a0c9873d4580e0140c0622a0c0679e3a62c7182d0ec602002a9698094b22990a4baa0c1920edc08732ed161924a90ce90b868e0000006688028692000c120c06c60100000062a00022a0ff20a074a596ff60a0746596ff25a2ff56a2c76207010cf8871631673815664602065600666602c65b002636024617ff061b00001c2227960206500022a0d227164b1c12271602c610ff461b00a1d2fe81dffee0080061d1fe81d1fec020006806b837808610c08811606435806680b06682b82720a220b0b6c281d5fee00800a2a3e881d2fee008004600ff0000d22705c22704b22703a827259cff86fbfe00b2070322070280bb1120bb20b2cbf0a2c718257dff46f5fe00000062070382070280661180662022c71862c6f00c19861d0041b4fe71b0fde8046971e077c0796178250c3977360292a00199d1e9c16563ff98d171adfee8c1a1acfebd029901f2c118dd07c2c11c81b3fee008009d0ab825a871a0bbc0b925a066c0b804aa22a861aabb0ba9a0a920b904a0af0570bbc0cc9ac2db800c1dc0ad8316aa00ad0799d12574ff98d179048cb678338c77907f319077c09697f7d6890022a0c72953063e000056490f28331612b222a0c8060100000022a0c9295346c4fe00a82756bab08195fee00800a184fe8190fee008008192fee00800c6bcfe683716e6ae20a220818dfee00800a2a3e88188fee00800e0060086b5fe0089c18189fee0080088c1a08293ad084603ff282768376082208080b41608c1c685ffb22703a22702257fff22a0000c16a026934681fff877e867d857c847b837a8270c128171fee008006d0a0c0a602a83067dffa8270c0b816bfee008000c020676ff0028276837c0200069020c062d060675ff2159fe8857682789022157fe690206f6ff9155fe0c08680922a0c86028836d022151fe890989020c126028830666ff0028331622f1468afe1df000003641009d0282a0c0280387990ecc320c12c606000c0229037ce21df0261205262212060c0082a0db8029238799290c22290306080022a0dc2799080c1229032d081df00082a0dd7cf287990b0c12290322a0db1df0007cf21df00000","hex"),text_start:1074393088,entry:1074394468}},m=function(e){if(-1<e.indexOf("MB"))return 1024*parseInt(e.substring(0,e.indexOf("MB")))*1024;if(-1<e.indexOf("KB"))return 1024*parseInt(e.substring(0,e.indexOf("KB")));throw new Error("Unknown size "+e)},E=new(function(){function e(){(0,u.default)(this,e),this.init()}return(0,s.default)(e,[{key:"init",value:function(){this.buf=[],this.temp=[]}},{key:"write",value:function(e){var t=this,a=m("4MB");if(this.temp.length>a)throw new Error("缓冲区大小超过固件限制额度。");return e.forEach(function(e,a){t.temp.push(e)}),this.slip_write(),!0}},{key:"read",value:function(){var e=[];return this.buf.length>0&&(e=this.buf.shift()),p.from(e)}},{key:"slip_write",value:function(){for(var e=!1,t=null,a=void 0,n=0;0<this.temp.length&&n!==this.temp.length;){if(a=this.temp[n],null===t){if(192!==a){this.temp.splice(0,n+1),n=0;continue}t=[]}else if(e)if(e=!1,220===a)t.push(192);else{if(221!==a){this.temp.splice(0,n+1),n=0;continue}t.push(219)}else if(219===a)e=!0;else{if(192===a){this.temp.splice(0,n+1),n=0,this.buf.push(t),0!==t.length&&(t=null);continue}t.push(a)}n++}}}]),e}()),v=function(){function e(t){var a=this;(0,u.default)(this,e),this.recevie=!1,this.inst=t,this.isOpen=!0,this.inst.on("data",function(e){a.recevie=!0,E.write(e)}),this.inst.on("disconnect",function(){a.isOpen=!1})}return(0,s.default)(e,[{key:"write",value:function(e){if(this.recevie=!1,!this.isOpen)throw new Error("serialport is diconnect");E.buf=[],this.inst.write(e,"utf8",function(){})}}]),e}(),T=function(){function e(t,a,n,r,o){(0,u.default)(this,e),this.firmwareDataBuffer=p.from(a),this.progressHandle=n,this.progresscb=r,this._port=t,this.tag=o,this.initEsp()}return(0,s.default)(e,[{key:"initEsp",value:function(){this.flash_size="4MB",this.addrIdx=4096,this.flash_mode="dio",this.flash_freq="keep",this.compress=!0,this.flashingGo=!1,this.STATUS_BYTES_LENGTH=4,this.IS_STUB=!1,this._port.inst.set({rts:!0,dtr:!0})}},{key:"pad_to",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=e.length%t;if(0!==n){for(var r=[],o=0;o<t-n;o++)r.push(a);e=p.concat([e,p.from(r)])}return e}},{key:"_update_image_flash_params",value:function(e,t,a){if(a.length<8)return a;var n=new c("BBBB").unpack(a.slice(0,4)),r=(0,i.default)(n,4),o=r[0],u=(r[1],r[2]),s=r[3];if(e!==h.BOOTLOADER_FLASH_OFFSET||233!==o)return a;"keep"!==t.flash_mode&&(u={qio:0,qout:1,dio:2,dout:3}[t.flash_mode]);var l=15&s;"keep"!==t.flash_freq&&(l={"40m":0,"26m":1,"20m":2,"80m":15}[t.flash_freq]);var d=240&s;"keep"!==t.flash_size&&(d=h.FLASH_SIZES[t.flash_size]);var f=new c("BB").pack(u,d+l);return 0!==f.compare(a.slice(2,4))&&(a=p.concat([a.slice(0,2),f,a.slice(4)])),a}},{key:"flash_defl_begin",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a,n){var o,i,u,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=parseInt((a+16384-1)/16384),i=parseInt((t+16384-1)/16384),(new Date).getTime(),u=void 0,s=void 0,this.IS_STUB?(u=t,s=3):(u=16384*i,s=this.timeout_per_mb(30,u)),e.next=7,this.check_command("enter compressed flash mode",16,new c("<IIII").pack(u,o,16384,n),0,s);case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"check_command",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var a,n,o,u,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.command(s,l,c,d);case 3:if(a=e.sent,n=(0,i.default)(a,2),o=n[0],!((u=n[1]).length<this.STATUS_BYTES_LENGTH)){e.next=9;break}throw new Error("Failed to "+t+". Only got "+u.length+" byte status response.");case 9:if("00"===u.slice(u.length-this.STATUS_BYTES_LENGTH).slice(0,1).toString("hex")){e.next=12;break}throw new Error("Failed to "+t);case 12:if(!(u.length>this.STATUS_BYTES_LENGTH)){e.next=16;break}return e.abrupt("return",u.slice(0,u.length-this.STATUS_BYTES_LENGTH));case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"read_from_pool",value:function(e,t){var a=0;return new n.default(function(n){var r=setInterval(function(){var o=E.read();if(0===o.length&&a++,10*t<a)return clearInterval(r),void n(!1);try{var u=new c("<BBHI").unpack(o.slice(0,8)),s=(0,i.default)(u,4),l=(s[0],s[1]),d=(s[2],s[3]),f=o.slice(8);null!==e&&l!==e||(clearInterval(r),n([d,f]))}catch(e){}},100)})}},{key:"command",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n){e.next=4;break}return t=p.concat([new c("<BBHI").pack(0,n,o.length,i),o]),e.next=4,this.write(t);case 4:return e.next=6,this.read_from_pool(n,u);case 6:if(!1===(a=e.sent)){e.next=9;break}return e.abrupt("return",a);case 9:throw new Error("Response doesn't match request");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"write",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var a,o=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[192],t.forEach(function(e,t){219===e?(a.push(219),a.push(221)):192===e?(a.push(219),a.push(220)):a.push(e)}),a.push(192),e.next=6,this._port.inst.drain();case 6:return this._port.write(a),e.abrupt("return",new n.default(function(e){var t=(new Date).getTime(),a=setInterval(function(){o._port.recevie?(clearInterval(a),e()):2e3<(new Date).getTime()-t&&(clearInterval(a),e())},100)}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"timeout_per_mb",value:function(e,t){var a=e*(t/1e6);return a<3?3:a}},{key:"checksum",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:239;return e.forEach(function(e,a){t^="number"==typeof e?e:e.charCodeAt()}),t}},{key:"flash_defl_block",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.check_command("write compressed data to flash after seq "+a,17,p.concat([new c("<IIII").pack(t.length,a,0,0),t]),this.checksum(t),n);case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"flash_md5sum",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a){var n,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.timeout_per_mb(8,a),e.next=3,this.check_command("calculate md5sum",19,new c("<IIII").pack(t,a,0,0),0,n);case 3:if(32!==(o=e.sent).length){e.next=8;break}return e.abrupt("return",o.toString("utf8"));case 8:if(16!==o.length){e.next=12;break}return e.abrupt("return",o.toString("hex").toLowerCase());case 12:throw new Error("MD5Sum command returned unexpected result: "+o.toString());case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"flash_defl_finish",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c("<I").pack(Number(!a)),e.next=3,this.check_command("leave compressed flash mode",18,t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"flash_begin",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a){var n,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt((t+16384-1)/16384),o=this.get_erase_size(a,t),e.next=4,this.check_command("enter Flash download mode",2,new c("<IIII").pack(o,n,16384,a),0,3);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"get_erase_size",value:function(e,t){return t}},{key:"mem_begin",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a,n,o){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.check_command("enter RAM download mode",5,new c("<IIII").pack(t,a,n,o));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"mem_block",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.check_command("write to target RAM",7,p.concat([new c("<IIII").pack(t.length,a,0,0),t]),this.checksum(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"mem_finish",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c("<II").pack(Number(0===a),a),e.prev=1,e.next=4,this.check_command("leave RAM download mode",6,t,0,3);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!this.IS_STUB){e.next=11;break}throw e.t0;case 11:return e.abrupt("return");case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"run_stub",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a,n,o,i,u,s,l,c,d,f;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=h.STUB_CODE,a=["text","data"],n=0;case 3:if(!(n<a.length)){e.next=24;break}if(o=a[n],!t[o]){e.next=21;break}return i=t[o+"_start"],u=t[o].length,s=parseInt((u+6144-1)/6144),e.next=11,this.mem_begin(u,s,6144,i);case 11:l=0;case 12:if(!(l<s)){e.next=21;break}return d=(d=(c=6144*l)+6144)>t[o].length?t[o].length:d,e.next=18,this.mem_block(t[o].slice(c,d),l);case 18:l++,e.next=12;break;case 21:n++,e.next=3;break;case 24:return e.next=26,this.mem_finish(t.entry);case 26:if("OHAI"===(f=E.read()).toString()){e.next=29;break}throw new Error("Failed to start stub. Unexpected response: "+f.toString());case 29:return e.abrupt("return",this.IS_STUB=!0);case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_connect_attempt",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default_reset_connect_attempt",o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._port.isOpen){e.next=2;break}throw new Error("serialport is diconnect");case 2:if(t=null,"no_reset_no_sync"!==n){e.next=5;break}return e.abrupt("return",t);case 5:if("no_reset"===n){e.next=19;break}return this._port.inst.set({dtr:!1,rts:!0}),e.next=9,this.sleep(.1);case 9:if(!o){e.next=12;break}return e.next=12,this.sleep(1.2);case 12:if(this._port.inst.set({dtr:!0,rts:!1}),!o){e.next=16;break}return e.next=16,this.sleep(.4);case 16:return e.next=18,this.sleep(.05);case 18:this._port.inst.set({dtr:!1,rts:!1});case 19:a=0;case 20:if(!(a<5)){e.next=37;break}return e.prev=21,e.next=24,this._port.inst.drain();case 24:return e.next=26,this.sync();case 26:return e.abrupt("return",null);case 29:return e.prev=29,e.t0=e.catch(21),e.next=33,this.sleep(.05);case 33:t=e.t0;case 34:a++,e.next=20;break;case 37:return e.abrupt("return",t);case 38:case"end":return e.stop()}},e,this,[[21,29]])}));return function(){return e.apply(this,arguments)}}()},{key:"sync",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a,n,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[7,7,18,32],a=0;a<32;a++)t.push(85);return n=p.from(t),e.next=5,this.command(8,n,0,.1);case 5:o=0;case 6:if(!(o<7)){e.next=12;break}return e.next=9,this.command();case 9:o++,e.next=6;break;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new n.default(function(t){setTimeout(function(){t()},1e3*e)})}},{key:"connect",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default_reset";return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:void 0,e.prev=1,t=0;case 3:if(!(t<7)){e.next=17;break}return e.next=6,this._connect_attempt(a,!1);case 6:if(null!==e.sent){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this._connect_attempt(a,!0);case 11:if(null!==e.sent){e.next=14;break}return e.abrupt("return");case 14:t++,e.next=3;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(1);case 21:throw new Error("Failed to Boot.");case 22:case"end":return e.stop()}},e,this,[[1,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"hard_reset",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._port.inst.set({rts:!0,dtr:!1}),e.next=3,this.sleep(.1);case 3:this._port.inst.set({rts:!1,dtr:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"write_flash",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a,n,o,i,u,s,l,c,p,h,E,v;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).flash_size=this.flash_size,t.flash_mode=this.flash_mode,t.flash_freq=this.flash_freq,t.compress=this.compress,e.next=7,this.connect("default_reset");case 7:if(a=m(t.flash_size),n=parseInt(this.addrIdx,10),!(a<n+this.firmwareDataBuffer.length)){e.next=11;break}throw new Error("Firmware (length "+this.firmwareDataBuffer.length+") at offset "+n+" will not fit in "+a+" bytes of flash. Use --flash-size argument, or change flashing address.");case 11:return o=this.pad_to(this.firmwareDataBuffer,4),o=this._update_image_flash_params(n,t,o),i=d.createHash("md5").update(o).digest("hex"),u=o.length,e.next=17,this.run_stub();case 17:return this.flashingGo=!0,s=o,o=f.deflateSync(s,{level:9}),l=u/o.length,this.STATUS_BYTES_LENGTH=2,e.next=24,this.flash_defl_begin(u,o.length,n);case 24:c=e.sent,p=0,h=void 0,E=0,0,v=(new Date).getTime();case 28:if(!(o.length>0)){e.next=40;break}return(E=parseInt(100*(p+1)/c))<100&&this.progressHandle(this.tag,this.progresscb,E),h=o.slice(0,16384),e.next=35,this.flash_defl_block(h,p,3*l);case 35:o=o.slice(16384),p+=1,h.length,e.next=28;break;case 40:return v=(new Date).getTime()-v,e.next=44,this.flash_md5sum(n,u);case 44:if(e.sent===i){e.next=47;break}throw new Error("MD5 of file does not match data in flash!");case 47:return e.next=49,this.flash_begin(0,0);case 49:return e.next=51,this.flash_defl_finish(!1);case 51:return e.next=53,this.hard_reset();case 53:this.progressHandle(this.tag,this.progresscb,100);case 54:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),S=function(){function e(t,a,n,r,o){(0,u.default)(this,e);var i=new v(t);this.currentTag=o,this.esptool=new T(i,a,n,r,o)}return(0,s.default)(e,[{key:"bootLoad",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E.init(),this.esptool.initEsp(),e.next=5,this.esptool.write_flash();case 5:t(this.currentTag,a,null,function(){}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(this.currentTag,a,e.t0,null);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}()}]),e}();t.default=S},1519:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(44)),r=o(a(670));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,a,o){if("string"==(void 0===t?"undefined":(0,n.default)(t)))(0,r.default)(e,t,a,o);else if(t instanceof ArrayBuffer){var i=new TextDecoder("utf-8").decode(new Uint8Array(t));(0,r.default)(e,i,a,o)}else o("unsupported image data type")}},1520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(44)),r=o(a(672));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,a,o){if("string"==(void 0===t?"undefined":(0,n.default)(t)))(0,r.default)(e,t,a,o);else if(t instanceof ArrayBuffer){var i=new TextDecoder("utf-8").decode(new Uint8Array(t));(0,r.default)(e,i,a,o)}else o("unsupported image data type")}},1521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(1520)),r=u(a(1519)),o=u(a(655)),i=u(a(1432));function u(e){return e&&e.__esModule?e:{default:e}}t.default={stk500v1:n.default,stk500v2:r.default,esptool:o.default,esptoolByExec:i.default}},1522:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=s(a(23)),o=s(a(25)),i=s(a(114)),u=(n=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.code=c(t.code),e.abrupt("return",t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)});function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){for(var t=[],a=[],n=e.split(""),r=0,o=n.length;r<o;r+=8)a.push(n.slice(r,r+8));var u=!0,s=!1,l=void 0;try{for(var c,d=(0,i.default)(a);!(u=(c=d.next()).done);u=!0){var f=c.value.join(""),p=parseInt(f,2).toString(16);parseInt(f,2)<16&&(p="0"+p),t.push(p)}}catch(e){s=!0,l=e}finally{try{!u&&d.return&&d.return()}finally{if(s)throw l}}return t=t.join("")},c=function(e){var t=e.match(/codey\.face(?:_at)?\(([\s\S]*?)\)/g);if(!t)return e;for(var a=0;a<t.length;a++){var n=t[a].split(",")[0].replace(/codey.face(?:_at)?\(/,"").replace(")","");if("'"===n.charAt(0)||'"'===n.charAt(0)||n.length>200){var r=n.trim().split("'").join("").replace(/\s/g,""),o=r;if(r.length>34){for(var i=[],u=0;u<16;){i[u]="";for(var s=0;s<8;)i[u]+=r[16*s+u],s++;u++}o="'"+l(i.join(""))+"'"}32===r.length&&(o="'"+r+"'"),e=e.replace(n,o)}}return e};t.default={process:u,name:"codey"}},1523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,o=p(a(23)),i=p(a(40)),u=p(a(25)),s=(n=(0,u.default)(o.default.mark(function e(t){var a,n,r,u,s,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,(n=t.options)||(n={}),r=function(e){c.default.debug(e),f.default.emit("CompilerLog",e)},u=function(){return new i.default(function(e,t){(a=l.default.connect(d.default.socket.compilerUrl)).on("disconnect",function(){r("Arduino server disconnected."),t("disconnected")}),a.on("connect",function(){r("Arduino server connected."),e()}),setTimeout(function(){t("Connect arduino server timeout")},5e3)})},s=function(){return new i.default(function(e,o){a.emit("compileReq",n,t.code),a.on("compileRsp",function(t){r("Arduino compile finish."),t?e(t):o("Arduino compile fail")}),r("Arduino compile..."),a.on("log",function(e){r(e)}),setTimeout(function(){e({errcode:-1,errmsg:"compile timeout"})},2e4)})},e.next=8,u();case 8:return e.next=10,s();case 10:return p=e.sent,a.disconnect(!0),a=null,t.code=p,e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),l=(r=(0,u.default)(o.default.mark(function e(t){var a,n,r,u,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.options,n={connectType:"serialport",cmd:"compile",params:{options:a,code:t.code}},r=function(e){f.default.emit("CompilerLog",e)},u=function(){return new i.default(function(e,t){var a=window.MbApi.getServiceChannel();a?(a.addListener(n.connectType,"log",function(e,t){r(t)}),a.sendMessage(n,function(o,i){a.removeListener(n.connectType,"log"),o?(r(o),t(o)):e(i)})):t("microbit service not available")})},e.next=6,u();case 6:return s=e.sent,r("arduino build finish"),t.code=s.code,e.abrupt("return",t);case 10:case"end":return e.stop()}},e,this)})),p(a(667))),c=p(a(307)),d=p(a(21)),f=p(a(19));function p(e){return e&&e.__esModule?e:{default:e}}var h;h=s,t.default={name:"arduino",process:h}},1524:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=u(a(11)),o=u(a(1523)),i=u(a(1522));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(n={},(0,r.default)(n,o.default.name,o.default.process),(0,r.default)(n,i.default.name,i.default.process),n)},1525:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(1524),o=(n=r)&&n.__esModule?n:{default:n};t.default={middlewares:o.default}},1526:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(153),o=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t,a,n){var r=o.default.serviceChannel;if(r){var i={connectType:"microbit",cmd:"upload",params:{pyScript:t}};a(1),r.sendMessage(i,function(e,t){e?n(e):(n(null,t),a(100))})}else n("microbit service not available")}},1527:function(e,t,a){"use strict";(function(t){var n,r=a(408),o=(n=r)&&n.__esModule?n:{default:n};var i=e.exports={},u=function(e){return(e+"").charCodeAt(0)},s=0;i.Flasher=function(e,t){var a=this;this.options=t||{},this.sp=e,this.signature=this.options.signature||"LUFACDC",this.options.debug&&this.sp.on("data",function(e){for(var t=0;t<e.length;t++){var a=e.toString().substring(t,t+1);(a.charCodeAt(0)<32||a.charCodeAt(0)>126)&&(a=".")}}),this.c=function(e,t,n){return a.cmds.push({value:e,callback:function(e){t&&t(e)},expectedResponseLength:n}),this},this.flashChunkSize=0,this.bytes=[],this.cmds=[]},i.Flasher.prototype={run:function(e){var a=this;setTimeout(function(){if(!a.running){var n=a.cmds.shift();if(n){s=setTimeout(function(){clearTimeout(s),a.sp.emit("error","time out")},2e3),a.running=!0,a.options.debug;var r=new t(0);a.sp.on("data",function o(i){clearTimeout(s),i&&(r=t.concat([r,i])),(void 0===n.expectedResponseLength||n.expectedResponseLength<=r.length)&&(a.sp.removeListener("data",o),a.running=!1,n.callback(r),setTimeout(function(){a.cmds.length>0?a.run(e):e&&e()},0))}),a.sp.write(n.value),a.progressHandle&&a.progressHandle(Math.round((a.progressTotalLength-a.cmds.length)/a.progressTotalLength*100))}}},0)},prepare:function(e){var t=this;this.c("S",function(a){a.toString()!==t.signature&&e(new Error("Invalid device signature; expecting: "+t.signature+" received: "+a.toString()))}).c("V").c("v").c("p").c("a").c("b",function(a){"Y"!=(a.toString()||"X")[0]&&e(new Error("Buffered memory access not supported.")),t.flashChunkSize=a.readUInt16BE(1)}).c("t").c("TD").c("P").c("s"),this.run(function(){e(null,t)})},erase:function(e){e&&e()},program:function(e,t,a){var n,r=this,i=[];this.totalBytes=0,this.c([u("A"),0,0],function(){r.progressHandle=t,n=o.default.parse(e),r.totalBytes=n.data.length,Array.prototype.push.apply(i,n.data),r.allBytes=i,r.options.debug,r.chunksSent=[];for(var a=0;a<i.length;a+=r.flashChunkSize){var s=Array.prototype.slice.call(n.data.slice(a,a+r.flashChunkSize));r.chunksSent.push(s),r.c([u("B"),s.length>>8&255,255&s.length,u("F")].concat(s))}r.progressTotalLength=r.cmds.length}),this.run(function(){r.progressHandle=null,a&&a()})},verify:function(e){this.c("L").c("E"),this.run(function(){e()})}},i.init=function(e,t,a){"function"!=typeof t||a||(a=t,t={}),new i.Flasher(e,t).prepare(a)}}).call(this,a(26).Buffer)},1528:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(40)),r=p(a(3)),o=p(a(9)),i=p(a(2)),u=p(a(7)),s=p(a(5)),l=p(a(6)),c=a(250),d=p(a(406)),f=p(a(12));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,a,n){(0,i.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return r.connectType="ble",r.options=a,a||(r.options={connectType:r.connectType}),r.options.port=e,d.default.createListeners("ble","onReceive",function(e){e.error?"disconnect"===e.error?(r.emit("disconnect",e.error,r.isOpen),r.isOpen=!1):"close"===e.error?(r.emit("disconnect",e.error,r.isOpen),r.isOpen=!1):(r.emit("error",e.error,r.isOpen),r.isOpen=!1):r.emit("data",e.data)}),d.default.addDisconnectListener(function(e){r.emit("disconnect",e,r.isOpen),r.isOpen=!1}),f.default.isFunction(n)&&n(),r.isOpen=!1,r}return(0,l.default)(t,e),(0,u.default)(t,[{key:"open",value:function(e){var t=this;d.default.sendMessage({connectType:this.connectType,cmd:"open",params:{options:(0,r.default)({},this.options)}},function(a){t.isOpen=!a,e(a)})}},{key:"close",value:function(e){var t=this;return new n.default(function(a){d.default.sendMessage({connectType:t.connectType,cmd:"close",params:{options:t.options}},function(n,r){t.emit("disconnect",n,t.isOpen),t.isOpen=!1,f.default.isFunction(e)&&e(n,r),a()})})}},{key:"write",value:function(e,t,a){var r=this;return new n.default(function(n){d.default.sendMessage({connectType:r.connectType,cmd:"write",params:{options:r.options,data:e,encode:t}},function(e,t){"disconnect"===e&&(r.emit("disconnect",e,r.isOpen),r.isOpen=!1),f.default.isFunction(a)&&a(e,t),n()})})}},{key:"set",value:function(e,t){var a=this;return new n.default(function(n){d.default.sendMessage({connectType:a.connectType,cmd:"set",params:{options:a.options,data:e}},function(e,r){"disconnect"===e&&(a.emit("disconnect",e,a.isOpen),a.isOpen=!1),f.default.isFunction(t)&&t(e,r),n()})})}},{key:"drain",value:function(e){var t=this;return new n.default(function(a){d.default.sendMessage({connectType:t.connectType,cmd:"drain",params:{options:t.options}},function(n,r){"disconnect"===n&&(t.emit("disconnect",n,t.isOpen),t.isOpen=!1),f.default.isFunction(e)&&e(n,r),a()})})}},{key:"flush",value:function(e){var t=this;return new n.default(function(a){d.default.sendMessage({connectType:t.connectType,cmd:"flush",params:{options:t.options}},function(n,r){"disconnect"===n&&(t.emit("disconnect",n,t.isOpen),t.isOpen=!1),f.default.isFunction(e)&&e(n,r),a()})})}},{key:"connectAttempt",value:function(e){}}],[{key:"list",value:function(e,t){d.default.sendMessage({connectType:"ble",cmd:"getDevices",params:{options:this.options}},function(e,a){if(e)return t(e,[]);t(e,a)})}}]),t}(c.EventEmitter);t.default=h},1529:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(40)),r=f(a(9)),o=f(a(2)),i=f(a(7)),u=f(a(5)),s=f(a(6)),l=f(a(12)),c=a(250),d=f(a(406));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,a,n){(0,o.default)(this,t);var i=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return i.connectType="serialport",i.options=a,a||(i.options={connectType:i.connectType,baudRate:115200}),i.options.port=e,d.default.createListeners("serialport","onReceive",function(e){e.error?"disconnect"===e.error?(i.emit("disconnect",e.error,i.isOpen),i.isOpen=!1):"close"===e.error?(i.emit("disconnect",e.error,i.isOpen),i.isOpen=!1):(i.emit("error",e.error,i.isOpen),i.isOpen=!1):i.emit("data",e.data)}),d.default.addDisconnectListener(function(e){i.emit("disconnect",e,i.isOpen),i.isOpen=!1}),l.default.isFunction(n)&&n(),i.isOpen=!1,i}return(0,s.default)(t,e),(0,i.default)(t,[{key:"open",value:function(e){var t=this;return d.default.sendMessage({connectType:this.connectType,cmd:"open",params:{options:this.options}},function(a){t.isOpen=!a,e(a)}),this}},{key:"close",value:function(e,t){var a=this;return new n.default(function(n){d.default.sendMessage({connectType:a.connectType,cmd:"close",params:{options:a.options}},function(r,o){!0!==t&&a.emit("disconnect",r,a.isOpen),a.isOpen=!1,l.default.isFunction(e)&&e(r,o),n()})})}},{key:"write",value:function(e,t,a){var r=this;return new n.default(function(n){d.default.sendMessage({connectType:r.connectType,cmd:"write",params:{options:r.options,data:e,encode:t}},function(e,t){"disconnect"===e&&(r.emit("disconnect",e,r.isOpen),r.isOpen=!1),l.default.isFunction(a)&&a(e,t),n()})})}},{key:"set",value:function(e,t){var a=this;return new n.default(function(n,r){d.default.sendMessage({connectType:a.connectType,cmd:"set",params:{options:a.options,data:e}},function(e,o){"disconnect"===e&&(r(e),a.emit("disconnect",e,a.isOpen),a.isOpen=!1),l.default.isFunction(t)&&t(e,o),n()})})}},{key:"drain",value:function(e){var t=this;return new n.default(function(a){d.default.sendMessage({connectType:t.connectType,cmd:"drain",params:{options:t.options}},function(n,r){"disconnect"===n&&(t.emit("disconnect",n,t.isOpen),t.isOpen=!1),l.default.isFunction(e)&&e(n,r),a()})})}},{key:"flush",value:function(e){var t=this;return new n.default(function(a){d.default.sendMessage({connectType:t.connectType,cmd:"flush",params:{options:t.options}},function(n,r){"disconnect"===n&&(t.emit("disconnect",n,t.isOpen),t.isOpen=!1),l.default.isFunction(e)&&e(n,r),a()})})}},{key:"connectAttempt",value:function(e){var t=this;return new n.default(function(a){d.default.sendMessage({connectType:t.connectType,cmd:"connect_attempt",params:{options:t.options,esp32r0_delay:e}},function(e,n){"disconnect"===e&&(t.emit("disconnect",e,t.isOpen),t.isOpen=!1),a()})})}}],[{key:"list",value:function(e,t){d.default.sendMessage({connectType:"serialport",cmd:"getDevices",params:{options:this.options}},function(e,a){if(e)return t(e,[]);var n=[];a.forEach(function(e){e.productId&&(e.manufacturer=e.manufacturer||"",n.unshift(e))}),t(e,n)})}}]),t}(c.EventEmitter);t.default=p},153:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(3)),r=s(a(2)),o=s(a(7)),i=s(a(265)),u=a(323);function s(e){return e&&e.__esModule?e:{default:e}}var l=void 0,c=void 0,d=void 0;if(i.default.isChromeOS){var f=a(1555);l=f.default,c=f.SerialPort}else{var p=a(1551);l=p.default,c=p.SerialPort,d=p.BLE,window.mchannel=l}var h=function(e){switch(e){case u.CONNECT_TYPE.BLE:return d;default:return c}},m=function(){function e(){(0,r.default)(this,e),this.ports={},this.serviceChannel=l}return(0,o.default)(e,[{key:"addDataListener",value:function(e,t,a){var n=this.ports[t];n&&n.on("data",function(e){a(e)})}},{key:"addErrorListener",value:function(e,t,a){var n=this.ports[t];n&&(n.on("disconnect",function(e,t){a(e,t)}),n.on("error",function(e,t){a(e,t)}))}},{key:"connect",value:function(e,t,a){var r=this,o=e+"."+t.comName,i=h(e);this.ports[o]=new i(t.comName,(0,n.default)({connectType:e},t)),this.ports[o].open(function(n){n?a(n):a(null,{comName:t.comName,type:e,connectionId:o,rawPort:r.ports[o]})}).on("error",function(e){a(e)})}},{key:"disconnect",value:function(e,t,a){var n=this.ports[t];this.ports[t]=null,n?n.close(function(e){e?a&&a(e,null):a&&a(null,{comName:t,connectionId:t})}):a&&a(null,{comName:t,connectionId:t})}},{key:"discovery",value:function(e,t){h(e).list(e,function(e,a){t(e,a)})}},{key:"send",value:function(e,t,a,n){var r=this.ports[t];r?r.write(a,"utf8",function(e){n(e,{})}):n(null,{})}},{key:"isInstall",value:function(){return l.getChannelConnected()}},{key:"closeChannel",value:function(){l.close&&l.close()}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();t.default=m.getInstance()},1532:function(e,t){},1550:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),r=u(a(7)),o=u(a(12)),i=u(a(667));function u(e){return e&&e.__esModule?e:{default:e}}var s=u(a(21)).default.socket.url,l=3e5,c=function(e){0},d=function(){function e(){var t=this;(0,n.default)(this,e),this.client=(0,i.default)(s,{autoConnect:!1}),this.initializationMessageChannelData(),this.connectEmitFunc=null,this.disconnectEmitFunc=null,this.dataEmitFunc=null,this.isConnected=!1,this.listenerVecter(),setInterval(function(){t.cleanDirtyData()},l),this.preSocketId=null}return(0,r.default)(e,[{key:"establishChannel",value:function(){return this.preSocketId&&this.preSocketId===this.client.id?this.client.connected:(this.client.open(),this.preSocketId=this.client.id,this.client.connected)}},{key:"close",value:function(){this.client&&this.client.close()}},{key:"listenerVecter",value:function(){var e=this;this.client.on("s2c_send",function(t,a){var n=a.connectType+"."+a.method+"."+t;c(0),o.default.isFunction(e.channelMessageHandleMap[n])&&e.channelMessageHandleMap[n](a.error,a.data),e.channelMessageHandleMap&&o.default.has(e.channelMessageHandleMap,n)&&(delete e.channelMessageTimeHandleMap[n],delete e.channelMessageHandleMap[n])}),this.client.on("connect",function(){e.isConnected=!0,e.initializationMessageChannelData(),o.default.isFunction(e.connectEmitFunc)&&e.connectEmitFunc("socket.io-client connected."),c(0)}),this.client.on("disconnect",function(){e.isConnected=!1,e.initializationMessageChannelData(),o.default.isFunction(e.disconnectEmitFunc)&&e.disconnectEmitFunc("socket.io-client disconnect."),c(0)}),this.client.on("s2c_receive",function(t){o.default.isFunction(e.dataEmitFunc)&&e.dataEmitFunc(t)})}},{key:"initializationMessageChannelData",value:function(){this.messageId=0,this.channelMessageHandleMap={},this.channelMessageTimeHandleMap={}}},{key:"cleanDirtyData",value:function(){for(var e in this.channelMessageTimeHandleMap){var t=(new Date).getTime()-this.channelMessageTimeHandleMap[e];l<=t&&(o.default.isFunction(this.channelMessageHandleMap[e])&&this.channelMessageHandleMap[e]("消息["+e+"]发送：硬件未响应",{}),delete this.channelMessageTimeHandleMap[e],delete this.channelMessageHandleMap[e])}}},{key:"getMessageId",value:function(){return this.messageId+=1,this.messageId>=2147483646&&(this.messageId=0),this._getRandomString(8)+"."+this.messageId}},{key:"_getRandomString",value:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",a=t.length,n="",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*a));return n}},{key:"sendMessage",value:function(e,t){var a=this.getMessageId(),n=e.connectType+"."+e.cmd+"."+a;this.channelMessageHandleMap[n]=t,this.channelMessageTimeHandleMap[n]=(new Date).getTime(),this.client.emit("c2s_send",a,e),c(0)}},{key:"addConnectListener",value:function(e){this.connectEmitFunc=e}},{key:"addDisconnectListener",value:function(e){this.disconnectEmitFunc=e}},{key:"addDataListener",value:function(e){this.dataEmitFunc=e}}]),e}();t.default=new function e(){(0,n.default)(this,e),this.runtime=new d}},1551:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLE=t.SerialPort=t.default=void 0;var n=s(a(2)),r=s(a(7)),o=s(a(406)),i=s(a(1529)),u=s(a(1528));function s(e){return e&&e.__esModule?e:{default:e}}var l=new(function(){function e(){(0,n.default)(this,e),this.client=o.default.client}return(0,r.default)(e,[{key:"getChannelConnected",value:function(){return o.default.getConnected()}},{key:"close",value:function(){o.default.close()}},{key:"addListener",value:function(e,t,a){o.default.createListeners(e,t,function(e){a(e.error,e.data)})}},{key:"removeListener",value:function(e,t){o.default.destroyListeners(e,t)}},{key:"sendMessage",value:function(e,t){o.default.sendMessage(e,t)}}]),e}());t.default=l,t.SerialPort=i.default,t.BLE=u.default},1553:function(e,t,a){"use strict";(function(t,n){var r=a(250).EventEmitter,o=[7,8],i=[1,2],u=["none","even","mark","odd","space"],s=["RTSCTS"],l={baudrate:9600,parity:"none",rtscts:!1,databits:8,stopbits:1,buffersize:256};function c(e,a,n,c){r.call(this);var d,f=this,p=Array.prototype.slice.call(arguments);if("function"!=typeof(c=p.pop())&&(c=null),a="function"!=typeof a&&a||{},n=void 0===n||null===n||n,c=c||function(e){e&&f.emit("error",e)},a.baudRate=a.baudRate||a.baudrate||l.baudrate,a.dataBits=a.dataBits||a.databits||l.databits,-1===o.indexOf(a.dataBits))return d=new Error('Invalid "databits": '+a.dataBits),void c(d);if(a.stopBits=a.stopBits||a.stopbits||l.stopbits,-1===i.indexOf(a.stopBits))return d=new Error('Invalid "stopbits": '+a.stopbits),void c(d);if(a.parity=a.parity||l.parity,-1===u.indexOf(a.parity))return d=new Error('Invalid "parity": '+a.parity),void c(d);if(!e)return d=new Error("Invalid port specified: "+e),void c(d);if(a.rtscts=l.rtscts,a.flowControl||a.flowcontrol){var h=a.flowControl||a.flowcontrol;if("boolean"==typeof h)a.rtscts=!0;else if(!h.every(function(e){var t=e.toUpperCase(),n=s.indexOf(t);if(n<0){var r=new Error('Invalid "flowControl": '+t+". Valid options: "+s.join(", "));return c(r),!1}switch(n){case 0:a.rtscts=!0}return!0}))return}if(a.bufferSize=a.bufferSize||a.buffersize||l.buffersize,a.serial=a.serial||"undefined"!=typeof chrome&&chrome.serial,!a.serial)throw new Error("No access to serial ports. Try loading as a Chrome Application.");this.options=function(e){switch(e.dataBits){case 7:e.dataBits="seven";break;case 8:e.dataBits="eight"}switch(e.stopBits){case 1:e.stopBits="one";break;case 2:e.stopBits="two"}switch(e.parity){case"none":e.parity="no"}return e}(a),this.options.serial.onReceiveError.addListener(function(e){switch(e.error){case"disconnected":case"device_lost":case"system_error":d=new Error("Disconnected"),f.options.disconnectedCallback&&f.options.disconnectedCallback(d),f.close()}}),this.path=e,n&&t.nextTick(function(){f.open(c)})}a(304).inherits(c,r),c.prototype.connectionId=-1,c.prototype.open=function(e){var t={bitrate:parseInt(this.options.baudRate,10),dataBits:this.options.dataBits,parityBit:this.options.parity,stopBits:this.options.stopBits,ctsFlowControl:this.options.rtscts};return this.options.serial.connect(this.path,t,this.proxy("onOpen",e)),this},c.prototype.onOpen=function(e,t){chrome.runtime.lastError?"function"==typeof e?e(chrome.runtime.lastError):this.emit("error",chrome.runtime.lastError):(this.connectionId=t.connectionId,-1!==this.connectionId?(this.emit("open",t),this._reader=this.proxy("onRead"),this.options.serial.onReceive.addListener(this._reader),"function"==typeof e&&e(chrome.runtime.lastError,t)):this.emit("error",new Error("Could not open port.")))},c.prototype.onRead=function(e){if(e&&this.connectionId===e.connectionId)if(this.options.dataCallback)this.options.dataCallback(e.data);else{var t={type:"Buffer",data:e.data};this.emit("data",t)}},c.prototype.write=function(e,t,a){if(this.connectionId<0){var n=new Error("Serialport not open.");"function"==typeof a?a(n):this.emit("error",n)}else this.options.serial.send(this.connectionId,e,function(e){"function"==typeof a&&a(chrome.runtime.lastError,e)})},c.prototype.close=function(e){if(this.connectionId<0){var t=new Error("Serialport not open.");"function"==typeof e?e(t):this.emit("error",t)}else this.options.serial.disconnect(this.connectionId,this.proxy("onClose",e)),this.emit("disconnect",t,this.isOpen())},c.prototype.onClose=function(e,t){this.connectionId=-1,this.emit("close"),this.removeAllListeners(),this._reader&&(this.options.serial.onReceive.removeListener(this._reader),this._reader=null),"function"==typeof e&&e(chrome.runtime.lastError,t)},c.prototype.flush=function(e){if(this.connectionId<0){var t=new Error("Serialport not open.");"function"==typeof e?e(t):this.emit("error",t)}else{var a=this;this.options.serial.flush(this.connectionId,function(t){chrome.runtime.lastError?"function"==typeof e?e(chrome.runtime.lastError,t):a.emit("error",chrome.runtime.lastError):"function"==typeof e&&e(null,t)})}},c.prototype.drain=function(e){if(this.connectionId<0){var t=new Error("Serialport not open.");"function"==typeof e?e(t):this.emit("error",t)}else{"function"==typeof e&&e()}},c.prototype.proxy=function(){for(var e=this,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var n=t.splice(0,1)[0];return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var o=t.concat(a);e[n].apply(e,o)}},c.prototype.set=function(e,t){this.options.serial.setControlSignals(this.connectionId,e,function(e){"function"==typeof t&&t(chrome.runtime.lastError,e)})},c.prototype.isOpen=function(){return this.connectionId>-1},e.exports={SerialPort:c,list:function(e){"undefined"!=typeof chrome&&chrome.serial?chrome.serial.getDevices(function(t){for(var a=new Array(t.length),n=0;n<t.length;n++)a[n]={comName:t[n].path,manufacturer:t[n].displayName,serialNumber:"",pnpId:"",locationId:"",vendorId:"0x"+(t[n].vendorId||0).toString(16),productId:"0x"+(t[n].productId||0).toString(16)};"function"==typeof e&&e(chrome.runtime.lastError,a)}):"function"==typeof e&&e(new Error("No access to serial ports. Try loading as a Chrome Application."),null)},buffer2ArrayBuffer:function(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n<e.length;n++)a[n]=e[n];return t},used:[]}}).call(this,a(74),a(26).Buffer)},1554:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=i(a(668));function i(e){return e&&e.__esModule?e:{default:e}}var u="serialport",s=new(function(){function e(){(0,n.default)(this,e),this.onReceive=o.default.createListeners(u,"onReceive",function(e){return e.info}),this.onReceiveError=o.default.createListeners(u,"onReceiveError",function(e){return e.info})}return(0,r.default)(e,[{key:"getDevices",value:function(e){o.default.sendMessage({connectType:u,cmd:"getDevices",params:{}},function(t,a){e(a.ports)})}},{key:"connect",value:function(e,t,a){o.default.sendMessage({connectType:u,cmd:"connect",params:{path:e,options:t}},function(e,t){a(t.connection)})}},{key:"disconnect",value:function(e,t){o.default.sendMessage({connectType:u,cmd:"disconnect",params:{connectionId:e}},function(e,a){t(a.result)})}},{key:"send",value:function(e,t,a){o.default.sendMessage({connectType:u,cmd:"send",params:{connectionId:e,data:t}},function(e,t){a(t.sendInfo)})}},{key:"flush",value:function(e,t){o.default.sendMessage({connectType:u,cmd:"flush",params:{connectionId:e}},function(e,a){t(a.result)})}},{key:"update",value:function(e,t,a){o.default.sendMessage({connectType:u,cmd:"update",params:{connectionId:e}},function(e,t){a(t.result)})}},{key:"getControlSignals",value:function(e,t){o.default.sendMessage({connectType:u,cmd:"getControlSignals",params:{connectionId:e}},function(e,a){t(a.params.signals)})}},{key:"setPaused",value:function(e,t,a){o.default.sendMessage({connectType:u,cmd:"setPaused",params:{connectionId:e}},function(e,t){a()})}},{key:"getInfo",value:function(e,t){o.default.sendMessage({connectType:u,cmd:"getInfo",params:{connectionId:e}},function(e,a){t(a.connectionInfo)})}},{key:"getConnections",value:function(e){o.default.sendMessage(extensionId,{connectType:u,cmd:"getConnections",params:{connectionId:connectionId}},function(t,a){e(a.connectionInfos)})}},{key:"setControlSignals",value:function(e,t,a){o.default.sendMessage({connectType:u,cmd:"setControlSignals",params:{connectionId:e,signals:t}},function(e,t){a(t.result)})}},{key:"getControlSignals",value:function(e,t){o.default.sendMessage({connectType:u,cmd:"getControlSignals",params:{connectionId:e}},function(e,a){t(a.signals)})}},{key:"setBreak",value:function(e,t){o.default.sendMessage({connectType:u,cmd:"setBreak",params:{connectionId:e}},function(e,a){t(a.result)})}},{key:"clearBreak",value:function(e,t){o.default.sendMessage({connectType:u,cmd:"clearBreak",params:{connectionId:e}},function(e,a){t(a.result)})}}]),e}());t.default=s},1555:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SerialPort=t.default=void 0;var n=d(a(9)),r=d(a(5)),o=d(a(6)),i=d(a(2)),u=d(a(7)),s=d(a(1554)),l=d(a(1553)),c=d(a(668));function d(e){return e&&e.__esModule?e:{default:e}}var f={serialport:s.default},p=new(function(){function e(){(0,i.default)(this,e)}return(0,u.default)(e,[{key:"getChromeSerialPort",value:function(){return f.serialport}},{key:"getPort",value:function(e){if(e in f)return this.getChromeSerialPort()}},{key:"sendMessage",value:function(e,t){c.default.sendMessage(e,t)}},{key:"getChannelConnected",value:function(){return c.default.isConnected()}}]),e}()),h=function(e){function t(e,a,o){return(0,i.default)(this,t),a||(a={connectType:"serialport",baudRate:115200}),a.serial=p.getPort(a.connectType),(0,r.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e,a,!1,o))}return(0,o.default)(t,e),(0,u.default)(t,null,[{key:"list",value:function(e,t){p.getPort(e).getDevices(function(e){for(var a=new Array(e.length),n=0;n<e.length;n++)a[n]={comName:e[n].path,manufacturer:e[n].displayName,serialNumber:"",pnpId:"",locationId:"",vendorId:"0x"+(e[n].vendorId||0).toString(16),productId:"0x"+(e[n].productId||0).toString(16)};t(chrome.runtime.lastError,a)})}}]),t}(l.default.SerialPort);t.default=p,t.SerialPort=h},1557:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(23)),r=d(a(39)),o=d(a(25)),i=d(a(153)),u=a(91),s=d(a(19)),l=d(a(307)),c=d(a(1527));function d(e){return e&&e.__esModule?e:{default:e}}var f,p=a(407),h=(f=(0,o.default)(n.default.mark(function e(t,a){var c,d,f,h,E=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.mstore.getState().connect.type,void 0,e.next=4,m(i.default,c);case 4:"reset_port"==(d=e.sent)[0]?(f={comName:d[1].comName,baudRate:1200,deviceId:(0,u.editingTarget)().deviceId,name:(0,u.editingTarget)().name,id:(0,u.editingTarget)().id},window.currentPort.close(function(){var e=(0,o.default)(n.default.mark(function e(o){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return l.default.debug("关闭错误：",o),e.abrupt("return");case 3:return e.next=5,new p(function(e){setTimeout(e,200)});case 5:i.default.connect(c,f,function(e,n){if(e)a(e,null);else{(t=n.rawPort).on("error",function(e){a(e,null)});var o=p.promisify(function(e){e(null,t)}),l=p.promisify(t.set.bind(t));p.join(o().then(function(){return l({rts:!0,dtr:!0})}).delay(250).then(function(){return l({rts:!1,dtr:!1})}).delay(50).then(function(){i.default.disconnect(n.type,n.connectionId)}).then(function(){setTimeout(function(){i.default.discovery(c,function(e,t){if(!e){var n=[];(0,u.editingTarget)().config.options.connect[c]&&(0,u.editingTarget)().config.options.connect[c].productId&&(n=(0,u.editingTarget)().config.options.connect[c].productId.split(",").map(function(e){return parseInt(e,16)}));var o=t.filter(function(e){return-1!==n.indexOf(parseInt(e.productId,16))});if(o){var l={comName:o[0].comName,baudRate:parseInt((0,u.editingTarget)().config.options.connect[c].baudRate),deviceId:(0,u.editingDeviceSprite)().deviceId,name:(0,u.editingDeviceSprite)().name,id:(0,u.editingTarget)().id};i.default.connect(c,l,function(e,t){e?a(e,null):(s.default.emit("DeviceConnected",(0,r.default)({},l,t),c),a(null,l))})}}})},3e3)}).catch(function(e){a(e,null)}))}});case 6:case"end":return e.stop()}},e,E)}));return function(t){return e.apply(this,arguments)}}(),!0)):"bootload_port"==d[0]?(h={comName:d[1].comName,baudRate:parseInt((0,u.editingTarget)().config.options.connect[c].baudRate),deviceId:(0,u.editingTarget)().deviceId,name:(0,u.editingTarget)().name,id:(0,u.editingTarget)().id},window.currentPort.close(function(){var e=(0,o.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return l.default.debug("关闭错误：",t),e.abrupt("return");case 3:return e.next=5,new p(function(e){setTimeout(e,200)});case 5:i.default.connect(c,h,function(e,t){e?a(e,null):(s.default.emit("DeviceConnected",(0,r.default)({},h,t),c),a(null,h))});case 6:case"end":return e.stop()}},e,E)}));return function(t){return e.apply(this,arguments)}}(),!0)):a(new Error("no serial port"));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return f.apply(this,arguments)}),m=function(e,t){var a=[];return(0,u.editingTarget)().config.options.connect[t]&&(a=(0,u.editingTarget)().config.options.connect[t].productId.split(",").map(function(e){return parseInt(e,16)})),new p(function(n){e.discovery(t,function(e,t){if(!e){for(var r=0;r<t.length;r++){if(a[0]==parseInt(t[r].productId,16))return void n(["reset_port",t[r]]);if(a[1]==parseInt(t[r].productId,16))return void n(["bootload_port",t[r]])}n(["none_port"])}})})};t.default=function(t,a,n,r){h(t,function(o,i){if(o)r(o,null);else{var u=void 0,s=void 0;t=window.currentPort,p.promisify(t.set.bind(t));var d=function(e,t,a,r){c.default.init(e,t,function(e,t){if(e)throw e;t.erase(function(){t.program(a.toString(),n,function(){t.verify(function(e){if(e)throw e;r()})})})})};d=p.promisify(d),t?(u=p.promisify(function(e){e(null,t)}),s=function(){t.close()}):l.default.error("serial port not set"),setTimeout(function(){p.join(a,u(),function(e){return e}).then(function(a){return d(t,{signature:new e([67,65,84,69,82,73,78]).toString(),debug:!1},a)}).then(function(){s(),r(null,!0)}).catch(function(e){e&&(e.message.indexOf("3020")>-1?l.default.info("board is not match"):e.message.indexOf("timeout")>-1&&l.default.info("board firmware: timeout")),s(),r(e,null)})},600)}})}}).call(this,a(26).Buffer)},1564:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(672)),r=u(a(670)),o=u(a(1557)),i=u(a(1526));function u(e){return e&&e.__esModule?e:{default:e}}t.default={stk500v1:n.default,stk500v2:r.default,avr109:o.default,microbit:i.default}},1568:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(114)),r=m(a(23)),o=m(a(9)),i=m(a(2)),u=m(a(7)),s=m(a(5)),l=m(a(6)),c=m(a(40)),d=m(a(12)),f=m(a(1567)),p=m(a(410)),h=a(91);function m(e){return e&&e.__esModule?e:{default:e}}var E=function(e,t,a,n){return new(a||(a=c.default))(function(r,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(i,u)}s((n=n.apply(e,t||[])).next())})},v=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this));e._userDevices=[],e._userExts=[],e._ext=null;var a=location.hash.replace("#/?",""),n=f.default.parse(a);return e.extId=n.extId||"",e}return(0,l.default)(t,e),(0,u.default)(t,[{key:"prepareUserData",value:function(){return E(this,void 0,void 0,r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.default.list(1,100,{output:["id","cover","icon","device","name","platform","identify","targets","version","codeTypes","description","main","extApiVersion","fromScratch3"]});case 3:t=e.sent,this.userDevices=d.default.filter(t.list,function(e){return!0===e.device}).map(function(e){return e.originId=e.id,e.id=e.identify,e.coverURL=d.default.isPlainObject(e.icon)?e.icon.url:"",e.userCustom=!0,e}),this.userExts=d.default.filter(t.list,function(e){return!0!==e.device}).map(function(e){return e.originId=e.id,e.id=e.identify,e.coverURL=d.default.isPlainObject(e.cover)?e.cover.url:"",e.userCustom=!0,e}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"inject",value:function(){return E(this,void 0,void 0,r.default.mark(function e(){var t,a,o,i,u,s,l,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.prepareUserData();case 2:if(t=(0,h.getTargetDevices)(),d.default.isArray(t)&&t.forEach(function(e){(0,h.unloadExt)(e.type)}),a=this.dependencies,!d.default.isArray(a)){e.next=33;break}o=!0,i=!1,u=void 0,e.prev=9,s=(0,n.default)(a);case 11:if(o=(l=s.next()).done){e.next=19;break}if(c=l.value,!d.default.isPlainObject(c)){e.next=16;break}return e.next=16,(0,h.loadExt)(c,c.select);case 16:o=!0,e.next=11;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(9),i=!0,u=e.t0;case 25:e.prev=25,e.prev=26,!o&&s.return&&s.return();case 28:if(e.prev=28,!i){e.next=31;break}throw u;case 31:return e.finish(28);case 32:return e.finish(25);case 33:case"end":return e.stop()}},e,this,[[9,21,25,33],[26,,28,32]])}))}},{key:"getExt",value:function(e){var t=[this.userDevices,this.userExts,this.devices,this.exts],a=null,r=!0,o=!1,i=void 0;try{for(var u,s=(0,n.default)(t);!(r=(u=s.next()).done);r=!0){var l=u.value;if(a=d.default.find(l,function(t){return t.id===e}),d.default.isPlainObject(a)&&!d.default.isEmpty(a))break}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return a}},{key:"extId",get:function(){return this._extId},set:function(e){this._extId=e}},{key:"ext",get:function(){return this._ext},set:function(e){e&&(e.id=e.identify),this._ext=e}},{key:"dependencies",get:function(){var e=this;this.ext=d.default.find(this.userDevices,function(t){return t.originId===e.extId}),this.ext||(this.ext=d.default.find(this.userExts,function(t){return t.originId===e.extId}));var t=[],a=function(t){var a=e.userDevices,n=d.default.find(a,function(e){return(e.identify||"").toUpperCase()===t.toUpperCase()});return n?(n.id=n.identify,n):d.default.find(e.devices,function(e){return(e.id||"").toUpperCase()===t.toUpperCase()})},n=function(e){e&&t.push(e)};if(this.ext&&!this.ext.device){this.ext.select=!0;var r=this.ext.targets;d.default.isString(r)?n(a(r)):d.default.isArray(r)&&r.map(function(e){d.default.isString(e)?n(a(e)):d.default.isPlainObject(e)&&d.default.has(e,"name")&&n(a(e.name))})}return n(this.ext),t}},{key:"userExts",get:function(){return this._userExts},set:function(e){this._userExts=e}},{key:"userDevices",get:function(){return this._userDevices},set:function(e){this._userDevices=e}}]),t}(m(a(708)).default);t.default=v},158:function(e,t,a){e.exports=a(31)(67)},16:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(71);t.default=(0,n.createHashHistory)()},165:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(12),o=(n=r)&&n.__esModule?n:{default:n};var i,u=a(622).default,s=a(19).default,l={};i=function(){return window.mstore?window.mstore.getState().intlr.messages:u.intlInitialState.messages},o.default.isEmpty(l)&&(l=i()),s.on("SwitchLanguage",function(){setTimeout(function(){l=i()},0)});t.default=function(e){return o.default.isString(e)?o.default.has(l,e)?-1===e.indexOf(".")?o.default.get(l,e):l[e]:window.Mscratch.instance.formatMessageId(e):o.default.has(l,e.id)?-1===e.id.indexOf(".")?o.default.get(l,e.id):l[e.id]:window.Mscratch.instance.formatMessageId(e.id)}},166:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onbeforeunload=t.removePageLeave=t.listenPageLeave=t.checkUpdate=t.uploadCode=t.onClickUploadFirmware=t.onRedo=t.onUndo=t.setProjectname=t.setPageThumbnail=t.setTitle=void 0;var n=g(a(143)),r=g(a(38)),o=g(a(114)),i=g(a(40)),u=g(a(16));a(1411);var s=g(a(63)),l=g(a(56)),c=g(a(264)),d=g(a(263)),f=g(a(88)),p=a(32),h=a(18),m=g(a(19)),E=g(a(294)),v=g(a(165)),T=g(a(82)),S=g(a(15)),y=a(304);function g(e){return e&&e.__esModule?e:{default:e}}t.setTitle=function(e){N(e),_(e)},t.setPageThumbnail=function(e){e=(0,h.safeHttps)(e),document.querySelector("meta[name=thumbnail]").content=e};var N=function(e){var t=e.getState().intlr.messages;document.title=""+t.MBLOCK},_=t.setProjectname=function(e){var t=e.getState(),a=t.intlr,n=t.project,r=n.projectId,o=n.projectType,i=n.isConfirmName;if(f.default&&!r&&!i){if("example"===o||"local"===o)return;var u=l.default.getNewProjectName(a.messages["FILENAME.EMPTY"],n.projects);e.dispatch(f.default.saved({name:u}))}},O=(t.onUndo=function(){s.default.instance.undo()},t.onRedo=function(){s.default.instance.redo()},t.onClickUploadFirmware=function(){"/"===u.default.location.pathname&&(u.default.push("/updater/firmware/progress"),m.default.emit("uploadFirmwarePrepare"))},t.uploadCode=function(e){"/"===u.default.location.pathname&&(e.dispatch(c.default.uploadCodePrepare()),u.default.push("/upload/code"))},t.checkUpdate=function(e,t){e.dispatch(d.default.checker(t))},function(e){e.preventDefault(),e.returnValue=""}),C=t.listenPageLeave=function(){window.addEventListener("beforeunload",O)},I=(t.removePageLeave=function(){window.removeEventListener("beforeunload",O)},t.onbeforeunload=function(){(0,p.isLocal)()||C()},{info:null,isReset:!1,options:{}}),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=T.default.getState(),s=u.connect,l=u.intlr;if(s.connectedType!==S.default.CONNECT_TYPE.BLE){null==e?(e=I.info,t=I.isReset,a=I.options):I={info:e,isReset:t,options:a};var c=[],d="";e.firmware&&(c=e.firmware.map(function(e){var t="string"==typeof e.url?e.url:e.url.url;if(!d&&e.isFactory&&(d=t),e.modules){var a=[],r=!0,i=!1,u=void 0;try{for(var s,l=(0,o.default)(e.modules);!(r=(s=l.next()).done);r=!0){var c=s.value;a.push({type:c.type,url:c.url.url,version:c.version})}}catch(e){i=!0,u=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw u}}a.push({type:"",url:t,version:e.version});var f=(0,n.default)(a);return{text:(0,v.default)(e.name)+"("+(e.version||"-")+")",value:f}}return{text:(0,v.default)(e.name)+"("+(e.version||"-")+")",value:t}})),(0,E.default)("updateFirmware",{title:"MENU.HELP.UPDATEFIRMWARE",width:"340px",fields:[{id:"device",label:"UPDATER.FRIMWARE.F.DEVICE.TEXT",type:"input",value:e.name,props:{readOnly:!0}},{id:"firmware",label:"UPDATER.FRIMWARE.F.VERSION.TEXT",type:"select",options:c,value:t?d:c[0].value,props:{disable:t}}],buttons:[{id:"cancel",ghost:!0,text:"BUTTON.CANCEL.TEXT",style:{flex:"auto"},handle:function(e){e.close()}},{id:"update",text:"BUTTON.UPDATE.TEXT",style:{flex:"auto"},handle:function(e){var t=e.values.firmware;"["==t[0]&&(t=JSON.parse(t)),function(e){if((0,y.isArray)(e)){var t=[],a=!0,n=!1,r=void 0;try{for(var u,s=(0,o.default)(e);!(a=(u=s.next()).done);a=!0){var l=u.value,c=(l._,l.url);t.push(fetch(c))}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}return i.default.all(t).then(function(e){var t=e.map(function(e){return e.arrayBuffer()});return i.default.all(t)},function(e){m.default.emit("downloadFirmwareFail",e)}).then(function(t){for(var a=[],n=0;n<t.length;++n)a.push({type:e[n].type,data:t[n],version:e[n].version});m.default.emit("downloadFirmwareOK",a)},function(e){m.default.emit("downloadFirmwareFail",e)})}if((0,y.isString)(e))return fetch(e).then(function(e){return e.arrayBuffer()},function(e){m.default.emit("downloadFirmwareFail",e)}).then(function(e){m.default.emit("downloadFirmwareOK",e)},function(e){m.default.emit("downloadFirmwareFail",e)})}(t).then(function(){e.close()})}}]})}else r.default.warning(l.messages["CONNECT.FIRMWARE.BLE.WARN"])};m.default.on("ShowUpdateFirmware",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(e,!1,t)}),m.default.on("ShowResetFactoryFirmware",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(e,!0,t)})},1776:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(339)),r=l(a(2)),o=l(a(7)),i=l(a(12)),u=l(a(15)),s=a(91);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e),this.connectFilter=(new n.default).set(u.default.CONNECT_TYPE.SERIAL,this.filterSerial.bind(this)).set(u.default.CONNECT_TYPE.BLE,this.filterBle.bind(this))}return(0,o.default)(e,[{key:"filterSerial",value:function(e,t){var a=this.filterSerialByOption(e,t);return this.filterSerialBySystem(a)}},{key:"filterSerialByOption",value:function(e,t){var a=t.vendorId&&t.vendorId.toLowerCase(),n=t.manufacturer&&t.manufacturer.toLowerCase(),r=[];if(i.default.isString(a)){r.push(a);var o=parseInt(a);isNaN(o)||r.push(o),a.startsWith("0x")&&r.push(a.replace("0x",""))}else if(r.push(a.toString()),r.push(a),i.default.isNumber(a)){var u=a.toString(16);r.push(u),r.push("0x"+u)}return i.default.filter(e,function(e){var t=-1!==r.indexOf(e.vendorId.toLowerCase())||-1!==r.indexOf(e.productId.toLowerCase());return n?t||-1!==e.manufacturer.toLowerCase().indexOf(n):t})}},{key:"filterSerialBySystem",value:function(e){var t=/tty\.usbserial-/g,a=[];return e.forEach(function(n){var r=n.comName;if(t.test(r)){var o=r.replace(t,"tty.wchusbserial");0===e.filter(function(e){return e.comName===o}).length&&a.push(n)}else-1===i.default.indexOf(a.map(function(e){return e.comName}),r)&&a.push(n)}),a}},{key:"filterBle",value:function(e,t){var a=t.localName;if(!a)return this.sortBle(e);var n=i.default.filter(e,function(e){return e.localName&&-1!==e.localName.toLowerCase().indexOf(a.toLowerCase())});return this.sortBle(n)}},{key:"sortBle",value:function(e){return e.sort(function(e,t){return e.rssi!==t.rssi?t.rssi-e.rssi:t.localName-e.localName})}},{key:"filterList",value:function(e,t){var a=(0,s.editingTarget)(),n=null;try{n=a.config.options.connect[e]}catch(e){return t}return this.connectFilter.get(e)(t,n)||t}}]),e}();t.default=new c},1777:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2)),r=o(a(113));function o(e){return e&&e.__esModule?e:{default:e}}t.default=new function e(){(0,n.default)(this,e),this.domain=r.default.domainconfig.gateway;r.default.configToRequestAction.call(this,{token:{method:"post",url:"Qiniu/GetUploadToken"},url:{method:"post",url:"Qiniu/GetDownloadUrl"}},r.default)}},1778:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(40)),r=u(a(2)),o=u(a(7)),i=u(a(113));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,r.default)(this,e),this.domain=i.default.domainconfig.iot;var t={device_register:{method:"post",url:"meos/register",headers:this.get_codey_req_header.bind(this)},ide_createcloudlist:{method:"post",url:"ide/createcloudlist",auto:!0},ide_postcloudlist:{method:"post",url:"ide/postcloudlist",auto:!0},ide_getcloudlist:{method:"post",url:"ide/getcloudlist?listName=$listName",auto:!0},ide_getcloudlistlen:{method:"get",url:"ide/getcloudlistlen?listName=:listName",auto:!0},ide_getcloudlistitembyindex:{method:"get",url:"ide/getCloudListItemByIndex?listName=:listName&type=:type&index=:index",auto:!0},ide_getAllCloudListName:{method:"get",url:"ide/getAllCloudListName",auto:!0},search_city:{domain:i.default.domainconfig.weather,method:"get",forceData:!0,url:"weatherSearch?city=:city"},search_city_air:{domain:i.default.domainconfig.air,method:"post",forceData:!0,url:"air/search"},get_city_air_arglist:{domain:i.default.domainconfig.air,method:"post",url:"air/arglist"}};i.default.configToRequestAction.call(this,t,i.default)}return(0,o.default)(e,[{key:"set_codey_req_header",value:function(e,t,a){this.codeyReqHeader={deviceid:t,devicetype:e,uid:a}}},{key:"get_codey_req_header",value:function(){return this.codeyReqHeader}},{key:"get_wifi_list",value:function(){var e=window.MbApi.getServiceChannel(),t={connectType:"wlanScan",cmd:"scanning",params:{}};return new n.default(function(a,n){if(!e)return n("wlan scan service not available");e.sendMessage(t,function(e,t){if(e)return n(e);a(t)})})}}]),e}();t.default=new s},1781:function(e,t,a){"use strict";(function(e){var n,r,o,i,u=f(a(730)),s=f(a(1780)),l=f(a(734)),c=f(a(255)),d=f(a(44));function f(e){return e&&e.__esModule?e:{default:e}}i=function(){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||(0,c.default)(e,t,{enumerable:!0,get:n})},a.r=function(e){void 0!==l.default&&s.default&&(0,c.default)(e,s.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":(0,d.default)(e))&&e&&e.__esModule)return e;var n=(0,u.default)(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=V(a(1)),r=V(a(2)),o=V(a(3)),i=V(a(4)),u=V(a(5)),s=V(a(6)),l=V(a(7)),c=V(a(8)),d=V(a(9)),f=V(a(10)),p=V(a(11)),h=V(a(12)),m=V(a(13)),E=V(a(14)),v=V(a(15)),T=V(a(16)),S=V(a(17)),y=V(a(18)),g=V(a(19)),N=V(a(20)),_=V(a(21)),O=V(a(22)),C=V(a(23)),I=V(a(24)),A=V(a(25)),k=V(a(26)),R=V(a(27)),L=V(a(28)),w=V(a(29)),P=V(a(30)),b=V(a(31)),D=V(a(32)),M=V(a(33)),U=V(a(34)),x=V(a(35)),j=V(a(36)),F=V(a(37)),G=V(a(38)),B=V(a(39)),H=V(a(40));function V(e){return e&&e.__esModule?e:{default:e}}var z={en:n.default,af:r.default,az:o.default,ca:i.default,cs:u.default,cy:s.default,da:l.default,de:c.default,el:d.default,es:f.default,et:p.default,eu:h.default,fi:m.default,fr:E.default,ga:v.default,gd:T.default,gl:S.default,he:y.default,hu:g.default,id:N.default,it:_.default,ja:O.default,ko:C.default,nl:I.default,nb:A.default,nn:k.default,pl:R.default,hr:L.default,pt:w.default,ru:P.default,sl:b.default,sk:D.default,sr:M.default,sv:U.default,th:x.default,tr:j.default,uk:F.default,vi:G.default,zh:B.default,tk:H.default,"zh-hant":B.default,"ja-jph":O.default};t.default=z},function(e,t,a){e.exports=[{locale:"en",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=!a[1],r=Number(a[0])==e,o=r&&a[0].slice(-1),i=r&&a[0].slice(-2);return t?1==o&&11!=i?"one":2==o&&12!=i?"two":3==o&&13!=i?"few":"other":1==e&&n?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},{locale:"en-001",parentLocale:"en"},{locale:"en-150",parentLocale:"en-001"},{locale:"en-AG",parentLocale:"en-001"},{locale:"en-AI",parentLocale:"en-001"},{locale:"en-AS",parentLocale:"en"},{locale:"en-AT",parentLocale:"en-150"},{locale:"en-AU",parentLocale:"en-001"},{locale:"en-BB",parentLocale:"en-001"},{locale:"en-BE",parentLocale:"en-001"},{locale:"en-BI",parentLocale:"en"},{locale:"en-BM",parentLocale:"en-001"},{locale:"en-BS",parentLocale:"en-001"},{locale:"en-BW",parentLocale:"en-001"},{locale:"en-BZ",parentLocale:"en-001"},{locale:"en-CA",parentLocale:"en-001"},{locale:"en-CC",parentLocale:"en-001"},{locale:"en-CH",parentLocale:"en-150"},{locale:"en-CK",parentLocale:"en-001"},{locale:"en-CM",parentLocale:"en-001"},{locale:"en-CX",parentLocale:"en-001"},{locale:"en-CY",parentLocale:"en-001"},{locale:"en-DE",parentLocale:"en-150"},{locale:"en-DG",parentLocale:"en-001"},{locale:"en-DK",parentLocale:"en-150"},{locale:"en-DM",parentLocale:"en-001"},{locale:"en-Dsrt",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-ER",parentLocale:"en-001"},{locale:"en-FI",parentLocale:"en-150"},{locale:"en-FJ",parentLocale:"en-001"},{locale:"en-FK",parentLocale:"en-001"},{locale:"en-FM",parentLocale:"en-001"},{locale:"en-GB",parentLocale:"en-001"},{locale:"en-GD",parentLocale:"en-001"},{locale:"en-GG",parentLocale:"en-001"},{locale:"en-GH",parentLocale:"en-001"},{locale:"en-GI",parentLocale:"en-001"},{locale:"en-GM",parentLocale:"en-001"},{locale:"en-GU",parentLocale:"en"},{locale:"en-GY",parentLocale:"en-001"},{locale:"en-HK",parentLocale:"en-001"},{locale:"en-IE",parentLocale:"en-001"},{locale:"en-IL",parentLocale:"en-001"},{locale:"en-IM",parentLocale:"en-001"},{locale:"en-IN",parentLocale:"en-001"},{locale:"en-IO",parentLocale:"en-001"},{locale:"en-JE",parentLocale:"en-001"},{locale:"en-JM",parentLocale:"en-001"},{locale:"en-KE",parentLocale:"en-001"},{locale:"en-KI",parentLocale:"en-001"},{locale:"en-KN",parentLocale:"en-001"},{locale:"en-KY",parentLocale:"en-001"},{locale:"en-LC",parentLocale:"en-001"},{locale:"en-LR",parentLocale:"en-001"},{locale:"en-LS",parentLocale:"en-001"},{locale:"en-MG",parentLocale:"en-001"},{locale:"en-MH",parentLocale:"en"},{locale:"en-MO",parentLocale:"en-001"},{locale:"en-MP",parentLocale:"en"},{locale:"en-MS",parentLocale:"en-001"},{locale:"en-MT",parentLocale:"en-001"},{locale:"en-MU",parentLocale:"en-001"},{locale:"en-MW",parentLocale:"en-001"},{locale:"en-MY",parentLocale:"en-001"},{locale:"en-NA",parentLocale:"en-001"},{locale:"en-NF",parentLocale:"en-001"},{locale:"en-NG",parentLocale:"en-001"},{locale:"en-NL",parentLocale:"en-150"},{locale:"en-NR",parentLocale:"en-001"},{locale:"en-NU",parentLocale:"en-001"},{locale:"en-NZ",parentLocale:"en-001"},{locale:"en-PG",parentLocale:"en-001"},{locale:"en-PH",parentLocale:"en-001"},{locale:"en-PK",parentLocale:"en-001"},{locale:"en-PN",parentLocale:"en-001"},{locale:"en-PR",parentLocale:"en"},{locale:"en-PW",parentLocale:"en-001"},{locale:"en-RW",parentLocale:"en-001"},{locale:"en-SB",parentLocale:"en-001"},{locale:"en-SC",parentLocale:"en-001"},{locale:"en-SD",parentLocale:"en-001"},{locale:"en-SE",parentLocale:"en-150"},{locale:"en-SG",parentLocale:"en-001"},{locale:"en-SH",parentLocale:"en-001"},{locale:"en-SI",parentLocale:"en-150"},{locale:"en-SL",parentLocale:"en-001"},{locale:"en-SS",parentLocale:"en-001"},{locale:"en-SX",parentLocale:"en-001"},{locale:"en-SZ",parentLocale:"en-001"},{locale:"en-Shaw",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-TC",parentLocale:"en-001"},{locale:"en-TK",parentLocale:"en-001"},{locale:"en-TO",parentLocale:"en-001"},{locale:"en-TT",parentLocale:"en-001"},{locale:"en-TV",parentLocale:"en-001"},{locale:"en-TZ",parentLocale:"en-001"},{locale:"en-UG",parentLocale:"en-001"},{locale:"en-UM",parentLocale:"en"},{locale:"en-US",parentLocale:"en"},{locale:"en-VC",parentLocale:"en-001"},{locale:"en-VG",parentLocale:"en-001"},{locale:"en-VI",parentLocale:"en"},{locale:"en-VU",parentLocale:"en-001"},{locale:"en-WS",parentLocale:"en-001"},{locale:"en-ZA",parentLocale:"en-001"},{locale:"en-ZM",parentLocale:"en-001"},{locale:"en-ZW",parentLocale:"en-001"}]},function(e,t,a){e.exports=[{locale:"af",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"jaar",relative:{0:"hierdie jaar",1:"volgende jaar","-1":"verlede jaar"},relativeTime:{future:{one:"oor {0} jaar",other:"oor {0} jaar"},past:{one:"{0} jaar gelede",other:"{0} jaar gelede"}}},month:{displayName:"maand",relative:{0:"vandeesmaand",1:"volgende maand","-1":"verlede maand"},relativeTime:{future:{one:"oor {0} minuut",other:"oor {0} minuut"},past:{one:"{0} maand gelede",other:"{0} maande gelede"}}},day:{displayName:"dag",relative:{0:"vandag",1:"môre",2:"oormôre","-2":"eergister","-1":"gister"},relativeTime:{future:{one:"oor {0} minuut",other:"oor {0} minuut"},past:{one:"{0} dag gelede",other:"{0} dae gelede"}}},hour:{displayName:"uur",relative:{0:"hierdie uur"},relativeTime:{future:{one:"oor {0} uur",other:"oor {0} uur"},past:{one:"{0} uur gelede",other:"{0} uur gelede"}}},minute:{displayName:"minuut",relative:{0:"hierdie minuut"},relativeTime:{future:{one:"oor {0} minuut",other:"oor {0} minuut"},past:{one:"{0} minuut gelede",other:"{0} minute gelede"}}},second:{displayName:"sekonde",relative:{0:"nou"},relativeTime:{future:{one:"oor {0} sekonde",other:"oor {0} sekondes"},past:{one:"{0} sekonde gelede",other:"{0} sekondes gelede"}}}}},{locale:"af-NA",parentLocale:"af"}]},function(e,t,a){e.exports=[{locale:"az",pluralRuleFunction:function(e,t){var a=String(e).split(".")[0],n=a.slice(-1),r=a.slice(-2),o=a.slice(-3);return t?1==n||2==n||5==n||7==n||8==n||20==r||50==r||70==r||80==r?"one":3==n||4==n||100==o||200==o||300==o||400==o||500==o||600==o||700==o||800==o||900==o?"few":0==a||6==n||40==r||60==r||90==r?"many":"other":1==e?"one":"other"},fields:{year:{displayName:"İl",relative:{0:"bu il",1:"gələn il","-1":"keçən il"},relativeTime:{future:{one:"{0} il ərzində",other:"{0} il ərzində"},past:{one:"{0} il öncə",other:"{0} il öncə"}}},month:{displayName:"Ay",relative:{0:"bu ay",1:"gələn ay","-1":"keçən ay"},relativeTime:{future:{one:"{0} ay ərzində",other:"{0} ay ərzində"},past:{one:"{0} ay öncə",other:"{0} ay öncə"}}},day:{displayName:"Gün",relative:{0:"bu gün",1:"sabah","-1":"dünən"},relativeTime:{future:{one:"{0} gün ərzində",other:"{0} gün ərzində"},past:{one:"{0} gün öncə",other:"{0} gün öncə"}}},hour:{displayName:"Saat",relative:{0:"bu saat"},relativeTime:{future:{one:"{0} saat ərzində",other:"{0} saat ərzində"},past:{one:"{0} saat öncə",other:"{0} saat öncə"}}},minute:{displayName:"Dəqiqə",relative:{0:"bu dəqiqə"},relativeTime:{future:{one:"{0} dəqiqə ərzində",other:"{0} dəqiqə ərzində"},past:{one:"{0} dəqiqə öncə",other:"{0} dəqiqə öncə"}}},second:{displayName:"Saniyə",relative:{0:"indi"},relativeTime:{future:{one:"{0} saniyə ərzində",other:"{0} saniyə ərzində"},past:{one:"{0} saniyə öncə",other:"{0} saniyə öncə"}}}}},{locale:"az-Arab",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"az-Cyrl",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"az-Latn",parentLocale:"az"}]},function(e,t,a){e.exports=[{locale:"ca",pluralRuleFunction:function(e,t){var a=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&a?"one":"other"},fields:{year:{displayName:"any",relative:{0:"enguany",1:"l’any que ve","-1":"l’any passat"},relativeTime:{future:{one:"d’aquí a {0} any",other:"d’aquí a {0} anys"},past:{one:"fa {0} any",other:"fa {0} anys"}}},month:{displayName:"mes",relative:{0:"aquest mes",1:"el mes que ve","-1":"el mes passat"},relativeTime:{future:{one:"d’aquí a {0} mes",other:"d’aquí a {0} mesos"},past:{one:"fa {0} mes",other:"fa {0} mesos"}}},day:{displayName:"dia",relative:{0:"avui",1:"demà",2:"demà passat","-2":"abans-d’ahir","-1":"ahir"},relativeTime:{future:{one:"d’aquí a {0} dia",other:"d’aquí a {0} dies"},past:{one:"fa {0} dia",other:"fa {0} dies"}}},hour:{displayName:"hora",relative:{0:"aquesta hora"},relativeTime:{future:{one:"d’aquí a {0} hora",other:"d’aquí a {0} hores"},past:{one:"fa {0} hora",other:"fa {0} hores"}}},minute:{displayName:"minut",relative:{0:"aquest minut"},relativeTime:{future:{one:"d’aquí a {0} minut",other:"d’aquí a {0} minuts"},past:{one:"fa {0} minut",other:"fa {0} minuts"}}},second:{displayName:"segon",relative:{0:"ara"},relativeTime:{future:{one:"d’aquí a {0} segon",other:"d’aquí a {0} segons"},past:{one:"fa {0} segon",other:"fa {0} segons"}}}}},{locale:"ca-AD",parentLocale:"ca"},{locale:"ca-ES-VALENCIA",parentLocale:"ca-ES",fields:{year:{displayName:"any",relative:{0:"enguany",1:"l’any que ve","-1":"l’any passat"},relativeTime:{future:{one:"d’aquí a {0} any",other:"d’aquí a {0} anys"},past:{one:"fa {0} any",other:"fa {0} anys"}}},month:{displayName:"mes",relative:{0:"aquest mes",1:"el mes que ve","-1":"el mes passat"},relativeTime:{future:{one:"d’aquí a {0} mes",other:"d’aquí a {0} mesos"},past:{one:"fa {0} mes",other:"fa {0} mesos"}}},day:{displayName:"dia",relative:{0:"avui",1:"demà",2:"demà passat","-2":"abans-d’ahir","-1":"ahir"},relativeTime:{future:{one:"d’aquí a {0} dia",other:"d’aquí a {0} dies"},past:{one:"fa {0} dia",other:"fa {0} dies"}}},hour:{displayName:"hora",relative:{0:"aquesta hora"},relativeTime:{future:{one:"d’aquí a {0} hora",other:"d’aquí a {0} hores"},past:{one:"fa {0} hora",other:"fa {0} hores"}}},minute:{displayName:"minut",relative:{0:"aquest minut"},relativeTime:{future:{one:"d’aquí a {0} minut",other:"d’aquí a {0} minuts"},past:{one:"fa {0} minut",other:"fa {0} minuts"}}},second:{displayName:"segon",relative:{0:"ara"},relativeTime:{future:{one:"d’aquí a {0} segon",other:"d’aquí a {0} segons"},past:{one:"fa {0} segon",other:"fa {0} segons"}}}}},{locale:"ca-ES",parentLocale:"ca"},{locale:"ca-FR",parentLocale:"ca"},{locale:"ca-IT",parentLocale:"ca"}]},function(e,t,a){e.exports=[{locale:"cs",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=!a[1];return t?"other":1==e&&r?"one":n>=2&&n<=4&&r?"few":r?"other":"many"},fields:{year:{displayName:"rok",relative:{0:"tento rok",1:"příští rok","-1":"minulý rok"},relativeTime:{future:{one:"za {0} rok",few:"za {0} roky",many:"za {0} roku",other:"za {0} let"},past:{one:"před {0} rokem",few:"před {0} lety",many:"před {0} roku",other:"před {0} lety"}}},month:{displayName:"měsíc",relative:{0:"tento měsíc",1:"příští měsíc","-1":"minulý měsíc"},relativeTime:{future:{one:"za {0} měsíc",few:"za {0} měsíce",many:"za {0} měsíce",other:"za {0} měsíců"},past:{one:"před {0} měsícem",few:"před {0} měsíci",many:"před {0} měsíce",other:"před {0} měsíci"}}},day:{displayName:"den",relative:{0:"dnes",1:"zítra",2:"pozítří","-2":"předevčírem","-1":"včera"},relativeTime:{future:{one:"za {0} den",few:"za {0} dny",many:"za {0} dne",other:"za {0} dní"},past:{one:"před {0} dnem",few:"před {0} dny",many:"před {0} dne",other:"před {0} dny"}}},hour:{displayName:"hodina",relative:{0:"tuto hodinu"},relativeTime:{future:{one:"za {0} hodinu",few:"za {0} hodiny",many:"za {0} hodiny",other:"za {0} hodin"},past:{one:"před {0} hodinou",few:"před {0} hodinami",many:"před {0} hodiny",other:"před {0} hodinami"}}},minute:{displayName:"minuta",relative:{0:"tuto minutu"},relativeTime:{future:{one:"za {0} minutu",few:"za {0} minuty",many:"za {0} minuty",other:"za {0} minut"},past:{one:"před {0} minutou",few:"před {0} minutami",many:"před {0} minuty",other:"před {0} minutami"}}},second:{displayName:"sekunda",relative:{0:"nyní"},relativeTime:{future:{one:"za {0} sekundu",few:"za {0} sekundy",many:"za {0} sekundy",other:"za {0} sekund"},past:{one:"před {0} sekundou",few:"před {0} sekundami",many:"před {0} sekundy",other:"před {0} sekundami"}}}}}]},function(e,t,a){e.exports=[{locale:"cy",pluralRuleFunction:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},fields:{year:{displayName:"blwyddyn",relative:{0:"eleni",1:"blwyddyn nesaf","-1":"llynedd"},relativeTime:{future:{zero:"ymhen {0} mlynedd",one:"ymhen blwyddyn",two:"ymhen {0} flynedd",few:"ymhen {0} blynedd",many:"ymhen {0} blynedd",other:"ymhen {0} mlynedd"},past:{zero:"{0} o flynyddoedd yn ôl",one:"blwyddyn yn ôl",two:"{0} flynedd yn ôl",few:"{0} blynedd yn ôl",many:"{0} blynedd yn ôl",other:"{0} o flynyddoedd yn ôl"}}},month:{displayName:"mis",relative:{0:"y mis hwn",1:"mis nesaf","-1":"mis diwethaf"},relativeTime:{future:{zero:"ymhen {0} mis",one:"ymhen mis",two:"ymhen deufis",few:"ymhen {0} mis",many:"ymhen {0} mis",other:"ymhen {0} mis"},past:{zero:"{0} mis yn ôl",one:"{0} mis yn ôl",two:"{0} fis yn ôl",few:"{0} mis yn ôl",many:"{0} mis yn ôl",other:"{0} mis yn ôl"}}},day:{displayName:"dydd",relative:{0:"heddiw",1:"yfory",2:"drennydd","-2":"echdoe","-1":"ddoe"},relativeTime:{future:{zero:"ymhen {0} diwrnod",one:"ymhen diwrnod",two:"ymhen deuddydd",few:"ymhen tridiau",many:"ymhen {0} diwrnod",other:"ymhen {0} diwrnod"},past:{zero:"{0} diwrnod yn ôl",one:"{0} diwrnod yn ôl",two:"{0} ddiwrnod yn ôl",few:"{0} diwrnod yn ôl",many:"{0} diwrnod yn ôl",other:"{0} diwrnod yn ôl"}}},hour:{displayName:"awr",relative:{0:"yr awr hon"},relativeTime:{future:{zero:"ymhen {0} awr",one:"ymhen awr",two:"ymhen {0} awr",few:"ymhen {0} awr",many:"ymhen {0} awr",other:"ymhen {0} awr"},past:{zero:"{0} awr yn ôl",one:"awr yn ôl",two:"{0} awr yn ôl",few:"{0} awr yn ôl",many:"{0} awr yn ôl",other:"{0} awr yn ôl"}}},minute:{displayName:"munud",relative:{0:"y funud hon"},relativeTime:{future:{zero:"ymhen {0} munud",one:"ymhen munud",two:"ymhen {0} funud",few:"ymhen {0} munud",many:"ymhen {0} munud",other:"ymhen {0} munud"},past:{zero:"{0} munud yn ôl",one:"{0} munud yn ôl",two:"{0} funud yn ôl",few:"{0} munud yn ôl",many:"{0} munud yn ôl",other:"{0} munud yn ôl"}}},second:{displayName:"eiliad",relative:{0:"nawr"},relativeTime:{future:{zero:"ymhen {0} eiliad",one:"ymhen eiliad",two:"ymhen {0} eiliad",few:"ymhen {0} eiliad",many:"ymhen {0} eiliad",other:"ymhen {0} eiliad"},past:{zero:"{0} eiliad yn ôl",one:"eiliad yn ôl",two:"{0} eiliad yn ôl",few:"{0} eiliad yn ôl",many:"{0} eiliad yn ôl",other:"{0} eiliad yn ôl"}}}}}]},function(e,t,a){e.exports=[{locale:"da",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=Number(a[0])==e;return t?"other":1!=e&&(r||0!=n&&1!=n)?"other":"one"},fields:{year:{displayName:"år",relative:{0:"i år",1:"næste år","-1":"sidste år"},relativeTime:{future:{one:"om {0} år",other:"om {0} år"},past:{one:"for {0} år siden",other:"for {0} år siden"}}},month:{displayName:"måned",relative:{0:"denne måned",1:"næste måned","-1":"sidste måned"},relativeTime:{future:{one:"om {0} måned",other:"om {0} måneder"},past:{one:"for {0} måned siden",other:"for {0} måneder siden"}}},day:{displayName:"dag",relative:{0:"i dag",1:"i morgen",2:"i overmorgen","-2":"i forgårs","-1":"i går"},relativeTime:{future:{one:"om {0} dag",other:"om {0} dage"},past:{one:"for {0} dag siden",other:"for {0} dage siden"}}},hour:{displayName:"time",relative:{0:"i den kommende time"},relativeTime:{future:{one:"om {0} time",other:"om {0} timer"},past:{one:"for {0} time siden",other:"for {0} timer siden"}}},minute:{displayName:"minut",relative:{0:"i det kommende minut"},relativeTime:{future:{one:"om {0} minut",other:"om {0} minutter"},past:{one:"for {0} minut siden",other:"for {0} minutter siden"}}},second:{displayName:"sekund",relative:{0:"nu"},relativeTime:{future:{one:"om {0} sekund",other:"om {0} sekunder"},past:{one:"for {0} sekund siden",other:"for {0} sekunder siden"}}}}},{locale:"da-GL",parentLocale:"da"}]},function(e,t,a){e.exports=[{locale:"de",pluralRuleFunction:function(e,t){var a=!String(e).split(".")[1];return t?"other":1==e&&a?"one":"other"},fields:{year:{displayName:"Jahr",relative:{0:"dieses Jahr",1:"nächstes Jahr","-1":"letztes Jahr"},relativeTime:{future:{one:"in {0} Jahr",other:"in {0} Jahren"},past:{one:"vor {0} Jahr",other:"vor {0} Jahren"}}},month:{displayName:"Monat",relative:{0:"diesen Monat",1:"nächsten Monat","-1":"letzten Monat"},relativeTime:{future:{one:"in {0} Monat",other:"in {0} Monaten"},past:{one:"vor {0} Monat",other:"vor {0} Monaten"}}},day:{displayName:"Tag",relative:{0:"heute",1:"morgen",2:"übermorgen","-2":"vorgestern","-1":"gestern"},relativeTime:{future:{one:"in {0} Tag",other:"in {0} Tagen"},past:{one:"vor {0} Tag",other:"vor {0} Tagen"}}},hour:{displayName:"Stunde",relative:{0:"in dieser Stunde"},relativeTime:{future:{one:"in {0} Stunde",other:"in {0} Stunden"},past:{one:"vor {0} Stunde",other:"vor {0} Stunden"}}},minute:{displayName:"Minute",relative:{0:"in dieser Minute"},relativeTime:{future:{one:"in {0} Minute",other:"in {0} Minuten"},past:{one:"vor {0} Minute",other:"vor {0} Minuten"}}},second:{displayName:"Sekunde",relative:{0:"jetzt"},relativeTime:{future:{one:"in {0} Sekunde",other:"in {0} Sekunden"},past:{one:"vor {0} Sekunde",other:"vor {0} Sekunden"}}}}},{locale:"de-AT",parentLocale:"de"},{locale:"de-BE",parentLocale:"de"},{locale:"de-CH",parentLocale:"de"},{locale:"de-IT",parentLocale:"de"},{locale:"de-LI",parentLocale:"de"},{locale:"de-LU",parentLocale:"de"}]},function(e,t,a){e.exports=[{locale:"el",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"έτος",relative:{0:"φέτος",1:"επόμενο έτος","-1":"πέρσι"},relativeTime:{future:{one:"σε {0} έτος",other:"σε {0} έτη"},past:{one:"πριν από {0} έτος",other:"πριν από {0} έτη"}}},month:{displayName:"μήνας",relative:{0:"τρέχων μήνας",1:"επόμενος μήνας","-1":"προηγούμενος μήνας"},relativeTime:{future:{one:"σε {0} μήνα",other:"σε {0} μήνες"},past:{one:"πριν από {0} μήνα",other:"πριν από {0} μήνες"}}},day:{displayName:"ημέρα",relative:{0:"σήμερα",1:"αύριο",2:"μεθαύριο","-2":"προχθές","-1":"χθες"},relativeTime:{future:{one:"σε {0} ημέρα",other:"σε {0} ημέρες"},past:{one:"πριν από {0} ημέρα",other:"πριν από {0} ημέρες"}}},hour:{displayName:"ώρα",relative:{0:"αυτήν την ώρα"},relativeTime:{future:{one:"σε {0} ώρα",other:"σε {0} ώρες"},past:{one:"πριν από {0} ώρα",other:"πριν από {0} ώρες"}}},minute:{displayName:"λεπτό",relative:{0:"αυτό το λεπτό"},relativeTime:{future:{one:"σε {0} λεπτό",other:"σε {0} λεπτά"},past:{one:"πριν από {0} λεπτό",other:"πριν από {0} λεπτά"}}},second:{displayName:"δευτερόλεπτο",relative:{0:"τώρα"},relativeTime:{future:{one:"σε {0} δευτερόλεπτο",other:"σε {0} δευτερόλεπτα"},past:{one:"πριν από {0} δευτερόλεπτο",other:"πριν από {0} δευτερόλεπτα"}}}}},{locale:"el-CY",parentLocale:"el"}]},function(e,t,a){e.exports=[{locale:"es",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-419",parentLocale:"es"},{locale:"es-AR",parentLocale:"es-419"},{locale:"es-BO",parentLocale:"es-419"},{locale:"es-BR",parentLocale:"es-419"},{locale:"es-BZ",parentLocale:"es-419"},{locale:"es-CL",parentLocale:"es-419"},{locale:"es-CO",parentLocale:"es-419"},{locale:"es-CR",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antier","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-CU",parentLocale:"es-419"},{locale:"es-DO",parentLocale:"es-419",fields:{year:{displayName:"Año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"Mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"Día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"anteayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"Minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"Segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-EA",parentLocale:"es"},{locale:"es-EC",parentLocale:"es-419"},{locale:"es-GQ",parentLocale:"es"},{locale:"es-GT",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antier","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-HN",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antier","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-IC",parentLocale:"es"},{locale:"es-MX",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el año próximo","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el mes próximo","-1":"el mes pasado"},relativeTime:{future:{one:"en {0} mes",other:"en {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antier","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-NI",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antier","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-PA",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antier","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-PE",parentLocale:"es-419"},{locale:"es-PH",parentLocale:"es"},{locale:"es-PR",parentLocale:"es-419"},{locale:"es-PY",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antes de ayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-SV",parentLocale:"es-419",fields:{year:{displayName:"año",relative:{0:"este año",1:"el próximo año","-1":"el año pasado"},relativeTime:{future:{one:"dentro de {0} año",other:"dentro de {0} años"},past:{one:"hace {0} año",other:"hace {0} años"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el próximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},day:{displayName:"día",relative:{0:"hoy",1:"mañana",2:"pasado mañana","-2":"antier","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} día",other:"dentro de {0} días"},past:{one:"hace {0} día",other:"hace {0} días"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}}}},{locale:"es-US",parentLocale:"es-419"},{locale:"es-UY",parentLocale:"es-419"},{locale:"es-VE",parentLocale:"es-419"}]},function(e,t,a){e.exports=[{locale:"et",pluralRuleFunction:function(e,t){var a=!String(e).split(".")[1];return t?"other":1==e&&a?"one":"other"},fields:{year:{displayName:"aasta",relative:{0:"käesolev aasta",1:"järgmine aasta","-1":"eelmine aasta"},relativeTime:{future:{one:"{0} aasta pärast",other:"{0} aasta pärast"},past:{one:"{0} aasta eest",other:"{0} aasta eest"}}},month:{displayName:"kuu",relative:{0:"käesolev kuu",1:"järgmine kuu","-1":"eelmine kuu"},relativeTime:{future:{one:"{0} kuu pärast",other:"{0} kuu pärast"},past:{one:"{0} kuu eest",other:"{0} kuu eest"}}},day:{displayName:"päev",relative:{0:"täna",1:"homme",2:"ülehomme","-2":"üleeile","-1":"eile"},relativeTime:{future:{one:"{0} päeva pärast",other:"{0} päeva pärast"},past:{one:"{0} päeva eest",other:"{0} päeva eest"}}},hour:{displayName:"tund",relative:{0:"praegusel tunnil"},relativeTime:{future:{one:"{0} tunni pärast",other:"{0} tunni pärast"},past:{one:"{0} tunni eest",other:"{0} tunni eest"}}},minute:{displayName:"minut",relative:{0:"praegusel minutil"},relativeTime:{future:{one:"{0} minuti pärast",other:"{0} minuti pärast"},past:{one:"{0} minuti eest",other:"{0} minuti eest"}}},second:{displayName:"sekund",relative:{0:"nüüd"},relativeTime:{future:{one:"{0} sekundi pärast",other:"{0} sekundi pärast"},past:{one:"{0} sekundi eest",other:"{0} sekundi eest"}}}}}]},function(e,t,a){e.exports=[{locale:"eu",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"urtea",relative:{0:"aurten",1:"hurrengo urtea","-1":"aurreko urtea"},relativeTime:{future:{one:"{0} urte barru",other:"{0} urte barru"},past:{one:"Duela {0} urte",other:"Duela {0} urte"}}},month:{displayName:"hilabetea",relative:{0:"hilabete hau",1:"hurrengo hilabetea","-1":"aurreko hilabetea"},relativeTime:{future:{one:"{0} hilabete barru",other:"{0} hilabete barru"},past:{one:"Duela {0} hilabete",other:"Duela {0} hilabete"}}},day:{displayName:"eguna",relative:{0:"gaur",1:"bihar",2:"etzi","-2":"herenegun","-1":"atzo"},relativeTime:{future:{one:"{0} egun barru",other:"{0} egun barru"},past:{one:"Duela {0} egun",other:"Duela {0} egun"}}},hour:{displayName:"ordua",relative:{0:"ordu honetan"},relativeTime:{future:{one:"{0} ordu barru",other:"{0} ordu barru"},past:{one:"Duela {0} ordu",other:"Duela {0} ordu"}}},minute:{displayName:"minutua",relative:{0:"minutu honetan"},relativeTime:{future:{one:"{0} minutu barru",other:"{0} minutu barru"},past:{one:"Duela {0} minutu",other:"Duela {0} minutu"}}},second:{displayName:"segundoa",relative:{0:"orain"},relativeTime:{future:{one:"{0} segundo barru",other:"{0} segundo barru"},past:{one:"Duela {0} segundo",other:"Duela {0} segundo"}}}}}]},function(e,t,a){e.exports=[{locale:"fi",pluralRuleFunction:function(e,t){var a=!String(e).split(".")[1];return t?"other":1==e&&a?"one":"other"},fields:{year:{displayName:"vuosi",relative:{0:"tänä vuonna",1:"ensi vuonna","-1":"viime vuonna"},relativeTime:{future:{one:"{0} vuoden päästä",other:"{0} vuoden päästä"},past:{one:"{0} vuosi sitten",other:"{0} vuotta sitten"}}},month:{displayName:"kuukausi",relative:{0:"tässä kuussa",1:"ensi kuussa","-1":"viime kuussa"},relativeTime:{future:{one:"{0} kuukauden päästä",other:"{0} kuukauden päästä"},past:{one:"{0} kuukausi sitten",other:"{0} kuukautta sitten"}}},day:{displayName:"päivä",relative:{0:"tänään",1:"huomenna",2:"ylihuomenna","-2":"toissa päivänä","-1":"eilen"},relativeTime:{future:{one:"{0} päivän päästä",other:"{0} päivän päästä"},past:{one:"{0} päivä sitten",other:"{0} päivää sitten"}}},hour:{displayName:"tunti",relative:{0:"tämän tunnin aikana"},relativeTime:{future:{one:"{0} tunnin päästä",other:"{0} tunnin päästä"},past:{one:"{0} tunti sitten",other:"{0} tuntia sitten"}}},minute:{displayName:"minuutti",relative:{0:"tämän minuutin aikana"},relativeTime:{future:{one:"{0} minuutin päästä",other:"{0} minuutin päästä"},past:{one:"{0} minuutti sitten",other:"{0} minuuttia sitten"}}},second:{displayName:"sekunti",relative:{0:"nyt"},relativeTime:{future:{one:"{0} sekunnin päästä",other:"{0} sekunnin päästä"},past:{one:"{0} sekunti sitten",other:"{0} sekuntia sitten"}}}}}]},function(e,t,a){e.exports=[{locale:"fr",pluralRuleFunction:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},fields:{year:{displayName:"année",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"dans {0} an",other:"dans {0} ans"},past:{one:"il y a {0} an",other:"il y a {0} ans"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},day:{displayName:"jour",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},hour:{displayName:"heure",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},minute:{displayName:"minute",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}}}},{locale:"fr-BE",parentLocale:"fr"},{locale:"fr-BF",parentLocale:"fr"},{locale:"fr-BI",parentLocale:"fr"},{locale:"fr-BJ",parentLocale:"fr"},{locale:"fr-BL",parentLocale:"fr"},{locale:"fr-CA",parentLocale:"fr",fields:{year:{displayName:"année",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"Dans {0} an",other:"Dans {0} ans"},past:{one:"Il y a {0} an",other:"Il y a {0} ans"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},day:{displayName:"jour",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},hour:{displayName:"heure",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},minute:{displayName:"minute",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}}}},{locale:"fr-CD",parentLocale:"fr"},{locale:"fr-CF",parentLocale:"fr"},{locale:"fr-CG",parentLocale:"fr"},{locale:"fr-CH",parentLocale:"fr"},{locale:"fr-CI",parentLocale:"fr"},{locale:"fr-CM",parentLocale:"fr"},{locale:"fr-DJ",parentLocale:"fr"},{locale:"fr-DZ",parentLocale:"fr"},{locale:"fr-GA",parentLocale:"fr"},{locale:"fr-GF",parentLocale:"fr"},{locale:"fr-GN",parentLocale:"fr"},{locale:"fr-GP",parentLocale:"fr"},{locale:"fr-GQ",parentLocale:"fr"},{locale:"fr-HT",parentLocale:"fr"},{locale:"fr-KM",parentLocale:"fr"},{locale:"fr-LU",parentLocale:"fr"},{locale:"fr-MA",parentLocale:"fr"},{locale:"fr-MC",parentLocale:"fr"},{locale:"fr-MF",parentLocale:"fr"},{locale:"fr-MG",parentLocale:"fr"},{locale:"fr-ML",parentLocale:"fr"},{locale:"fr-MQ",parentLocale:"fr"},{locale:"fr-MR",parentLocale:"fr"},{locale:"fr-MU",parentLocale:"fr"},{locale:"fr-NC",parentLocale:"fr"},{locale:"fr-NE",parentLocale:"fr"},{locale:"fr-PF",parentLocale:"fr"},{locale:"fr-PM",parentLocale:"fr"},{locale:"fr-RE",parentLocale:"fr"},{locale:"fr-RW",parentLocale:"fr"},{locale:"fr-SC",parentLocale:"fr"},{locale:"fr-SN",parentLocale:"fr"},{locale:"fr-SY",parentLocale:"fr"},{locale:"fr-TD",parentLocale:"fr"},{locale:"fr-TG",parentLocale:"fr"},{locale:"fr-TN",parentLocale:"fr"},{locale:"fr-VU",parentLocale:"fr"},{locale:"fr-WF",parentLocale:"fr"},{locale:"fr-YT",parentLocale:"fr"}]},function(e,t,a){e.exports=[{locale:"ga",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=Number(a[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":n&&e>=3&&e<=6?"few":n&&e>=7&&e<=10?"many":"other"},fields:{year:{displayName:"Bliain",relative:{0:"an bhliain seo",1:"an bhliain seo chugainn","-1":"anuraidh"},relativeTime:{future:{one:"i gceann {0} bhliain",two:"i gceann {0} bhliain",few:"i gceann {0} bliana",many:"i gceann {0} mbliana",other:"i gceann {0} bliain"},past:{one:"{0} bhliain ó shin",two:"{0} bhliain ó shin",few:"{0} bliana ó shin",many:"{0} mbliana ó shin",other:"{0} bliain ó shin"}}},month:{displayName:"Mí",relative:{0:"an mhí seo",1:"an mhí seo chugainn","-1":"an mhí seo caite"},relativeTime:{future:{one:"i gceann {0} mhí",two:"i gceann {0} mhí",few:"i gceann {0} mhí",many:"i gceann {0} mí",other:"i gceann {0} mí"},past:{one:"{0} mhí ó shin",two:"{0} mhí ó shin",few:"{0} mhí ó shin",many:"{0} mí ó shin",other:"{0} mí ó shin"}}},day:{displayName:"Lá",relative:{0:"inniu",1:"amárach",2:"arú amárach","-2":"arú inné","-1":"inné"},relativeTime:{future:{one:"i gceann {0} lá",two:"i gceann {0} lá",few:"i gceann {0} lá",many:"i gceann {0} lá",other:"i gceann {0} lá"},past:{one:"{0} lá ó shin",two:"{0} lá ó shin",few:"{0} lá ó shin",many:"{0} lá ó shin",other:"{0} lá ó shin"}}},hour:{displayName:"Uair",relative:{0:"an uair seo"},relativeTime:{future:{one:"i gceann {0} uair an chloig",two:"i gceann {0} uair an chloig",few:"i gceann {0} huaire an chloig",many:"i gceann {0} n-uaire an chloig",other:"i gceann {0} uair an chloig"},past:{one:"{0} uair an chloig ó shin",two:"{0} uair an chloig ó shin",few:"{0} huaire an chloig ó shin",many:"{0} n-uaire an chloig ó shin",other:"{0} uair an chloig ó shin"}}},minute:{displayName:"Nóiméad",relative:{0:"an nóiméad seo"},relativeTime:{future:{one:"i gceann {0} nóiméad",two:"i gceann {0} nóiméad",few:"i gceann {0} nóiméad",many:"i gceann {0} nóiméad",other:"i gceann {0} nóiméad"},past:{one:"{0} nóiméad ó shin",two:"{0} nóiméad ó shin",few:"{0} nóiméad ó shin",many:"{0} nóiméad ó shin",other:"{0} nóiméad ó shin"}}},second:{displayName:"Soicind",relative:{0:"anois"},relativeTime:{future:{one:"i gceann {0} soicind",two:"i gceann {0} shoicind",few:"i gceann {0} shoicind",many:"i gceann {0} soicind",other:"i gceann {0} soicind"},past:{one:"{0} soicind ó shin",two:"{0} shoicind ó shin",few:"{0} shoicind ó shin",many:"{0} soicind ó shin",other:"{0} soicind ó shin"}}}}}]},function(e,t,a){e.exports=[{locale:"gd",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=Number(a[0])==e;return t?"other":1==e||11==e?"one":2==e||12==e?"two":n&&e>=3&&e<=10||n&&e>=13&&e<=19?"few":"other"},fields:{year:{displayName:"bliadhna",relative:{0:"am bliadhna",1:"an ath-bhliadhna","-2":"a-bhòn-uiridh","-1":"an-uiridh"},relativeTime:{future:{one:"an ceann {0} bhliadhna",two:"an ceann {0} bhliadhna",few:"an ceann {0} bliadhnaichean",other:"an ceann {0} bliadhna"},past:{one:"{0} bhliadhna air ais",two:"{0} bhliadhna air ais",few:"{0} bhliadhnaichean air ais",other:"{0} bliadhna air ais"}}},month:{displayName:"mìos",relative:{0:"am mìos seo",1:"an ath-mhìos","-1":"am mìos seo chaidh"},relativeTime:{future:{one:"an ceann {0} mhìosa",two:"an ceann {0} mhìosa",few:"an ceann {0} mìosan",other:"an ceann {0} mìosa"},past:{one:"{0} mhìos air ais",two:"{0} mhìos air ais",few:"{0} mìosan air ais",other:"{0} mìos air ais"}}},day:{displayName:"latha",relative:{0:"an-diugh",1:"a-màireach",2:"an-earar",3:"an-eararais","-2":"a-bhòin-dè","-1":"an-dè"},relativeTime:{future:{one:"an ceann {0} latha",two:"an ceann {0} latha",few:"an ceann {0} làithean",other:"an ceann {0} latha"},past:{one:"{0} latha air ais",two:"{0} latha air ais",few:"{0} làithean air ais",other:"{0} latha air ais"}}},hour:{displayName:"uair a thìde",relative:{0:"this hour"},relativeTime:{future:{one:"an ceann {0} uair a thìde",two:"an ceann {0} uair a thìde",few:"an ceann {0} uairean a thìde",other:"an ceann {0} uair a thìde"},past:{one:"{0} uair a thìde air ais",two:"{0} uair a thìde air ais",few:"{0} uairean a thìde air ais",other:"{0} uair a thìde air ais"}}},minute:{displayName:"mionaid",relative:{0:"this minute"},relativeTime:{future:{one:"an ceann {0} mhionaid",two:"an ceann {0} mhionaid",few:"an ceann {0} mionaidean",other:"an ceann {0} mionaid"},past:{one:"{0} mhionaid air ais",two:"{0} mhionaid air ais",few:"{0} mionaidean air ais",other:"{0} mionaid air ais"}}},second:{displayName:"diog",relative:{0:"an-dràsta"},relativeTime:{future:{one:"an ceann {0} diog",two:"an ceann {0} dhiog",few:"an ceann {0} diogan",other:"an ceann {0} diog"},past:{one:"{0} diog air ais",two:"{0} dhiog air ais",few:"{0} diogan air ais",other:"{0} diog air ais"}}}}}]},function(e,t,a){e.exports=[{locale:"gl",pluralRuleFunction:function(e,t){var a=!String(e).split(".")[1];return t?"other":1==e&&a?"one":"other"},fields:{year:{displayName:"ano",relative:{0:"este ano",1:"o próximo ano","-1":"o ano pasado"},relativeTime:{future:{one:"en {0} ano",other:"en {0} anos"},past:{one:"hai {0} ano",other:"hai {0} anos"}}},month:{displayName:"mes",relative:{0:"este mes",1:"o próximo mes","-1":"o mes pasado"},relativeTime:{future:{one:"en {0} mes",other:"en {0} meses"},past:{one:"hai {0} mes",other:"hai {0} meses"}}},day:{displayName:"día",relative:{0:"hoxe",1:"mañá",2:"pasadomañá","-2":"antonte","-1":"onte"},relativeTime:{future:{one:"en {0} día",other:"en {0} días"},past:{one:"hai {0} día",other:"hai {0} días"}}},hour:{displayName:"hora",relative:{0:"nesta hora"},relativeTime:{future:{one:"en {0} hora",other:"en {0} horas"},past:{one:"hai {0} hora",other:"hai {0} horas"}}},minute:{displayName:"minuto",relative:{0:"neste minuto"},relativeTime:{future:{one:"en {0} minuto",other:"en {0} minutos"},past:{one:"hai {0} minuto",other:"hai {0} minutos"}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"en {0} segundo",other:"en {0} segundos"},past:{one:"hai {0} segundo",other:"hai {0} segundos"}}}}}]},function(e,t,a){e.exports=[{locale:"he",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=!a[1],o=Number(a[0])==e,i=o&&a[0].slice(-1);return t?"other":1==e&&r?"one":2==n&&r?"two":r&&(e<0||e>10)&&o&&0==i?"many":"other"},fields:{year:{displayName:"שנה",relative:{0:"השנה",1:"השנה הבאה","-1":"השנה שעברה"},relativeTime:{future:{one:"בעוד שנה",two:"בעוד שנתיים",many:"בעוד {0} שנה",other:"בעוד {0} שנים"},past:{one:"לפני שנה",two:"לפני שנתיים",many:"לפני {0} שנה",other:"לפני {0} שנים"}}},month:{displayName:"חודש",relative:{0:"החודש",1:"החודש הבא","-1":"החודש שעבר"},relativeTime:{future:{one:"בעוד חודש",two:"בעוד חודשיים",many:"בעוד {0} חודשים",other:"בעוד {0} חודשים"},past:{one:"לפני חודש",two:"לפני חודשיים",many:"לפני {0} חודשים",other:"לפני {0} חודשים"}}},day:{displayName:"יום",relative:{0:"היום",1:"מחר",2:"מחרתיים","-2":"שלשום","-1":"אתמול"},relativeTime:{future:{one:"בעוד יום {0}",two:"בעוד יומיים",many:"בעוד {0} ימים",other:"בעוד {0} ימים"},past:{one:"לפני יום {0}",two:"לפני יומיים",many:"לפני {0} ימים",other:"לפני {0} ימים"}}},hour:{displayName:"שעה",relative:{0:"בשעה זו"},relativeTime:{future:{one:"בעוד שעה",two:"בעוד שעתיים",many:"בעוד {0} שעות",other:"בעוד {0} שעות"},past:{one:"לפני שעה",two:"לפני שעתיים",many:"לפני {0} שעות",other:"לפני {0} שעות"}}},minute:{displayName:"דקה",relative:{0:"בדקה זו"},relativeTime:{future:{one:"בעוד דקה",two:"בעוד שתי דקות",many:"בעוד {0} דקות",other:"בעוד {0} דקות"},past:{one:"לפני דקה",two:"לפני שתי דקות",many:"לפני {0} דקות",other:"לפני {0} דקות"}}},second:{displayName:"שנייה",relative:{0:"עכשיו"},relativeTime:{future:{one:"בעוד שנייה",two:"בעוד שתי שניות",many:"בעוד {0} שניות",other:"בעוד {0} שניות"},past:{one:"לפני שנייה",two:"לפני שתי שניות",many:"לפני {0} שניות",other:"לפני {0} שניות"}}}}}]},function(e,t,a){e.exports=[{locale:"hu",pluralRuleFunction:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},fields:{year:{displayName:"év",relative:{0:"ez az év",1:"következő év","-1":"előző év"},relativeTime:{future:{one:"{0} év múlva",other:"{0} év múlva"},past:{one:"{0} évvel ezelőtt",other:"{0} évvel ezelőtt"}}},month:{displayName:"hónap",relative:{0:"ez a hónap",1:"következő hónap","-1":"előző hónap"},relativeTime:{future:{one:"{0} hónap múlva",other:"{0} hónap múlva"},past:{one:"{0} hónappal ezelőtt",other:"{0} hónappal ezelőtt"}}},day:{displayName:"nap",relative:{0:"ma",1:"holnap",2:"holnapután","-2":"tegnapelőtt","-1":"tegnap"},relativeTime:{future:{one:"{0} nap múlva",other:"{0} nap múlva"},past:{one:"{0} nappal ezelőtt",other:"{0} nappal ezelőtt"}}},hour:{displayName:"óra",relative:{0:"ebben az órában"},relativeTime:{future:{one:"{0} óra múlva",other:"{0} óra múlva"},past:{one:"{0} órával ezelőtt",other:"{0} órával ezelőtt"}}},minute:{displayName:"perc",relative:{0:"ebben a percben"},relativeTime:{future:{one:"{0} perc múlva",other:"{0} perc múlva"},past:{one:"{0} perccel ezelőtt",other:"{0} perccel ezelőtt"}}},second:{displayName:"másodperc",relative:{0:"most"},relativeTime:{future:{one:"{0} másodperc múlva",other:"{0} másodperc múlva"},past:{one:"{0} másodperccel ezelőtt",other:"{0} másodperccel ezelőtt"}}}}}]},function(e,t,a){e.exports=[{locale:"id",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Tahun",relative:{0:"tahun ini",1:"tahun depan","-1":"tahun lalu"},relativeTime:{future:{other:"Dalam {0} tahun"},past:{other:"{0} tahun yang lalu"}}},month:{displayName:"Bulan",relative:{0:"bulan ini",1:"Bulan berikutnya","-1":"bulan lalu"},relativeTime:{future:{other:"Dalam {0} bulan"},past:{other:"{0} bulan yang lalu"}}},day:{displayName:"Hari",relative:{0:"hari ini",1:"besok",2:"lusa","-2":"kemarin dulu","-1":"kemarin"},relativeTime:{future:{other:"Dalam {0} hari"},past:{other:"{0} hari yang lalu"}}},hour:{displayName:"Jam",relative:{0:"jam ini"},relativeTime:{future:{other:"Dalam {0} jam"},past:{other:"{0} jam yang lalu"}}},minute:{displayName:"Menit",relative:{0:"menit ini"},relativeTime:{future:{other:"Dalam {0} menit"},past:{other:"{0} menit yang lalu"}}},second:{displayName:"Detik",relative:{0:"sekarang"},relativeTime:{future:{other:"Dalam {0} detik"},past:{other:"{0} detik yang lalu"}}}}}]},function(e,t,a){e.exports=[{locale:"it",pluralRuleFunction:function(e,t){var a=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&a?"one":"other"},fields:{year:{displayName:"anno",relative:{0:"quest’anno",1:"anno prossimo","-1":"anno scorso"},relativeTime:{future:{one:"tra {0} anno",other:"tra {0} anni"},past:{one:"{0} anno fa",other:"{0} anni fa"}}},month:{displayName:"mese",relative:{0:"questo mese",1:"mese prossimo","-1":"mese scorso"},relativeTime:{future:{one:"tra {0} mese",other:"tra {0} mesi"},past:{one:"{0} mese fa",other:"{0} mesi fa"}}},day:{displayName:"giorno",relative:{0:"oggi",1:"domani",2:"dopodomani","-2":"l’altro ieri","-1":"ieri"},relativeTime:{future:{one:"tra {0} giorno",other:"tra {0} giorni"},past:{one:"{0} giorno fa",other:"{0} giorni fa"}}},hour:{displayName:"ora",relative:{0:"quest’ora"},relativeTime:{future:{one:"tra {0} ora",other:"tra {0} ore"},past:{one:"{0} ora fa",other:"{0} ore fa"}}},minute:{displayName:"minuto",relative:{0:"questo minuto"},relativeTime:{future:{one:"tra {0} minuto",other:"tra {0} minuti"},past:{one:"{0} minuto fa",other:"{0} minuti fa"}}},second:{displayName:"secondo",relative:{0:"ora"},relativeTime:{future:{one:"tra {0} secondo",other:"tra {0} secondi"},past:{one:"{0} secondo fa",other:"{0} secondi fa"}}}}},{locale:"it-CH",parentLocale:"it"},{locale:"it-SM",parentLocale:"it"},{locale:"it-VA",parentLocale:"it"}]},function(e,t,a){e.exports=[{locale:"ja",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"年",relative:{0:"今年",1:"翌年","-1":"昨年"},relativeTime:{future:{other:"{0} 年後"},past:{other:"{0} 年前"}}},month:{displayName:"月",relative:{0:"今月",1:"翌月","-1":"先月"},relativeTime:{future:{other:"{0} か月後"},past:{other:"{0} か月前"}}},day:{displayName:"日",relative:{0:"今日",1:"明日",2:"明後日","-2":"一昨日","-1":"昨日"},relativeTime:{future:{other:"{0} 日後"},past:{other:"{0} 日前"}}},hour:{displayName:"時",relative:{0:"1 時間以内"},relativeTime:{future:{other:"{0} 時間後"},past:{other:"{0} 時間前"}}},minute:{displayName:"分",relative:{0:"1 分以内"},relativeTime:{future:{other:"{0} 分後"},past:{other:"{0} 分前"}}},second:{displayName:"秒",relative:{0:"今"},relativeTime:{future:{other:"{0} 秒後"},past:{other:"{0} 秒前"}}}}}]},function(e,t,a){e.exports=[{locale:"ko",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"년",relative:{0:"올해",1:"내년","-1":"작년"},relativeTime:{future:{other:"{0}년 후"},past:{other:"{0}년 전"}}},month:{displayName:"월",relative:{0:"이번 달",1:"다음 달","-1":"지난달"},relativeTime:{future:{other:"{0}개월 후"},past:{other:"{0}개월 전"}}},day:{displayName:"일",relative:{0:"오늘",1:"내일",2:"모레","-2":"그저께","-1":"어제"},relativeTime:{future:{other:"{0}일 후"},past:{other:"{0}일 전"}}},hour:{displayName:"시",relative:{0:"현재 시간"},relativeTime:{future:{other:"{0}시간 후"},past:{other:"{0}시간 전"}}},minute:{displayName:"분",relative:{0:"현재 분"},relativeTime:{future:{other:"{0}분 후"},past:{other:"{0}분 전"}}},second:{displayName:"초",relative:{0:"지금"},relativeTime:{future:{other:"{0}초 후"},past:{other:"{0}초 전"}}}}},{locale:"ko-KP",parentLocale:"ko"}]},function(e,t,a){e.exports=[{locale:"nl",pluralRuleFunction:function(e,t){var a=!String(e).split(".")[1];return t?"other":1==e&&a?"one":"other"},fields:{year:{displayName:"jaar",relative:{0:"dit jaar",1:"volgend jaar","-1":"vorig jaar"},relativeTime:{future:{one:"over {0} jaar",other:"over {0} jaar"},past:{one:"{0} jaar geleden",other:"{0} jaar geleden"}}},month:{displayName:"maand",relative:{0:"deze maand",1:"volgende maand","-1":"vorige maand"},relativeTime:{future:{one:"over {0} maand",other:"over {0} maanden"},past:{one:"{0} maand geleden",other:"{0} maanden geleden"}}},day:{displayName:"dag",relative:{0:"vandaag",1:"morgen",2:"overmorgen","-2":"eergisteren","-1":"gisteren"},relativeTime:{future:{one:"over {0} dag",other:"over {0} dagen"},past:{one:"{0} dag geleden",other:"{0} dagen geleden"}}},hour:{displayName:"uur",relative:{0:"binnen een uur"},relativeTime:{future:{one:"over {0} uur",other:"over {0} uur"},past:{one:"{0} uur geleden",other:"{0} uur geleden"}}},minute:{displayName:"minuut",relative:{0:"binnen een minuut"},relativeTime:{future:{one:"over {0} minuut",other:"over {0} minuten"},past:{one:"{0} minuut geleden",other:"{0} minuten geleden"}}},second:{displayName:"seconde",relative:{0:"nu"},relativeTime:{future:{one:"over {0} seconde",other:"over {0} seconden"},past:{one:"{0} seconde geleden",other:"{0} seconden geleden"}}}}},{locale:"nl-AW",parentLocale:"nl"},{locale:"nl-BE",parentLocale:"nl"},{locale:"nl-BQ",parentLocale:"nl"},{locale:"nl-CW",parentLocale:"nl"},{locale:"nl-SR",parentLocale:"nl"},{locale:"nl-SX",parentLocale:"nl"}]},function(e,t,a){e.exports=[{locale:"nb",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"år",relative:{0:"i år",1:"neste år","-1":"i fjor"},relativeTime:{future:{one:"om {0} år",other:"om {0} år"},past:{one:"for {0} år siden",other:"for {0} år siden"}}},month:{displayName:"måned",relative:{0:"denne måneden",1:"neste måned","-1":"forrige måned"},relativeTime:{future:{one:"om {0} måned",other:"om {0} måneder"},past:{one:"for {0} måned siden",other:"for {0} måneder siden"}}},day:{displayName:"dag",relative:{0:"i dag",1:"i morgen",2:"i overmorgen","-2":"i forgårs","-1":"i går"},relativeTime:{future:{one:"om {0} døgn",other:"om {0} døgn"},past:{one:"for {0} døgn siden",other:"for {0} døgn siden"}}},hour:{displayName:"time",relative:{0:"denne timen"},relativeTime:{future:{one:"om {0} time",other:"om {0} timer"},past:{one:"for {0} time siden",other:"for {0} timer siden"}}},minute:{displayName:"minutt",relative:{0:"dette minuttet"},relativeTime:{future:{one:"om {0} minutt",other:"om {0} minutter"},past:{one:"for {0} minutt siden",other:"for {0} minutter siden"}}},second:{displayName:"sekund",relative:{0:"nå"},relativeTime:{future:{one:"om {0} sekund",other:"om {0} sekunder"},past:{one:"for {0} sekund siden",other:"for {0} sekunder siden"}}}}},{locale:"nb-SJ",parentLocale:"nb"}]},function(e,t,a){e.exports=[{locale:"nn",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"år",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"om {0} år",other:"om {0} år"},past:{one:"for {0} år siden",other:"for {0} år siden"}}},month:{displayName:"månad",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"om {0} måned",other:"om {0} måneder"},past:{one:"for {0} måned siden",other:"for {0} måneder siden"}}},day:{displayName:"dag",relative:{0:"i dag",1:"i morgon",2:"i overmorgon","-2":"i forgårs","-1":"i går"},relativeTime:{future:{one:"om {0} døgn",other:"om {0} døgn"},past:{one:"for {0} døgn siden",other:"for {0} døgn siden"}}},hour:{displayName:"time",relative:{0:"this hour"},relativeTime:{future:{one:"om {0} time",other:"om {0} timer"},past:{one:"for {0} time siden",other:"for {0} timer siden"}}},minute:{displayName:"minutt",relative:{0:"this minute"},relativeTime:{future:{one:"om {0} minutt",other:"om {0} minutter"},past:{one:"for {0} minutt siden",other:"for {0} minutter siden"}}},second:{displayName:"sekund",relative:{0:"now"},relativeTime:{future:{one:"om {0} sekund",other:"om {0} sekunder"},past:{one:"for {0} sekund siden",other:"for {0} sekunder siden"}}}}}]},function(e,t,a){e.exports=[{locale:"pl",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=!a[1],o=n.slice(-1),i=n.slice(-2);return t?"other":1==e&&r?"one":r&&o>=2&&o<=4&&(i<12||i>14)?"few":r&&1!=n&&(0==o||1==o)||r&&o>=5&&o<=9||r&&i>=12&&i<=14?"many":"other"},fields:{year:{displayName:"rok",relative:{0:"w tym roku",1:"w przyszłym roku","-1":"w zeszłym roku"},relativeTime:{future:{one:"za {0} rok",few:"za {0} lata",many:"za {0} lat",other:"za {0} roku"},past:{one:"{0} rok temu",few:"{0} lata temu",many:"{0} lat temu",other:"{0} roku temu"}}},month:{displayName:"miesiąc",relative:{0:"w tym miesiącu",1:"w przyszłym miesiącu","-1":"w zeszłym miesiącu"},relativeTime:{future:{one:"za {0} miesiąc",few:"za {0} miesiące",many:"za {0} miesięcy",other:"za {0} miesiąca"},past:{one:"{0} miesiąc temu",few:"{0} miesiące temu",many:"{0} miesięcy temu",other:"{0} miesiąca temu"}}},day:{displayName:"dzień",relative:{0:"dzisiaj",1:"jutro",2:"pojutrze","-2":"przedwczoraj","-1":"wczoraj"},relativeTime:{future:{one:"za {0} dzień",few:"za {0} dni",many:"za {0} dni",other:"za {0} dnia"},past:{one:"{0} dzień temu",few:"{0} dni temu",many:"{0} dni temu",other:"{0} dnia temu"}}},hour:{displayName:"godzina",relative:{0:"ta godzina"},relativeTime:{future:{one:"za {0} godzinę",few:"za {0} godziny",many:"za {0} godzin",other:"za {0} godziny"},past:{one:"{0} godzinę temu",few:"{0} godziny temu",many:"{0} godzin temu",other:"{0} godziny temu"}}},minute:{displayName:"minuta",relative:{0:"ta minuta"},relativeTime:{future:{one:"za {0} minutę",few:"za {0} minuty",many:"za {0} minut",other:"za {0} minuty"},past:{one:"{0} minutę temu",few:"{0} minuty temu",many:"{0} minut temu",other:"{0} minuty temu"}}},second:{displayName:"sekunda",relative:{0:"teraz"},relativeTime:{future:{one:"za {0} sekundę",few:"za {0} sekundy",many:"za {0} sekund",other:"za {0} sekundy"},past:{one:"{0} sekundę temu",few:"{0} sekundy temu",many:"{0} sekund temu",other:"{0} sekundy temu"}}}}}]},function(e,t,a){e.exports=[{locale:"hr",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=a[1]||"",o=!a[1],i=n.slice(-1),u=n.slice(-2),s=r.slice(-1),l=r.slice(-2);return t?"other":o&&1==i&&11!=u||1==s&&11!=l?"one":o&&i>=2&&i<=4&&(u<12||u>14)||s>=2&&s<=4&&(l<12||l>14)?"few":"other"},fields:{year:{displayName:"godina",relative:{0:"ove godine",1:"sljedeće godine","-1":"prošle godine"},relativeTime:{future:{one:"za {0} godinu",few:"za {0} godine",other:"za {0} godina"},past:{one:"prije {0} godinu",few:"prije {0} godine",other:"prije {0} godina"}}},month:{displayName:"mjesec",relative:{0:"ovaj mjesec",1:"sljedeći mjesec","-1":"prošli mjesec"},relativeTime:{future:{one:"za {0} mjesec",few:"za {0} mjeseca",other:"za {0} mjeseci"},past:{one:"prije {0} mjesec",few:"prije {0} mjeseca",other:"prije {0} mjeseci"}}},day:{displayName:"dan",relative:{0:"danas",1:"sutra",2:"prekosutra","-2":"prekjučer","-1":"jučer"},relativeTime:{future:{one:"za {0} dan",few:"za {0} dana",other:"za {0} dana"},past:{one:"prije {0} dan",few:"prije {0} dana",other:"prije {0} dana"}}},hour:{displayName:"sat",relative:{0:"ovaj sat"},relativeTime:{future:{one:"za {0} sat",few:"za {0} sata",other:"za {0} sati"},past:{one:"prije {0} sat",few:"prije {0} sata",other:"prije {0} sati"}}},minute:{displayName:"minuta",relative:{0:"ova minuta"},relativeTime:{future:{one:"za {0} minutu",few:"za {0} minute",other:"za {0} minuta"},past:{one:"prije {0} minutu",few:"prije {0} minute",other:"prije {0} minuta"}}},second:{displayName:"sekunda",relative:{0:"sad"},relativeTime:{future:{one:"za {0} sekundu",few:"za {0} sekunde",other:"za {0} sekundi"},past:{one:"prije {0} sekundu",few:"prije {0} sekunde",other:"prije {0} sekundi"}}}}},{locale:"hr-BA",parentLocale:"hr"}]},function(e,t,a){e.exports=[{locale:"pt",pluralRuleFunction:function(e,t){var a=String(e).split(".")[0];return t?"other":0==a||1==a?"one":"other"},fields:{year:{displayName:"ano",relative:{0:"este ano",1:"próximo ano","-1":"ano passado"},relativeTime:{future:{one:"em {0} ano",other:"em {0} anos"},past:{one:"há {0} ano",other:"há {0} anos"}}},month:{displayName:"mês",relative:{0:"este mês",1:"próximo mês","-1":"mês passado"},relativeTime:{future:{one:"em {0} mês",other:"em {0} meses"},past:{one:"há {0} mês",other:"há {0} meses"}}},day:{displayName:"dia",relative:{0:"hoje",1:"amanhã",2:"depois de amanhã","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"em {0} dia",other:"em {0} dias"},past:{one:"há {0} dia",other:"há {0} dias"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"em {0} hora",other:"em {0} horas"},past:{one:"há {0} hora",other:"há {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"em {0} minuto",other:"em {0} minutos"},past:{one:"há {0} minuto",other:"há {0} minutos"}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"em {0} segundo",other:"em {0} segundos"},past:{one:"há {0} segundo",other:"há {0} segundos"}}}}},{locale:"pt-AO",parentLocale:"pt-PT"},{locale:"pt-PT",parentLocale:"pt",fields:{year:{displayName:"ano",relative:{0:"este ano",1:"próximo ano","-1":"ano passado"},relativeTime:{future:{one:"dentro de {0} ano",other:"dentro de {0} anos"},past:{one:"há {0} ano",other:"há {0} anos"}}},month:{displayName:"mês",relative:{0:"este mês",1:"próximo mês","-1":"mês passado"},relativeTime:{future:{one:"dentro de {0} mês",other:"dentro de {0} meses"},past:{one:"há {0} mês",other:"há {0} meses"}}},day:{displayName:"dia",relative:{0:"hoje",1:"amanhã",2:"depois de amanhã","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"dentro de {0} dia",other:"dentro de {0} dias"},past:{one:"há {0} dia",other:"há {0} dias"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"há {0} hora",other:"há {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"há {0} minuto",other:"há {0} minutos"}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"há {0} segundo",other:"há {0} segundos"}}}}},{locale:"pt-CH",parentLocale:"pt-PT"},{locale:"pt-CV",parentLocale:"pt-PT"},{locale:"pt-GQ",parentLocale:"pt-PT"},{locale:"pt-GW",parentLocale:"pt-PT"},{locale:"pt-LU",parentLocale:"pt-PT"},{locale:"pt-MO",parentLocale:"pt-PT"},{locale:"pt-MZ",parentLocale:"pt-PT"},{locale:"pt-ST",parentLocale:"pt-PT"},{locale:"pt-TL",parentLocale:"pt-PT"}]},function(e,t,a){e.exports=[{locale:"ru",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=!a[1],o=n.slice(-1),i=n.slice(-2);return t?"other":r&&1==o&&11!=i?"one":r&&o>=2&&o<=4&&(i<12||i>14)?"few":r&&0==o||r&&o>=5&&o<=9||r&&i>=11&&i<=14?"many":"other"},fields:{year:{displayName:"год",relative:{0:"в этом году",1:"в следующем году","-1":"в прошлом году"},relativeTime:{future:{one:"через {0} год",few:"через {0} года",many:"через {0} лет",other:"через {0} года"},past:{one:"{0} год назад",few:"{0} года назад",many:"{0} лет назад",other:"{0} года назад"}}},month:{displayName:"месяц",relative:{0:"в этом месяце",1:"в следующем месяце","-1":"в прошлом месяце"},relativeTime:{future:{one:"через {0} месяц",few:"через {0} месяца",many:"через {0} месяцев",other:"через {0} месяца"},past:{one:"{0} месяц назад",few:"{0} месяца назад",many:"{0} месяцев назад",other:"{0} месяца назад"}}},day:{displayName:"день",relative:{0:"сегодня",1:"завтра",2:"послезавтра","-2":"позавчера","-1":"вчера"},relativeTime:{future:{one:"через {0} день",few:"через {0} дня",many:"через {0} дней",other:"через {0} дня"},past:{one:"{0} день назад",few:"{0} дня назад",many:"{0} дней назад",other:"{0} дня назад"}}},hour:{displayName:"час",relative:{0:"в этом часе"},relativeTime:{future:{one:"через {0} час",few:"через {0} часа",many:"через {0} часов",other:"через {0} часа"},past:{one:"{0} час назад",few:"{0} часа назад",many:"{0} часов назад",other:"{0} часа назад"}}},minute:{displayName:"минута",relative:{0:"в эту минуту"},relativeTime:{future:{one:"через {0} минуту",few:"через {0} минуты",many:"через {0} минут",other:"через {0} минуты"},past:{one:"{0} минуту назад",few:"{0} минуты назад",many:"{0} минут назад",other:"{0} минуты назад"}}},second:{displayName:"секунда",relative:{0:"сейчас"},relativeTime:{future:{one:"через {0} секунду",few:"через {0} секунды",many:"через {0} секунд",other:"через {0} секунды"},past:{one:"{0} секунду назад",few:"{0} секунды назад",many:"{0} секунд назад",other:"{0} секунды назад"}}}}},{locale:"ru-BY",parentLocale:"ru"},{locale:"ru-KG",parentLocale:"ru"},{locale:"ru-KZ",parentLocale:"ru"},{locale:"ru-MD",parentLocale:"ru"},{locale:"ru-UA",parentLocale:"ru"}]},function(e,t,a){e.exports=[{locale:"sl",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=!a[1],o=n.slice(-2);return t?"other":r&&1==o?"one":r&&2==o?"two":r&&(3==o||4==o)||!r?"few":"other"},fields:{year:{displayName:"leto",relative:{0:"letos",1:"naslednje leto","-1":"lani"},relativeTime:{future:{one:"čez {0} leto",two:"čez {0} leti",few:"čez {0} leta",other:"čez {0} let"},past:{one:"pred {0} letom",two:"pred {0} letoma",few:"pred {0} leti",other:"pred {0} leti"}}},month:{displayName:"mesec",relative:{0:"ta mesec",1:"naslednji mesec","-1":"prejšnji mesec"},relativeTime:{future:{one:"čez {0} mesec",two:"čez {0} meseca",few:"čez {0} mesece",other:"čez {0} mesecev"},past:{one:"pred {0} mesecem",two:"pred {0} mesecema",few:"pred {0} meseci",other:"pred {0} meseci"}}},day:{displayName:"dan",relative:{0:"danes",1:"jutri",2:"pojutrišnjem","-2":"predvčerajšnjim","-1":"včeraj"},relativeTime:{future:{one:"čez {0} dan",two:"čez {0} dneva",few:"čez {0} dni",other:"čez {0} dni"},past:{one:"pred {0} dnevom",two:"pred {0} dnevoma",few:"pred {0} dnevi",other:"pred {0} dnevi"}}},hour:{displayName:"ura",relative:{0:"v tej uri"},relativeTime:{future:{one:"čez {0} uro",two:"čez {0} uri",few:"čez {0} ure",other:"čez {0} ur"},past:{one:"pred {0} uro",two:"pred {0} urama",few:"pred {0} urami",other:"pred {0} urami"}}},minute:{displayName:"minuta",relative:{0:"to minuto"},relativeTime:{future:{one:"čez {0} minuto",two:"čez {0} minuti",few:"čez {0} minute",other:"čez {0} minut"},past:{one:"pred {0} minuto",two:"pred {0} minutama",few:"pred {0} minutami",other:"pred {0} minutami"}}},second:{displayName:"sekunda",relative:{0:"zdaj"},relativeTime:{future:{one:"čez {0} sekundo",two:"čez {0} sekundi",few:"čez {0} sekunde",other:"čez {0} sekund"},past:{one:"pred {0} sekundo",two:"pred {0} sekundama",few:"pred {0} sekundami",other:"pred {0} sekundami"}}}}}]},function(e,t,a){e.exports=[{locale:"sk",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=!a[1];return t?"other":1==e&&r?"one":n>=2&&n<=4&&r?"few":r?"other":"many"},fields:{year:{displayName:"rok",relative:{0:"tento rok",1:"budúci rok","-1":"minulý rok"},relativeTime:{future:{one:"o {0} rok",few:"o {0} roky",many:"o {0} roka",other:"o {0} rokov"},past:{one:"pred {0} rokom",few:"pred {0} rokmi",many:"pred {0} roka",other:"pred {0} rokmi"}}},month:{displayName:"mesiac",relative:{0:"tento mesiac",1:"budúci mesiac","-1":"minulý mesiac"},relativeTime:{future:{one:"o {0} mesiac",few:"o {0} mesiace",many:"o {0} mesiaca",other:"o {0} mesiacov"},past:{one:"pred {0} mesiacom",few:"pred {0} mesiacmi",many:"pred {0} mesiaca",other:"pred {0} mesiacmi"}}},day:{displayName:"deň",relative:{0:"dnes",1:"zajtra",2:"pozajtra","-2":"predvčerom","-1":"včera"},relativeTime:{future:{one:"o {0} deň",few:"o {0} dni",many:"o {0} dňa",other:"o {0} dní"},past:{one:"pred {0} dňom",few:"pred {0} dňami",many:"pred {0} dňa",other:"pred {0} dňami"}}},hour:{displayName:"hodina",relative:{0:"v tejto hodine"},relativeTime:{future:{one:"o {0} hodinu",few:"o {0} hodiny",many:"o {0} hodiny",other:"o {0} hodín"},past:{one:"pred {0} hodinou",few:"pred {0} hodinami",many:"pred {0} hodinou",other:"pred {0} hodinami"}}},minute:{displayName:"minúta",relative:{0:"v tejto minúte"},relativeTime:{future:{one:"o {0} minútu",few:"o {0} minúty",many:"o {0} minúty",other:"o {0} minút"},past:{one:"pred {0} minútou",few:"pred {0} minútami",many:"pred {0} minúty",other:"pred {0} minútami"}}},second:{displayName:"sekunda",relative:{0:"teraz"},relativeTime:{future:{one:"o {0} sekundu",few:"o {0} sekundy",many:"o {0} sekundy",other:"o {0} sekúnd"},past:{one:"pred {0} sekundou",few:"pred {0} sekundami",many:"pred {0} sekundy",other:"pred {0} sekundami"}}}}}]},function(e,t,a){e.exports=[{locale:"sr",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=a[1]||"",o=!a[1],i=n.slice(-1),u=n.slice(-2),s=r.slice(-1),l=r.slice(-2);return t?"other":o&&1==i&&11!=u||1==s&&11!=l?"one":o&&i>=2&&i<=4&&(u<12||u>14)||s>=2&&s<=4&&(l<12||l>14)?"few":"other"},fields:{year:{displayName:"година",relative:{0:"ове године",1:"следеће године","-1":"прошле године"},relativeTime:{future:{one:"за {0} годину",few:"за {0} године",other:"за {0} година"},past:{one:"пре {0} године",few:"пре {0} године",other:"пре {0} година"}}},month:{displayName:"месец",relative:{0:"овог месеца",1:"следећег месеца","-1":"прошлог месеца"},relativeTime:{future:{one:"за {0} месец",few:"за {0} месеца",other:"за {0} месеци"},past:{one:"пре {0} месеца",few:"пре {0} месеца",other:"пре {0} месеци"}}},day:{displayName:"дан",relative:{0:"данас",1:"сутра",2:"прекосутра","-2":"прекјуче","-1":"јуче"},relativeTime:{future:{one:"за {0} дан",few:"за {0} дана",other:"за {0} дана"},past:{one:"пре {0} дана",few:"пре {0} дана",other:"пре {0} дана"}}},hour:{displayName:"сат",relative:{0:"овог сата"},relativeTime:{future:{one:"за {0} сат",few:"за {0} сата",other:"за {0} сати"},past:{one:"пре {0} сата",few:"пре {0} сата",other:"пре {0} сати"}}},minute:{displayName:"минут",relative:{0:"овог минута"},relativeTime:{future:{one:"за {0} минут",few:"за {0} минута",other:"за {0} минута"},past:{one:"пре {0} минута",few:"пре {0} минута",other:"пре {0} минута"}}},second:{displayName:"секунд",relative:{0:"сада"},relativeTime:{future:{one:"за {0} секунду",few:"за {0} секунде",other:"за {0} секунди"},past:{one:"пре {0} секунде",few:"пре {0} секунде",other:"пре {0} секунди"}}}}},{locale:"sr-Cyrl",parentLocale:"sr"},{locale:"sr-Cyrl-BA",parentLocale:"sr-Cyrl"},{locale:"sr-Cyrl-ME",parentLocale:"sr-Cyrl"},{locale:"sr-Cyrl-XK",parentLocale:"sr-Cyrl"},{locale:"sr-Latn",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"godina",relative:{0:"ove godine",1:"sledeće godine","-1":"prošle godine"},relativeTime:{future:{one:"za {0} godinu",few:"za {0} godine",other:"za {0} godina"},past:{one:"pre {0} godine",few:"pre {0} godine",other:"pre {0} godina"}}},month:{displayName:"mesec",relative:{0:"ovog meseca",1:"sledećeg meseca","-1":"prošlog meseca"},relativeTime:{future:{one:"za {0} mesec",few:"za {0} meseca",other:"za {0} meseci"},past:{one:"pre {0} meseca",few:"pre {0} meseca",other:"pre {0} meseci"}}},day:{displayName:"dan",relative:{0:"danas",1:"sutra",2:"prekosutra","-2":"prekjuče","-1":"juče"},relativeTime:{future:{one:"za {0} dan",few:"za {0} dana",other:"za {0} dana"},past:{one:"pre {0} dana",few:"pre {0} dana",other:"pre {0} dana"}}},hour:{displayName:"sat",relative:{0:"ovog sata"},relativeTime:{future:{one:"za {0} sat",few:"za {0} sata",other:"za {0} sati"},past:{one:"pre {0} sata",few:"pre {0} sata",other:"pre {0} sati"}}},minute:{displayName:"minut",relative:{0:"ovog minuta"},relativeTime:{future:{one:"za {0} minut",few:"za {0} minuta",other:"za {0} minuta"},past:{one:"pre {0} minuta",few:"pre {0} minuta",other:"pre {0} minuta"}}},second:{displayName:"sekund",relative:{0:"sada"},relativeTime:{future:{one:"za {0} sekundu",few:"za {0} sekunde",other:"za {0} sekundi"},past:{one:"pre {0} sekunde",few:"pre {0} sekunde",other:"pre {0} sekundi"}}}}},{locale:"sr-Latn-BA",parentLocale:"sr-Latn"},{locale:"sr-Latn-ME",parentLocale:"sr-Latn"},{locale:"sr-Latn-XK",parentLocale:"sr-Latn"}]},function(e,t,a){e.exports=[{locale:"sv",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=!a[1],r=Number(a[0])==e,o=r&&a[0].slice(-1),i=r&&a[0].slice(-2);return t?1!=o&&2!=o||11==i||12==i?"other":"one":1==e&&n?"one":"other"},fields:{year:{displayName:"år",relative:{0:"i år",1:"nästa år","-1":"i fjol"},relativeTime:{future:{one:"om {0} år",other:"om {0} år"},past:{one:"för {0} år sedan",other:"för {0} år sedan"}}},month:{displayName:"månad",relative:{0:"denna månad",1:"nästa månad","-1":"förra månaden"},relativeTime:{future:{one:"om {0} månad",other:"om {0} månader"},past:{one:"för {0} månad sedan",other:"för {0} månader sedan"}}},day:{displayName:"dag",relative:{0:"i dag",1:"i morgon",2:"i övermorgon","-2":"i förrgår","-1":"i går"},relativeTime:{future:{one:"om {0} dag",other:"om {0} dagar"},past:{one:"för {0} dag sedan",other:"för {0} dagar sedan"}}},hour:{displayName:"timme",relative:{0:"denna timme"},relativeTime:{future:{one:"om {0} timme",other:"om {0} timmar"},past:{one:"för {0} timme sedan",other:"för {0} timmar sedan"}}},minute:{displayName:"minut",relative:{0:"denna minut"},relativeTime:{future:{one:"om {0} minut",other:"om {0} minuter"},past:{one:"för {0} minut sedan",other:"för {0} minuter sedan"}}},second:{displayName:"sekund",relative:{0:"nu"},relativeTime:{future:{one:"om {0} sekund",other:"om {0} sekunder"},past:{one:"för {0} sekund sedan",other:"för {0} sekunder sedan"}}}}},{locale:"sv-AX",parentLocale:"sv"},{locale:"sv-FI",parentLocale:"sv"}]},function(e,t,a){e.exports=[{locale:"th",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"ปี",relative:{0:"ปีนี้",1:"ปีหน้า","-1":"ปีที่แล้ว"},relativeTime:{future:{other:"ในอีก {0} ปี"},past:{other:"{0} ปีที่แล้ว"}}},month:{displayName:"เดือน",relative:{0:"เดือนนี้",1:"เดือนหน้า","-1":"เดือนที่แล้ว"},relativeTime:{future:{other:"ในอีก {0} เดือน"},past:{other:"{0} เดือนที่ผ่านมา"}}},day:{displayName:"วัน",relative:{0:"วันนี้",1:"พรุ่งนี้",2:"มะรืนนี้","-2":"เมื่อวานซืน","-1":"เมื่อวาน"},relativeTime:{future:{other:"ในอีก {0} วัน"},past:{other:"{0} วันที่ผ่านมา"}}},hour:{displayName:"ชั่วโมง",relative:{0:"ชั่วโมงนี้"},relativeTime:{future:{other:"ในอีก {0} ชั่วโมง"},past:{other:"{0} ชั่วโมงที่ผ่านมา"}}},minute:{displayName:"นาที",relative:{0:"นาทีนี้"},relativeTime:{future:{other:"ในอีก {0} นาที"},past:{other:"{0} นาทีที่ผ่านมา"}}},second:{displayName:"วินาที",relative:{0:"ขณะนี้"},relativeTime:{future:{other:"ในอีก {0} วินาที"},past:{other:"{0} วินาทีที่ผ่านมา"}}}}}]},function(e,t,a){e.exports=[{locale:"tr",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"yıl",relative:{0:"bu yıl",1:"gelecek yıl","-1":"geçen yıl"},relativeTime:{future:{one:"{0} yıl sonra",other:"{0} yıl sonra"},past:{one:"{0} yıl önce",other:"{0} yıl önce"}}},month:{displayName:"ay",relative:{0:"bu ay",1:"gelecek ay","-1":"geçen ay"},relativeTime:{future:{one:"{0} ay sonra",other:"{0} ay sonra"},past:{one:"{0} ay önce",other:"{0} ay önce"}}},day:{displayName:"gün",relative:{0:"bugün",1:"yarın",2:"öbür gün","-2":"evvelsi gün","-1":"dün"},relativeTime:{future:{one:"{0} gün sonra",other:"{0} gün sonra"},past:{one:"{0} gün önce",other:"{0} gün önce"}}},hour:{displayName:"saat",relative:{0:"bu saat"},relativeTime:{future:{one:"{0} saat sonra",other:"{0} saat sonra"},past:{one:"{0} saat önce",other:"{0} saat önce"}}},minute:{displayName:"dakika",relative:{0:"bu dakika"},relativeTime:{future:{one:"{0} dakika sonra",other:"{0} dakika sonra"},past:{one:"{0} dakika önce",other:"{0} dakika önce"}}},second:{displayName:"saniye",relative:{0:"şimdi"},relativeTime:{future:{one:"{0} saniye sonra",other:"{0} saniye sonra"},past:{one:"{0} saniye önce",other:"{0} saniye önce"}}}}},{locale:"tr-CY",parentLocale:"tr"}]},function(e,t,a){e.exports=[{locale:"uk",pluralRuleFunction:function(e,t){var a=String(e).split("."),n=a[0],r=!a[1],o=Number(a[0])==e,i=o&&a[0].slice(-1),u=o&&a[0].slice(-2),s=n.slice(-1),l=n.slice(-2);return t?3==i&&13!=u?"few":"other":r&&1==s&&11!=l?"one":r&&s>=2&&s<=4&&(l<12||l>14)?"few":r&&0==s||r&&s>=5&&s<=9||r&&l>=11&&l<=14?"many":"other"},fields:{year:{displayName:"рік",relative:{0:"цього року",1:"наступного року","-1":"торік"},relativeTime:{future:{one:"через {0} рік",few:"через {0} роки",many:"через {0} років",other:"через {0} року"},past:{one:"{0} рік тому",few:"{0} роки тому",many:"{0} років тому",other:"{0} року тому"}}},month:{displayName:"місяць",relative:{0:"цього місяця",1:"наступного місяця","-1":"минулого місяця"},relativeTime:{future:{one:"через {0} місяць",few:"через {0} місяці",many:"через {0} місяців",other:"через {0} місяця"},past:{one:"{0} місяць тому",few:"{0} місяці тому",many:"{0} місяців тому",other:"{0} місяця тому"}}},day:{displayName:"день",relative:{0:"сьогодні",1:"завтра",2:"післязавтра","-2":"позавчора","-1":"учора"},relativeTime:{future:{one:"через {0} день",few:"через {0} дні",many:"через {0} днів",other:"через {0} дня"},past:{one:"{0} день тому",few:"{0} дні тому",many:"{0} днів тому",other:"{0} дня тому"}}},hour:{displayName:"година",relative:{0:"цієї години"},relativeTime:{future:{one:"через {0} годину",few:"через {0} години",many:"через {0} годин",other:"через {0} години"},past:{one:"{0} годину тому",few:"{0} години тому",many:"{0} годин тому",other:"{0} години тому"}}},minute:{displayName:"хвилина",relative:{0:"цієї хвилини"},relativeTime:{future:{one:"через {0} хвилину",few:"через {0} хвилини",many:"через {0} хвилин",other:"через {0} хвилини"},past:{one:"{0} хвилину тому",few:"{0} хвилини тому",many:"{0} хвилин тому",other:"{0} хвилини тому"}}},second:{displayName:"секунда",relative:{0:"зараз"},relativeTime:{future:{one:"через {0} секунду",few:"через {0} секунди",many:"через {0} секунд",other:"через {0} секунди"},past:{one:"{0} секунду тому",few:"{0} секунди тому",many:"{0} секунд тому",other:"{0} секунди тому"}}}}}]},function(e,t,a){e.exports=[{locale:"vi",pluralRuleFunction:function(e,t){return t&&1==e?"one":"other"},fields:{year:{displayName:"Năm",relative:{0:"năm nay",1:"năm sau","-1":"năm ngoái"},relativeTime:{future:{other:"sau {0} năm nữa"},past:{other:"{0} năm trước"}}},month:{displayName:"Tháng",relative:{0:"tháng này",1:"tháng sau","-1":"tháng trước"},relativeTime:{future:{other:"sau {0} tháng nữa"},past:{other:"{0} tháng trước"}}},day:{displayName:"Ngày",relative:{0:"Hôm nay",1:"Ngày mai",2:"Ngày kia","-2":"Hôm kia","-1":"Hôm qua"},relativeTime:{future:{other:"sau {0} ngày nữa"},past:{other:"{0} ngày trước"}}},hour:{displayName:"Giờ",relative:{0:"giờ này"},relativeTime:{future:{other:"sau {0} giờ nữa"},past:{other:"{0} giờ trước"}}},minute:{displayName:"Phút",relative:{0:"phút này"},relativeTime:{future:{other:"sau {0} phút nữa"},past:{other:"{0} phút trước"}}},second:{displayName:"Giây",relative:{0:"bây giờ"},relativeTime:{future:{other:"sau {0} giây nữa"},past:{other:"{0} giây trước"}}}}}]},function(e,t,a){e.exports=[{locale:"zh",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},hour:{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},minute:{displayName:"分钟",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},second:{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒钟后"},past:{other:"{0}秒钟前"}}}}},{locale:"zh-Hans",parentLocale:"zh"},{locale:"zh-Hans-HK",parentLocale:"zh-Hans",fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},hour:{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},minute:{displayName:"分钟",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},second:{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}}}},{locale:"zh-Hans-MO",parentLocale:"zh-Hans",fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},hour:{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},minute:{displayName:"分钟",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},second:{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}}}},{locale:"zh-Hans-SG",parentLocale:"zh-Hans",fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},hour:{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},minute:{displayName:"分钟",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},second:{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}}}},{locale:"zh-Hant",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0} 年後"},past:{other:"{0} 年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下個月","-1":"上個月"},relativeTime:{future:{other:"{0} 個月後"},past:{other:"{0} 個月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"後天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0} 天後"},past:{other:"{0} 天前"}}},hour:{displayName:"小時",relative:{0:"這一小時"},relativeTime:{future:{other:"{0} 小時後"},past:{other:"{0} 小時前"}}},minute:{displayName:"分鐘",relative:{0:"這一分鐘"},relativeTime:{future:{other:"{0} 分鐘後"},past:{other:"{0} 分鐘前"}}},second:{displayName:"秒",relative:{0:"現在"},relativeTime:{future:{other:"{0} 秒後"},past:{other:"{0} 秒前"}}}}},{locale:"zh-Hant-HK",parentLocale:"zh-Hant",fields:{year:{displayName:"年",relative:{0:"今年",1:"下年","-1":"上年"},relativeTime:{future:{other:"{0} 年後"},past:{other:"{0} 年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下個月","-1":"上個月"},relativeTime:{future:{other:"{0} 個月後"},past:{other:"{0} 個月前"}}},day:{displayName:"日",relative:{0:"今日",1:"明日",2:"後日","-2":"前日","-1":"昨日"},relativeTime:{future:{other:"{0} 日後"},past:{other:"{0} 日前"}}},hour:{displayName:"小時",relative:{0:"這個小時"},relativeTime:{future:{other:"{0} 小時後"},past:{other:"{0} 小時前"}}},minute:{displayName:"分鐘",relative:{0:"這分鐘"},relativeTime:{future:{other:"{0} 分鐘後"},past:{other:"{0} 分鐘前"}}},second:{displayName:"秒",relative:{0:"現在"},relativeTime:{future:{other:"{0} 秒後"},past:{other:"{0} 秒前"}}}}},{locale:"zh-Hant-MO",parentLocale:"zh-Hant-HK"}]},function(e,t,a){e.exports=[{locale:"tk",pluralRuleFunction:function(e,t){return t?"other":1==e?"one":"other"},fields:{year:{displayName:"ýyl",relative:{0:"şu ýyl",1:"indiki ýyl","-1":"geçen ýyl"},relativeTime:{future:{one:"{0} ýyldan",other:"{0} ýyldan"},past:{one:"{0} ýyl öň",other:"{0} ýyl öň"}}},month:{displayName:"aý",relative:{0:"şu aý",1:"indiki aý","-1":"geçen aý"},relativeTime:{future:{one:"{0} aýdan",other:"{0} aýdan"},past:{one:"{0} aý öň",other:"{0} aý öň"}}},day:{displayName:"gün",relative:{0:"şu gün",1:"ertir","-1":"düýn"},relativeTime:{future:{one:"{0} günden",other:"{0} günden"},past:{one:"{0} gün öň",other:"{0} gün öň"}}},hour:{displayName:"sagat",relative:{0:"this hour"},relativeTime:{future:{one:"{0} sagatdan",other:"{0} sagatdan"},past:{one:"{0} sagat öň",other:"{0} sagat öň"}}},minute:{displayName:"minut",relative:{0:"this minute"},relativeTime:{future:{one:"{0} minutdan",other:"{0} minutdan"},past:{one:"{0} minut öň",other:"{0} minut öň"}}},second:{displayName:"sekunt",relative:{0:"now"},relativeTime:{future:{one:"{0} sekuntdan",other:"{0} sekuntdan"},past:{one:"{0} sekunt öň",other:"{0} sekunt öň"}}}}}]}])},"object"==(0,d.default)(t)&&"object"==(0,d.default)(e)?e.exports=i():(r=[],void 0===(o="function"==typeof(n=i)?n.apply(t,r):n)||(e.exports=o))}).call(this,a(158)(e))},1782:function(e){e.exports={version:"v2.0.0",extractPath:"http://classroom-huanan-static.oss-cn-shenzhen.aliyuncs.com/ext/dev/l10n/mblock-pc/v2.0.0/",fileUrl:"http://classroom-huanan-static.oss-cn-shenzhen.aliyuncs.com/ext/dev/l10n/mblock-pc/v2.0.0/i18n.zip",fileMd5:"c6243f8bf5c607d320e306e03694ceb5",localePath:"http://classroom-huanan-static.oss-cn-shenzhen.aliyuncs.com/ext/dev/react-intl/",supportLangs:{en:{name:"English"},zh:{name:"简体中文"},"zh-hant":{name:"繁體中文"},id:{name:"Bahasa Indonesia"},de:{name:"Deutsch"},es:{name:"Español"},fr:{name:"Français"},ko:{name:"한국어"},it:{name:"Italiano"},nl:{name:"Nederlands"},ja:{name:"日本語"},"ja-jph":{name:"にほんご"},pl:{name:"Polski"},hr:{name:"Hrvatski"},pt:{name:"Português"},ru:{name:"Русский"},fi:{name:"Suomi"},tr:{name:"Türkçe"},uk:{name:"Українська"},tk:{name:"Тürkmençe"}}}},1783:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onUpdateLocaleData=t.supportLocales=t.localeData=void 0;var n=l(a(44)),r=l(a(73)),o=l(a(40)),i=l(a(1782)),u=l(a(19)),s=a(439);function l(e){return e&&e.__esModule?e:{default:e}}var c=a(1781).default,d=i.default.supportLangs,f={en:{name:d.en.name,locale:c.en,messages:s.enMessages},zh:{name:d.zh.name,locale:c.zh,messages:s.zhMessages}};window.supportLocales=c;t.localeData=f,t.supportLocales=c,t.onUpdateLocaleData=function(e){return new o.default(function(t,a){e&&"zhhant"===(e=e.toLowerCase())&&(e="zh-hant");try{(0,r.default)(d).includes(e)&&function(e){var t=s.APP_LANG_ROOT+"/i18n/"+e+".json";return fetch(t).then(function(e){return e.json()})}(e).then(function(a){a&&"object"===(void 0===a?"undefined":(0,n.default)(a))&&((0,r.default)(f).includes(e)?f[e]={name:d[e].name,locale:c[e],messages:f[e].messages,mscratchMsgs:a[s.mscratchId],langKey:e}:f[e]={name:d[e].name,locale:c[e],messages:a[s.projectId]||s.enMessages,mscratchMsgs:a[s.mscratchId],langKey:e},u.default.emit("LocaleDataUpdated",e,f[e])),t(f[e])})}catch(e){a()}})}},1784:function(e){e.exports={}},1785:function(e){e.exports={"PROJECT.SHOW.DIALOG.TITLE":"Open","PROJECT.SAVE.DIALOG.TITLE":"Save","PROJECT.DIALOG.FILTER.NAME":"mBlock Project","PROJECT.MENU.OPEN":"Open","PROJECT.MENU.SHARE":"Share","PROJECT.MENU.RENAME":"Rename","PROJECT.MENU.COPY":"Copy","PROJECT.MENU.EXPORT":"Save to your computer","PROJECT.MENU.DELETE":"Delete","PROJECT.MENU.EDITSHARED":"Go to the detail page","PROJECT.MENU.CANCELSHARE":"Withdraw","PROJECT.STATUS.SYNCING":"Project list syncing...","PROJECT.STATUS.SUCCESS":"Sync success","PROJECT.STATUS.NONETWORK":"Network error. Please check it.","PROJECT.STATUS.FAIL":"Sync failure. Try again.","PROJECT.STATUS.WILLUPLOAD":"Not uploaded","PROJECT.STATUS.UPLOADING":"Uploading","PROJECT.STATUS.WILLDOWNLOAD":"To be downloaded","PROJECT.DELETE":"Delete the project","PROJECT.DELETE.TEXT":"Continue to delete the project?","PROJECT.DELETE.ALSO.TEXT":"The project will also be removed from the cloud. Continue to delete it?","PROJECT.CONFIRM.LOGOUT.WILLUPLOAD.TEXT":"There is a project to be uploaded in My Project. You won’t be able to sync it with the cloud if you sign out. Continue? ","PROJECT.CONFIRM.LOGOUT.SYNC.TEXT":"You won’t be able to sync projects with the cloud if you sign out. Continue？","PROJECT.EXPORT.LOCAL.MSG":"Your project file has been saved to {0}","PROJECT.EXPORT.MYPROJECTS.MSG":"Your project file has been saved to My Project","PROJECT.NAME":"Project Name","PROJECT.NAME.MIN.LENGTH.TEXT":"The project name can not be empty.","PROJECT.NAME.MAX.LENGTH.TEXT":"The project name should include 48 characters at most.","PROJECT.MAX.LENGTH.TEXT":"The length should not exceed 1000 characters.","PROJECT.INTRODUCTION":"Project Introduction","PROJECT.INTRODUCTION.PLACEHOLDER":"Give more details about your project. Remember to specify the original authors if you adapt, repost or borrow others’ projects or materials ","PROJECT.OPERATION":"How-to Guide ","PROJECT.OPERATION.PLACEHOLDER":"Tell other people how to operate your project.","PROJECT.AGREE.TEXT":"I’ve read and accept Makeblock’s ","PROJECT.AGREEMENT":"Community Agreement ","PROJECT.SHARE.DELETE":"Delete the shared project?","PROJECT.SHARE.DELETE.TEXT":"The project has been shared. After you delete the project, it will be withdrawn from the Community and removed from the cloud. Continue to delete it?","PROJECT.SHARE.DELETE.ERROR":"Deletion failed","PROJECT.SHARE.DELETE.ERROR.NETWORK":"Network error. Deletion failed.","PROJECT.SHARE.SUCCESS":"The project has been shared. Go to the ","PROJECT.SHARE.SOCIAL":"project community to ","PROJECT.SHARE.LOOKING":"explore more ~","PROJECT.SHARE.ERROR.NETWORK":"Failed to share the project. Please check the network and then try again","PROJECT.CANCEL.SHARE":"Cancel the project sharing?","PROJECT.CANCEL.SHARE.ERROR.NETWORK":"Unshare failed. Please check the network and then try again.","PROJECT.CANCEL.SHARE.SUCCESS":"Unshare success","PROJECT.CANCEL.SHARE.TEXT":"The project will not be found in the Project Community after you unshare the project. Continue?","PROJECT.LIST.EMPTY.TEXT":"Your project list is empty","PROJECT.SORTBY.RECENT":"Recent"}},1786:function(e){e.exports={"SPRITE.LIBS.TITLE":"Sprite Library","SPRITE.LIBS.USER.TITLE":"My Sprites","SPRITE.COSTUMES.TITLE":"Costumes","SPRITE.COSTUMES.USER.TITLE":"My Costumes","SPRITE.BACKDROPS.TITLE":"Backdrop Library","SPRITE.BACKDROPS.USER.TITLE":"My Backdrops","SPRITE.SOUNDS.TITLE":"Sound Library","SPRITE.SOUNDS.USER.TITLE":"My Sounds","SPRITE.DEVICES.TITLE":"Device Library","SPRITE.DEVICES.USER.TITLE":"My Device","SPRITE.UPLOAD.MSG":'"{0}", upload JPG, PNG, SVG, GIF, sprite2 or sprite3 file only!',"SPRITE.UPLOAD.SIZE.LIMIT.MSG":'"{0}", maximum file upload size is 2MB!',"SPRITE.SVG.UPLOAD.SIZE.LIMIT.MSG":'"{0}", maximum svg file upload size is 500KB',"SPRITE.SOUNDS.UPLOAD.MSG":'"{0}", upload MP3、WAV file only!',"SPRITE.SOUNDS.UPLOAD.SIZE.LIMIT.MSG":'"{0}", maximum file upload size is 20MB',"SPRITE.UPLOAD.EXISTS.MSG":'"{0}" has existed!',"SPRITE.SEARCH.TEXT":"Search","SPRITE.LOAD.FAIL.MSG":"File parsing failed","SPRITE.LIBS.UPLOAD":"Upload","SPRITE.LIBS.DRAW":"Paint","SPRITE.LIBS.SCREEN":"Camera","SPRITE.COSTUMES.UPLOAD":"Upload","SPRITE.COSTUMES.DRAW":"Paint","SPRITE.COSTUMES.SCREEN":"Camera","SPRITE.BACKDROPS.UPLOAD":"Upload","SPRITE.BACKDROPS.DRAW":"Paint","SPRITE.BACKDROPS.SCREEN":"Camera","SPRITE.SOUNDS.UPLOAD":"Upload","SPRITE.SOUNDS.RECORD":"Record","SPRITE.CLASSIFY.ALL":"All","SPRITE.CLASSIFY.ANIMALS":"Animals","SPRITE.CLASSIFY.PEOPLE":"People","SPRITE.CLASSIFY.FANTASY":"Fantasy","SPRITE.CLASSIFY.PLANTS":"Plants","SPRITE.CLASSIFY.FOOD":"Food","SPRITE.CLASSIFY.BUILDINGS":"Buildings","SPRITE.CLASSIFY.TRANSPORTATION":"Transportation","SPRITE.CLASSIFY.DANCE":"Dance","SPRITE.CLASSIFY.MUSIC":"Music","SPRITE.CLASSIFY.SPORTS":"Sports","SPRITE.CLASSIFY.FASHION":"Fashion","SPRITE.CLASSIFY.PROPS":"Props","SPRITE.CLASSIFY.SCHOOL":"School","SPRITE.CLASSIFY.NATURE":"Nature","SPRITE.CLASSIFY.CITY":"City","SPRITE.CLASSIFY.OUTDOORS":"Outdoors","SPRITE.CLASSIFY.INDOORS":"Indoors","SPRITE.CLASSIFY.SPACE":"Space","SPRITE.CLASSIFY.HOLIDAYS":"Holidays","SPRITE.CLASSIFY.ICONS":"Icons","SPRITE.CLASSIFY.EFFECTS":"Effects","SPRITE.CLASSIFY.LOOPS":"Loops","SPRITE.CLASSIFY.NOTES":"Notes","SPRITE.CLASSIFY.PERCUSSION":"Percussion","SPRITE.CLASSIFY.VOICE":"Voice","SPRITE.CLASSIFY.WACKY":"Wacky"}},1787:function(e){e.exports={"EXTENSION.TITLE":"Extension center","EXTENSION.EMPTY":"Coming Soon...","EXTENSION.ADDED":"The extension has been added.","EXTENSION.REMOVED":"The extension has been removed.","EXTENSION.REMOVED.FAIL":"The extension is being used and cannot be removed for the time being.","EXTENSION.REMOVED.CONFIRM":"Are you sure you want to delete it? After deleting, you will not be able to use the building blocks of the extension.","EXTENSION.INSTALL.SUCCESS":"Installed Successfully","EXTENSION.INSTALL.FAIL":"File error. Install Failed","EXTENSION.UPDATE.SUCCESS":"Updated Successfully","EXTENSION.UPDATE.FAIL":"Update Failed","EXTENSION.NEW.TEXT":"New extension","EXTENSION.UPDATE.TEXT":"Extension update","DEVICE.NEW.TEXT":"New device","DEVICE.UPDATE.TEXT":"Device update","EXTENSION.NOTSUPPORT.TEXT":"This .mext file version not supported.","EXTENSION.DEVELOPER":"Developers","EXTENSION.DEVELOPER.TIP.OFFICIAL":"This extension is developed and maintained by mBlock.","EXTENSION.DEVELOPER.TIP.UNOFFICIAL":"This extension is developed by a third party. It will be maintained and updated at intervals.","EXTENSION.BECOME.DEVELOPER":"Become a developer of mBlock to unlock more potential."}},1788:function(e){e.exports={"HARDDRIVER.DRIVER_NOT_START":"Device driver not turned on","HARDDRIVER.MLINK_NOT_TURN_ON":"mLink not turned on","HARDDRIVER.MSG":"Before connecting a device, you need to install and turn on the mBlock Web device driver.","HARDDRIVER.DOWNLOAD":"Download","HARDDRIVER.INSTALL_MLINK":"Install mLink","HARDDRIVER.OK_BUTTON":"Retry","HARDDRIVER.CANCEL_BUTTON":"Cancel","HARDDRIVER.MLINK_MSG":"You need to install and enable mLink before connecting to devices.","BUTTON.REFRESH.TEXT":"Refresh and try again"}},1789:function(e){e.exports={CODEY:"Codey",ROCKY:"Rocky",CODEY_ROCKY:"Codey Rocky",NEURON:"Neuron",MBOT:"mBot",STAGE:"Stage",AI:"AI",IOT:"IoT",HALOCODE:"HaloCode"}},1790:function(e){e.exports={"CONNECT.TITLE":"Connect Device","CONNECT.ONLY.TIP":"Only one device can be connected at a time in this version. A new device connection will lead to the disconnection of the existing one.","CONNECT.PROBLEM.TIP":"If you run into issues, please click ","CONNECT.SERIAL":"USB","CONNECT.HID":"2.4G","CONNECT.HID.DESCRIPTION":"1. Install the 2.4G module on the robot <br> 2. Power on the robot <br> 3. Press the button at the top of the 2.4G module <br> 4. Connect the 2.4 G module to your computer","CONNECT.BLE":"Bluetooth 4.0","CONNECT.WIFI":"Wifi","CONNECT.BUTTON.TEXT":"Connect","CONNECT.CHOOSE.SERIAL":"Please select a COM port.","CONNECT.CHOOSE.BLE":"Please select a Bluetooth device to connect","CONNECT.LIST.EMPTY":"No device can be detected to connect.","CONNECT.STATUS.CONNECTED":"The device has been connected.","CONNECT.STATUS.DISCONNECTED":"The device has been disconnected.","CONNECT.MESSAGE.SUCCESS":"Connected!","CONNECT.MESSAGE.FAIL":"Connection error. Please try to connect again.","CONNECT.HELPLINK.TEXT":"Help Document","CONNECT.UNABLE.TITLE":"Unidentified device","CONNECT.UNABLE.TEXT":"The device you connected may be not {0}, or the firmware of {0} has been damaged.\n\n\tYou can: \n\t- Change another COM port.\n\t- Update the device firmware\n\nIf you are using a Bluetooth adapter, please check if the adapter is well connected to the device.","CONNECT.LEARN.MORE.TEXT":"Learn More","CONNECT.CONNECTED":"connected","CONNECT.FIRMWARE.BLE.WARN":"The device needs to update the firmware via a USB connection"}},1791:function(e){e.exports={"PROGRAM.DEMOS.TITLE":"Example Programs","PROGRAM.DEMOS.EVENT":"Events"}},1792:function(e){e.exports={"UPDATER.CHECKER.TITLE":"Check for Updates","UPDATER.CHECKER.CHECKING":"Checking for updates...","UPDATER.CHECKER.LATEST.TITLE":"The current version is the latest one.","UPDATER.CHECKER.LATEST.TEXT":"An update is not necessary because the current version is the latest one.","UPDATER.CHECKER.NETWORK.TITLE":"Network Connection Error","UPDATER.CHECKER.NETWORK.TEXT":"No network connection detected. Please try again later.","UPDATER.CHECKER.CONTENT.TITLE":"A new version is available now.","UPDATER.CHECKER.CONTENT.VERSION.BEFORE":"An update to the version","UPDATER.CHECKER.CONTENT.FEATURES.LABEL":"New Version Features:","UPDATER.RESTART.TITLE":"Restart","UPDATER.RESTART.CONTENT.TITLE":"An update is finished.","UPDATER.RESTART.CONTENT.TEXT":"Please restart the software to experience the new version.","UPDATER.RESTART.CONTENT.TITLE.WIN":"An update is finished. Please restart the software to try new features.","UPDATER.RESTART.CONTENT.TEXT.WIN":"To ensure the system stability, you need to start the software manually.","UPDATER.FIRMWARE.TITLE":"To Update Firmware?","UPDATER.FIRMWARE.CONTENT.TITLE":"The firmware does not match the software, so the program may fail to run properly.","UPDATER.FIRMWARE.CONTENT.TEXT":"It may take one minute to upgrade the firmware. To avoid that the progress is disrupted, please keep your computer running properly and do not work on other operations during the period.","UPDATER.FIRMWARE.CONTENT.TEXT.BLE":"Please connect your device with the computer with the USB cable. Then upgrade the firmware according to tips. Next, you can upload the program.","UPDATER.FIRMWARE.SUCCESS.TITLE":"The update is finished.","UPDATER.FIRMWARE.SUCCESS.CONTENT.TITLE":"The firmware update is finished!","UPDATER.FIRMWARE.SUCCESS.CONTENT.TEXT":"Please restart the device for a better experience.","UPDATER.FIRMWARE.FAILED.TITLE":"The update failed.","UPDATER.FIRMWARE.FAILED.CONTENT.TITLE":"The firmware update failed again.","UPDATER.FIRMWARE.FAILED.CONTENT.TIPS":"Failed again? Please check if the device is connected in the right way.","UPDATER.FIRMWARE.LOADING.TITLE":"Updating the firmware...","UPDATER.FIRMWARE.LOADING.CONTENT.TEXT":"Please do not shut down the software and try to avoid other operations.","UPDATER.PROGRESS.ERROR":"Network Connection Error. Please try again later.","UPDATER.PROGRESS.PERCENT":"Update Progress:{0}%","UPDATER.REMIND.TEXT":"Remind me when any update is available.","UPDATER.NOT.SUPPORT.UPDATE":"The current version does not support auto-update.","UPDATER.FRIMWARE.M.TITLE":"Device Firmware Updates","UPDATER.FRIMWARE.F.DEVICE.TEXT":"Device","UPDATER.FRIMWARE.F.VERSION.TEXT":"Firmware Version","UPDATER.FRIMWARE.NOTCONNECT":"No device is connected. Please connect your device first.","UPDATER.NO.NEED.UPDATE":"The current firmware matches the software, so an update is not necessary.","UPDATER.CANT.USE.BLE.TITLE":"The current version does not support firmware updates via Bluetooth.","UPDATER.CANT.USE.BLE.TEXT":"Please connect your device to the computer. Then you can update your device.","UPDATE.FACTORY.DATA.RESET":"Factory data reset","UPDATE.FACTORY.DATA.LATEST":"online firmware"}},1793:function(e){e.exports={"FEEDBACK.MODAL.TITLE":"Feedback","FEEDBACK.FORM.PROFESSION":"Your Identity","FEEDBACK.PROFESSION.LIST":["Teacher","Student","Parent","Maker"],"FEEDBACK.FORM.DESCRIPTION":"Your suggestions/feedbacks","FEEDBACK.FORM.DESCRIPTION.REQUIRE":"Please enter your suggestions/feedbacks","FEEDBACK.FORM.ATTACHMENT":"Attachments","FEEDBACK.FORM.ATTACHMENT.UPLOAD.TEXT":"Click to upload attachments.","FEEDBACK.FORM.ATTACHMENT.UPLOAD.MAXSIZE":"File size ≤10M","FEEDBACK.FORM.CONTACT":"Your contact","FEEDBACK.FORM.CALL":"What is your name?","FEEDBACK.ADD.SUCCESS":"Submitted!","FEEDBACK.ADD.FAILED":"Fail to submit. Please try again."}},1794:function(e){e.exports={"CALIBRATE.COLOR.TITLE":"Calibrate the color sensor of Codey Rocky",CALIBRATE_COLOR_DESCRIPTION:["1. Put your Codey Rocky in the environment that needs calibration (working environment), and rotate the IR color sensor to the bottom.","2. Place the white color identification card under the color sensor (if your color card is damaged or lost, use a white printer paper then).","3. Just click the Calibrate button below. Calibration finished!","Please aim the color sensor to the center of the Color Identification Card."],"CALIBRATE.GYRO.TITLE":"Calibrate the gyro of Codey",CALIBRATE_GYRO_DESCRIPTION:["1. Put your Codey in a stable place.","2. Just click the Calibrate button below.Calibration finished!"],"CALIBRATE.BUTTON.TEXT":"Calibrate","CALIBRATE.BUTTON.TEXT.LOADING":"Calibrating...","CALIBRATE.MSG.SUCCESS":"Calibration success","CALIBRATE.MSG.FAIL":"Calibration failed, please try again."}},1795:function(e){e.exports={MBLOCK:"mBlock","MBLOCK.TEXT":"Sign up/Sign in mBlock","MENU.FILE":"File","MENU.FILE.NEW":"New Project","MENU.FILE.OPEN":"Import from your computer","MENU.FILE.SAVE":"Save","MENU.FILE.SAVEAS":"Save As...","MENU.FILE.DEMOS":"Example Programs","MENU.PROJECTS":"My Projects","MENU.EDIT":"Edit","MENU.EDIT.RESTORE":"Restore","MENU.EDIT.TURBO":"Stage Turbo Mode On","MENU.EDIT.TURBO.OFF":"Stage Turbo Mode Off","MENU.EDIT.UNDO":"Undo","MENU.EDIT.REDO":"Redo","MENU.HELP":"Help","MENU.HELP.ABOUT":"About mBlock","MENU.HELP.FEEDBACK":"Feedback","MENU.HELP.UPDATER.CHECKER":"Check For Updates","MENU.FIRMWARE":"Upload Firmware","MENU.LANGUAGE":"Language","MENU.LANG.CHECK.UPDATE":"Translation Updates","MENU.LANG.CHECK.UPDATE.TITLE":"Check for Updates","LANG.CHECKER.NETWORK.ERROR":"Translation update failed. Please check the network and try again.","LANG.CHECKER.DOING":"Updating translation...","LANG.CHECKER.SUCCESS":"Already updated the translation!","LANG.CHECKER.IS.LATEST":"Translation already up-to-date!","MENU.TUTORIAL":"Tutorials","MENU.LEARNING.CENTER":"Learning Center","MENU.EXIT":"Exit","MENU.MODE.BLOCK":"Blocks","MENU.MODE.CODE":"Codes","MENU.TOOL":"Tools","MENU.CLOUDLIST":"Cloud Data","MENU.HELP.UPDATEFIRMWARE":"Device Firmware Updates","MENU.HELP.GUIDE":"User Guide","IFTTT.TITLE":"IFTTT","IFTTT.CONTENT.TEXT":"Go to IFTTT Configure Service","IFTTT.CONTENT.TEXT.BEFORE":"Go to","IFTTT.CONTENT.TEXT.AFTER":"Configure Service","BUTTON.UPGRADE.NOW.TEXT":"Upgrade now","BUTTON.UPGRADE.LATER.TEXT":"Upgrade later","BUTTON.UPGRADE.SKIP.TEXT":"Skip this version","BUTTON.RESTART.NOW.TEXT":"Restart now","BUTTON.RESTART.LATER.TEXT":"Restart later","BUTTON.FIRMWARE.NOW.TEXT":"Update now","BUTTON.FIRMWARE.LATER.TEXT":"Update later","BUTTON.GOTO.TEXT":"Go to","BUTTON.IKNOW.TEXT":"OK","BUTTON.GO.DOWNLOAD.TEXT":"Download","BUTTON.UPDATE.TEXT":"Updates","BUTTON.RETRY.TEXT":"Retry","BUTTON.OK.TEXT":"OK","BUTTON.CANCEL.TEXT":"Cancel","BUTTON.NEXT.TEXT":"Next","BUTTON.LOGIN.TEXT":"Sign in","BUTTON.BACK.TEXT":"Back","BUTTON.FINISH.TEXT":"Finish","BUTTON.SUBMIT.TEXT":"Submit","BUTTON.CONFIRM.TEXT":"Confirm","BUTTON.CLOSE.TEXT":"Close","BUTTON.YES.TEXT":"Yes","BUTTON.NO.TEXT":"No","BUTTON.YES.SAVE.TEXT":"Save","BUTTON.NO.SAVE.TEXT":"Don't Save","BUTTON.UPLOAD.TEXT":"Upload","BUTTON.CONTINUE.CONNECT.TEXT":"Connect","BUTTON.UPDATE.SERIAL.TEXT":"Change a new COM","BUTTON.UPDATE.FIRMWARE.TEXT":"Update Firmware","BUTTON.REGISTER.LOGIN":"Sign up/Sign in","BUTTON.ADD":"Add","BUTTON.DELETE":"Delete","BUTTON.CREATE":"Create","BUTTON.LOGOUT":"Sign out","BUTTON.SHARE":"Publish","BUTTON.CANCEL.SHARE":"Yes","BUTTON.SHARE.CHECK":"Go to the detail page","BUTTON.SHARE.THINK":"Let me think","SCANING.SERIAL":"Scanning for a COM port...","SCANING.BLE":"Scanning for the Bluetooth...","SHOW.CONNECTABLE.DEVICES.TEXT":"Show all connectable devices","SCANING.ABLE.DEVICE.TEXT":"Searching for connectable devices","NOTSERVER.TEXT":"The device driver is not enabled.","NOTSERVER.SOLUTION.TEXT":"Solutions","DOWNLOAD.NOW":"Download Now","UPLOAD.CODE.TITLE":"Upload Progress","UPLOAD.COMPLIE.TITLE":"Compiling","UPLOAD.COMPLIE.FAILED":"Compile failed","UPLOAD.FIRMWARE.TITLE":"Upload Firmware","UPLOAD.FIRMWARE.SELECT.TITLE":"Click here to select the firmware for upload","UPLOAD.MESSAGE.SUCCESS":"The code has been uploaded.","UPLOAD.MESSAGE.FAIL":"Code upload failed. Please try again!","UPLOAD.MESSAGE.SUCCESS.FIRMAWARE":"The firmware update is finished. Please reconnect the device.","UPLOAD.MESSAGE.FAIL.FIRMAWARE":"The firmware upload failed. You can try to upload again.","UPLOAD.DISCONNECT.MESSAGE":"The device has been disconnected. Upload failed!","CHOOSE.DEVICE.LABEL":"Select a device","CHOOSE.FIRMWARE.LABEL":"Select firmware","CHOOSE.FIRMWARE.LOCAL":"Choose a local firmware","CHOOSE.FIRMWARE.MSG":"Please select a firmware","VERSION.TEXT":"Version:","GRATITUDE.TEXT":"These {0} make mBlock possible.","OPENSOURCE.TEXT":"open source software","FILENAME.EMPTY":"Untitled","CONFIRM.SAVE.TITLE":"Save","CONFIRM.SAVE.TEXT":"The file has been modified. Save it?","CONFIRM.SAVE.ADAPT.TEXT":"The file has been modified. Remix it?","EXPORT.SUCCESS.MSG":"The file has been saved.","EXPORT.FAIL.MSG":"Failed to save the file\n","IMPORT.FORMAT.ERROR.MSG":"File in wrong format","IMPORT.CONTENT.ERROR.MSG":"Data check failure","IMPORT.SUCCESS.MSG":"The file has been opened.","IMPORT.FAIL.MSG":"Failed to open the file.","DRAG.HOLDER.TEXT":"Drag the file and drop here.","USER.INTERNATIONAL":"Switch to mBlock International","USER.DOMESTICAL":"Switch to 慧编程","USER.OVERAGE":"Are you 16 or older?","USER.AGREEMENT":"Privacy Policy","USER.AGREE.TEXT":"Agree and continue","USER.GUARDIAN":"Guardian Consent","USER.GUARDIAN.TEXT":"Considering that you are under the age of 16, you need to inform your parents or other guardians.This is important because it's about your privacy.","USER.GUARDIAN.CONFIRM.TEXT":"I am his/her guardian","USER.EMAIL.LOGIN":"Sign in...","USER.STUDENTID.LOGIN":"Sign in for Student account","USER.LOGIN.SUCCESS.MSG":"You have signed in!","USER.LOGIN.FAIL.MSG":"Failed to Sign in!","USER.REGISTER":"Create an Account","USER.REGISTER.SUCCESS.MSG":"You have signed up!","USER.REGISTER.FAIL.MSG":"Failed to sign up!","USER.LOGOUT":"Sign out","USER.LOGOUT.SUCCESS.MSG":"You have signed out!","USER.LOGOUT.FAIL.MSG":"Failed to sign out.","USER.PROFILE":"Account Settings","USER.BIND":"account bound","USER.ASSIGN.WORK":"Assign schoolwork","USER.SUBMIT.WORK":"Submit schoolwork","USER.DELETE":"Delete Your Account","USER.CREATE.ACCOUNT":"Create account","USER.DELETE.ACCOUNT":"Your account ","USER.DELETE.TEXT":" will be deleted. If you delete the account, the account can't be restored and the data will be removed, still proceed to delete?","USER.DELETE.THINK":"Think again","USER.DELETE.FAIL.MSG":"Failed to delete the account!","USER.FORGET.PASSWORD":"Find your password","USER.RESET.PASSWORD":"Reset your password","USER.FINDPWD.SUCCESS.MSG":"You have reset the password.","USER.FINDPWD.FAIL.MSG":"Failed to reset the password!","USER.LOGIN.EXPIRE.MSG":"Invalid signin. Please try again.","SOCIAL.LOGIN":"Sign in using a third-party account","OTHER.LOGIN":"Or continue with","FORGET.PASSWORD":"Forgot Your Password?","UPDATE.PASSWORD":"Update Password","UPDATE.PASSWORD.CURRENT":"Current password","UPDATE.PASSWORD.NEW":"New password","USER.UPDATE.SUCCESS.MSG":"Password updated successfully!","USER.UPDATE.FAIL.MSG":"Failed to update password!","REGISTER.AGREE":"You sign up to agree the ","PROTOCOL.TEXT":"User Agreement","NO.CODE":"No verification code received?","FORM.BUTTON.CODE.TEXT":"verification code","FORM.BUTTON.CODE.SENDED":"Resend after {0}s","FORM.BUTTON.CODE.SEND.SUCCESS.MSG":"The verification code has been sent to your email.","FORM.BUTTON.CODE.SEND.FAIL.MSG":"Failed to send the verification code. Please try again later!","FORM.BUTTON.CODE.SEND.AGAIN":"Send again","FORM.FIELD.NICKNAME.PH":"Nickname","FORM.FIELD.EMAIL":"Email","FORM.FIELD.EMAIL.PH":"Email/Student account","FORM.FIELD.EMAIL.OVER.TYPE.MSG":"The maximum length of a valid email address is 100 characters","FORM.FIELD.EMAIL.TYPE.MSG":"Please enter a valid email address or Student account","FORM.FIELD.EMAIL.ONLY.TYPE.MSG":"Please enter a valid email address","FORM.FIELD.EMAIL.MSG":"Please enter your email address or Student account","FORM.FIELD.EMAIL.USED.MSG":"The email address is already registered. Please return to Sign up again.","FORM.FIELD.STUDENTID.PH":"Account","FORM.FIELD.STUDENTID.TYPE.MSG":"Account in wrong format!","FORM.FIELD.STUDENTID.MSG":"Please enter account","FORM.FIELD.PASSWORD":"Password","FORM.FIELD.PASSWORD.PH":"Please enter password","FORM.FIELD.PASSWORD.NEW.PH":"Enter a new password","FORM.FIELD.PASSWORD.OLD.PH":"Please enter the current password","FORM.FIELD.PASSWORD.OLD.MSG":"Please enter the correct password","FORM.FIELD.PASSWORD.MSG":"Format error, please enter 6-20 characters","FORM.FIELD.PASSWORD.MIN.MSG":"The password must contain 6 numbers at least!","FORM.FIELD.PASSWORD.MAX.MSG":"The password can contain 20 numbers at most!","FORM.FIELD.PASSWORD.CONTACT.MSG":"Please enter correct password, forget password, contact teachers","FORM.FIELD.CODE.PH":"Verification code","FORM.FIELD.CODE.MSG":"Please enter your email verification code!","FORM.FIELD.CODE.CURRENT.MSG":"Please enter correct verify code","RENAME.ERR.NULL.MSG":"File name cannot be empty","RENAME.ERR.PREFIX.MSG":"The file name cannot start with + - .","RENAME.ERR.CONTAIN.MSG":"The file name can't contain characters like \\ / : * ? \" < > | @ , # $ & ( ) ","RENAME.ERR.KEY.MSG":"are illegal characters, please retype","RENAME.ERR.EXIST.MSG":"The file name has been created.","NETWORK.ERR.MSG":"Network error! Please try again later!","SOCIAL.WECHAT":"Wechat","SOCIAL.QQ":"QQ","SOCIAL.GOOGLE":"Google","MSG.10001":"Illegal email format!","MSG.10002":"The email has been taken!","MSG.10003":"The email has been associated!","MSG.10004":"The email account does not exist!","MSG.10005":"Wrong e-mail password!","MSG.10006":"Illegal verification code!","MSG.10007":"The UID does not exit!","MSG.10008":"Illegal string length!","MSG.10009":"Illegal character type!","MSG.10010":"Illegal UID!","MSG.10011":"Third-party authorization error!","MSG.10012":"The new password and the old password are not the same!","MSG.10013":"Incorrect ID or password!","MSG.10014":"Invalid association with other third-party media!","MSG.10015":"Invalid association with email!","MSG.10016":"The third-party associated does not exist!","MSG.10017":"Incorrect request parameter!","MSG.10018":"The third-party media has been associated!","MSG.10101":"WeChat approval error!","MSG.10102":"WeChat callback error!","MSG.10103":"QQ approval error!","MSG.10104":"Facebook approval error!","MSG.10105":"Google approval error!","MSG.10106":"Callback state error!","MSG.10107":"Failed to cancel the association!","MSG.20001":"Please do not Sign in twice!","MSG.20002":"Please Sign in first!","MSG.20003":"JSONException!","MSG.20004":"Incorrect request parameter!","MSG.20005":"Illegal email format!","MSG.20006":"Incorrect user name or password!","MSG.20007":"Wrong verification code!","MSG.20008":"The email has been taken!","MSG.20009":"The email account does not exist","MSG.30001":"Not signed in","MSG.30002":"Unknown error. Failed to read/write redis.","MSG.30003":"Unsupported mainboard type","MSG.30004":"Incorrect request parameter!","MSG.30005":"The cloud list does not exist.","MSG.30006":"The cloud list has been created.","MSG.30007":"The cloud list has reached its maximum length.","MSG.30008":"The could list has reached its limit in number.","MSG.99999":"Network error. Please check your network.","MSG.404":"Request failed. Please try again later. 404","MSG.500":"Request failed. Please try again later. 500","MSG.503":"Request failed. Please try again later. 503","MSG.-1":"Request failed. Please try again later. -1","WEBGL.NOT.SUPPORT":"Your video card drive version is too low, please update it and then try again.","BLOCK.USE.NEED.LOGIN":"You need to Sign in to use the block.","BLOCK.USE.NEED.LOGINANDOPEN":"The block is available only after you sign in and open the Upload mode.","DOWNLOAD.LOADING.TEXT":"Loading...","DOWNLOAD.LOADING.FAILURE":"Sync failure","DOWNLOAD.LOADING.NETWORK.DISCONNECT":"Network error","MENU.FILE.SAVEMY":"Save as My Project","MENU.FILE.LOCALFILE":"Local file","MENU.FILE.SAVEING":"Saving...","MENU.FILE.SAVE.SUCCESS":"Saved successfully","MENU.FILE.SAVE.FAIL":"Save failed","MENU.FILE.UPLOAD.FAIL":"Save failed. You can download the project to your computer.","MENU.FILE.SAVE.NAME":"Project name","FORM.FIELD.NEWNAME.MAX.MSG":"The project name should include 48 characters at most.","FORM.FIELD.NEWNAME.REQUIRE.MSG":"Please give your project a name","DOWNLOAD.LOADING.RETRY":"Click to retry","USER.LOGIN.TO_LOGIN_TIP":"Please sign in first","MENU.FILE.PUBLISH.SUCCESS":"published","MENU.FILE.PUBLISH.UPDATE":"update success","MENU.FILE.NEW.WEB":"New","MENU.FILE.OPEN.WEB":"Open","MENU.FILE.SAVE.WEB":"Save","MENU.FILE.SAVEAS.WEB":"Save As...","MENU.FILE.IMPORT":"Import from your computer","MENU.FILE.EXPORT":"Save to your computer","MENU.FILE.PUBLISH.TO":"Share to...","USER.HOME_PAGE":"Profile","BROWSER.COMPATIBLE_TIP":"The web browser you are using doesn't support all the features that mBlock Web offers. Please use Chrome or download mBlock PC to get the best experience. ","BROWSER.COMPATIBLE_TIP.DOWNLOAD":"Go to download","MENU.FILE.VIEW_WORKS":"See project page","MENU.FILE.ADAPT.SAVE":"Remix and save","MENU.FILE.ADAPT":"Remix","MENU.OTHER.ABOUT":"About mBlock","MENU.OTHER.JOIN":"Cooperation","PROJECT.LOADING_TIP":"loading...","DEVICE.STATUS.UPDATING":"Updating...","DEVICE.STATUS.DOWNLOADING":"Downloading...","DEVICE.STATUS.REOPEN":"Updated successfully! You can restart the application now.","DEVICE.INSTALL.STATUS.FAIL":"Network error or file error. {0} install failed.","DEVICE.UPDATE.STATUS.FAIL":"Network error or file error. {0} update failed.","COPYRIGHT.TEXT":"Based on mBlock","BUTTON.CHART.DOWNLOAD":"download","BUTTON.CHART.TABLE":"table","BUTTON.CHART.LINE":"line chart","BUTTON.CHART.BAR":"bar chart","MESSAGE.CHART.REATCHMAXXAXISDATA":"The data input already exceeds the limit {0}, so the input has stopped.","MESSAGE.CHART.REATCHMAXLENGEND":"The legends you created exceed the limit {0}, so you can't add more","CHART.DEFAULT.XAXISNAME":"category","CHART.DEFAULT.YAXISNAME":"value","PROJECT.SHARE.TO.TITLE":"Share project to","ACCOUNT.SWITCH.TO":"Switch to","IMPORT.EXTINPROJECT.FAIL":"The devices or extensions necessary for this project are not published yet, so the project fails to work as intended.","DEVICE.DEFAULT":"Mostly used device","DEVICE.DEFAULT.SET":"Set as mostly used device","DEVICE.DEFAULT.SET.SUCCESS":"Already set! It will take effect when a new project is created.","DEVICE.BECOME.DEVELOPER":"Become an mBlock developer to add more devices.","DEVICE.MOREINFO":"More Info"}},1796:function(e){e.exports={}},1797:function(e){e.exports={"PROJECT.SHOW.DIALOG.TITLE":"打开项目","PROJECT.SAVE.DIALOG.TITLE":"保存项目","PROJECT.DIALOG.FILTER.NAME":"慧编程项目","PROJECT.MENU.OPEN":"打开","PROJECT.MENU.SHARE":"发布","PROJECT.MENU.RENAME":"重命名","PROJECT.MENU.COPY":"复制","PROJECT.MENU.EXPORT":"保存到计算机","PROJECT.MENU.DELETE":"删除","PROJECT.MENU.EDITSHARED":"查看发布页","PROJECT.MENU.CANCELSHARE":"取消发布","PROJECT.STATUS.SYNCING":"作品列表同步中...","PROJECT.STATUS.SUCCESS":"同步成功","PROJECT.STATUS.NONETWORK":"网络异常，请检测","PROJECT.STATUS.FAIL":"同步失败，请重试","PROJECT.STATUS.WILLUPLOAD":"未上传","PROJECT.STATUS.UPLOADING":"上传中","PROJECT.STATUS.WILLDOWNLOAD":"未下载","PROJECT.DELETE":"删除作品","PROJECT.DELETE.TEXT":"确定删除该作品？","PROJECT.DELETE.ALSO.TEXT":"确定删除该作品？将同时从云端删除该作品","PROJECT.CONFIRM.LOGOUT.WILLUPLOAD.TEXT":'"我的作品"中存在未上传完成的作品，退出登录后将无法同步到云端，确定退出登录？',"PROJECT.CONFIRM.LOGOUT.SYNC.TEXT":"退出登录后将无法同步作品到云端，确定退出登录？","PROJECT.EXPORT.LOCAL.MSG":"作品文件已成功保存到 {0}","PROJECT.EXPORT.MYPROJECTS.MSG":"作品文件已成功保存到“我的作品”","PROJECT.NAME":"项目名称","PROJECT.NAME.MIN.LENGTH.TEXT":"作品名称不能为空","PROJECT.NAME.MAX.LENGTH.TEXT":"作品名称长度不能超过48个字符","PROJECT.MAX.LENGTH.TEXT":"长度不能超过1000字符。","PROJECT.INTRODUCTION":"作品介绍","PROJECT.INTRODUCTION.PLACEHOLDER":"让大家了解你的作品。如有改编、转载或借鉴，别忘了在这里提到并感谢原作者哦！","PROJECT.OPERATION":"操作说明","PROJECT.OPERATION.PLACEHOLDER":"告诉大家如何操作你的作品。","PROJECT.AGREE.TEXT":"我已参阅并接受Makeblock的","PROJECT.AGREEMENT":"社区公约","PROJECT.SHARE.DELETE":"删除已发布作品？","PROJECT.SHARE.DELETE.TEXT":"该作品已经发布，删除将取消发布并从云端删除该作品，确定删除？","PROJECT.SHARE.DELETE.ERROR":"删除失败","PROJECT.SHARE.DELETE.ERROR.NETWORK":"网络异常，作品删除失败","PROJECT.SHARE.SUCCESS":"作品已经发布成功，去","PROJECT.SHARE.SOCIAL":"作品社区","PROJECT.SHARE.LOOKING":"逛逛吧~","PROJECT.SHARE.ERROR.NETWORK":"发布失败，请检查网络状况后重试","PROJECT.CANCEL.SHARE.ERROR.NETWORK":"取消发布失败，请检查网络状况后重试","PROJECT.CANCEL.SHARE":"取消作品发布？","PROJECT.CANCEL.SHARE.SUCCESS":"取消作品发布成功","PROJECT.CANCEL.SHARE.TEXT":"取消发布后，作品将不再呈现在作品社区，确定要取消作品发布？","PROJECT.LIST.EMPTY.TEXT":"当前列表为空","PROJECT.SORTBY.RECENT":"最近"}},1798:function(e){e.exports={"SPRITE.LIBS.TITLE":"角色库","SPRITE.LIBS.USER.TITLE":"我的角色","SPRITE.COSTUMES.TITLE":"造型库","SPRITE.COSTUMES.USER.TITLE":"我的造型","SPRITE.BACKDROPS.TITLE":"背景库","SPRITE.BACKDROPS.USER.TITLE":"我的背景","SPRITE.SOUNDS.TITLE":"声音库","SPRITE.SOUNDS.USER.TITLE":"我的声音","SPRITE.DEVICES.TITLE":"设备库","SPRITE.DEVICES.USER.TITLE":"我的设备","SPRITE.UPLOAD.MSG":'"{0}"，只支持上传 JPG、PNG、SVG 和 GIF 格式的图片',"SPRITE.UPLOAD.SIZE.LIMIT.MSG":'"{0}"，请勿上传大小超过2MB的图片',"SPRITE.SVG.UPLOAD.SIZE.LIMIT.MSG":'"{0}", 请勿上传大小超过500KB的svg图片',"SPRITE.SOUNDS.UPLOAD.MSG":'"{0}"，只支持上传 MP3、WAV 格式的声音',"SPRITE.SOUNDS.UPLOAD.SIZE.LIMIT.MSG":'"{0}"，请勿上传大小超过20MB的声音',"SPRITE.UPLOAD.EXISTS.MSG":'"{0}" 已经存在',"SPRITE.SEARCH.TEXT":"搜索","SPRITE.LOAD.FAIL.MSG":"文件解析失败","SPRITE.LIBS.UPLOAD":"上传角色","SPRITE.LIBS.DRAW":"绘制角色","SPRITE.LIBS.SCREEN":"拍摄角色","SPRITE.COSTUMES.UPLOAD":"上传造型","SPRITE.COSTUMES.DRAW":"绘制造型","SPRITE.COSTUMES.SCREEN":"拍摄造型","SPRITE.BACKDROPS.UPLOAD":"上传背景","SPRITE.BACKDROPS.DRAW":"绘制背景","SPRITE.BACKDROPS.SCREEN":"拍摄背景","SPRITE.SOUNDS.UPLOAD":"上传声音","SPRITE.SOUNDS.RECORD":"录音","SPRITE.CLASSIFY.ALL":"全部","SPRITE.CLASSIFY.ANIMALS":"动物","SPRITE.CLASSIFY.PEOPLE":"人物","SPRITE.CLASSIFY.FANTASY":"奇幻","SPRITE.CLASSIFY.PLANTS":"植物","SPRITE.CLASSIFY.FOOD":"食物","SPRITE.CLASSIFY.BUILDINGS":"建筑物","SPRITE.CLASSIFY.TRANSPORTATION":"交通","SPRITE.CLASSIFY.DANCE":"舞蹈","SPRITE.CLASSIFY.MUSIC":"音乐","SPRITE.CLASSIFY.SPORTS":"运动","SPRITE.CLASSIFY.FASHION":"服饰","SPRITE.CLASSIFY.PROPS":"道具","SPRITE.CLASSIFY.SCHOOL":"学校","SPRITE.CLASSIFY.NATURE":"自然","SPRITE.CLASSIFY.CITY":"城市","SPRITE.CLASSIFY.OUTDOORS":"户外","SPRITE.CLASSIFY.INDOORS":"室内","SPRITE.CLASSIFY.SPACE":"太空","SPRITE.CLASSIFY.HOLIDAYS":"假日","SPRITE.CLASSIFY.ICONS":"图标","SPRITE.CLASSIFY.EFFECTS":"效果","SPRITE.CLASSIFY.LOOPS":"循环","SPRITE.CLASSIFY.NOTES":"音符","SPRITE.CLASSIFY.PERCUSSION":"打击乐器","SPRITE.CLASSIFY.VOICE":"人声","SPRITE.CLASSIFY.WACKY":"搞怪"}},1799:function(e){e.exports={"EXTENSION.TITLE":"扩展中心","EXTENSION.EMPTY":"敬请期待...","EXTENSION.ADDED":"扩展添加成功","EXTENSION.REMOVED":"扩展移除成功","EXTENSION.REMOVED.FAIL":"该扩展正在被使用，暂时无法移除","EXTENSION.REMOVED.CONFIRM":"确定要删除吗？删除后将不可使用该扩展的积木","EXTENSION.INSTALL.SUCCESS":"安装成功","EXTENSION.INSTALL.FAIL":"文件异常，安装失败","EXTENSION.UPDATE.SUCCESS":"更新成功","EXTENSION.UPDATE.FAIL":"更新失败","EXTENSION.NEW.TEXT":"新的扩展","EXTENSION.UPDATE.TEXT":"扩展更新","DEVICE.NEW.TEXT":"新的设备","DEVICE.UPDATE.TEXT":"设备更新","EXTENSION.NOTSUPPORT.TEXT":"该.mext文件版本不支持","EXTENSION.DEVELOPER":"开发者","EXTENSION.DEVELOPER.TIP.OFFICIAL":"此扩展插件由慧编程官方进行开发和维护","EXTENSION.DEVELOPER.TIP.UNOFFICIAL":"此扩展插件由第三方开发者提供，不定期进行维护和升级","EXTENSION.BECOME.DEVELOPER":"成为慧编程开发者，扩展更多可能性"}},18:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getNavigatorLang=t.setDefaultExt=t.getDefaultExt=t.isBoxCourse=t.loadDynamicScript=t.safeHttps=t.isBlob=t.getUrlParams=t.blob2ArrayBuffer=t.readFile=t.formatDate=t.genId=t.parseRoute=t.isOnline=t.translateRequestUrlForEU=t.isStudentAccount=t.isEmailAccount=t.openProjectTarget=t.base64ToBlob=t.getBase64ImageFromUrl=t.getImageSize=t.readAsArrayBuffer=t.getBase64=t.bufferToBase64=t.AnimationFrame=t.sleep=t.showSuccessMessage=t.showErrorMessage=t.getReady=t.detectWebGLContext=t.forceDownload=t.hasDarwin=t.getFileName=t.getFileSuffix=t.requestState=t.parseQueryString=t.getQueryString=void 0;var n=y(a(114)),r=y(a(23)),o=y(a(25)),i=y(a(2)),u=y(a(7)),s=y(a(38)),l=y(a(40)),c=y(a(11)),d=y(a(3)),f=y(a(39)),p=y(a(12)),h=y(a(118)),m=y(a(87)),E=y(a(15)),v=a(32),T=y(a(129)),S=y(a(249));function y(e){return e&&e.__esModule?e:{default:e}}t.getQueryString=function(e,t){var a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=(e||window.location.search).substr(1).match(a);return null!=n?unescape(n[2]):null},t.parseQueryString=function(e){var t={};return(e||location.search).slice(1).split("&").forEach(function(e){e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||"")}),t},t.requestState=function(e,t,a){var n;if(t.status===m.default.PENDING||t.data&&99999===t.data.code)return(0,f.default)({},e,(0,d.default)({},e,(n={},(0,c.default)(n,a,t.status),(0,c.default)(n,"code",t.data&&t.data.code),n)))};var g=t.getFileSuffix=function(e){try{return h.default.extname(e).replace(".","")}catch(e){return""}};t.getFileName=function(e){try{var t=e.replace(/\\/g,"/");return h.default.basename(t).replace(h.default.extname(t),"")}catch(t){return e}},t.hasDarwin=function(){return 0===navigator.platform.toLowerCase().indexOf("mac")},t.forceDownload=function(e,t){var a=(window.URL||window.webkitURL).createObjectURL(e),n=window.document.querySelector("#DownloadFileTarget");return n.href=a,n.download=t,n.click(),(window.URL||window.webkitURL).revokeObjectURL(a),l.default.resolve()},t.detectWebGLContext=function(){var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!(t&&t instanceof WebGLRenderingContext)},t.getReady=function(e){return new l.default(function(t){var a=null;!function n(){a=requestAnimationFrame(n),e()&&(cancelAnimationFrame(a),t())}()})},t.showErrorMessage=function(e,t){if(t){var a="MSG."+t;p.default.has(this.props.intlr.messages,a)&&s.default.error(this.props.intlr.messages[a])}else s.default.error(this.props.intlr.messages[e])},t.showSuccessMessage=function(e,t){s.default.success(this.props.intlr.messages[e],t)},t.sleep=function(e){return new l.default(function(t){return setTimeout(t,e)})};String.prototype.format=function(){if(0==arguments.length)return this;for(var e=this,t=0;t<arguments.length;t++)e=e.replace(new RegExp("\\{"+t+"\\}","g"),arguments[t]);return e};var N,_,O;t.AnimationFrame=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,a=arguments[1];(0,i.default)(this,e),this.requestID=0,this.fps=t,this.animate=a,this.isStop=!1}return(0,u.default)(e,[{key:"start",value:function(){var e=this;this.isStop=!1;var t=performance.now();this.requestID=requestAnimationFrame(function a(n){if(e.isStop)e.stop();else{e.requestID=requestAnimationFrame(a);var r=n-t,o=1e3/e.fps;r>=o-.1&&(t=n-r%o,e.animate(r))}})}},{key:"stop",value:function(){this.isStop=!0,cancelAnimationFrame(this.requestID)}}]),e}(),t.bufferToBase64=function(e){for(var t="",a=new Uint8Array(e),n=a.byteLength,r=0;r<n;r++)t+=String.fromCharCode(a[r]);return window.btoa(t)},t.getBase64=function(e,t){return new l.default(function(a,n){var r=new FileReader;r.onload=function(){a(r.result)},r.onerror=function(e){n(e)},r.addEventListener("load",function(){return a(r.result)}),t?r.readAsText(e):r.readAsDataURL(e)})},t.readAsArrayBuffer=function(t){return t instanceof Blob||t instanceof File?new l.default(function(a,n){var r=new FileReader;r.onload=function(){a(e.from(new Uint8Array(r.result)))},r.onerror=function(e){n(e)},r.readAsArrayBuffer(t)}):t},t.getImageSize=function(e){return new l.default(function(t,a){var n=new Image;n.src=e,n.onload=function(){t({width:this.width,height:this.height})},n.onerror=function(e){a(e)}})},t.getBase64ImageFromUrl=(N=(0,o.default)(r.default.mark(function e(t){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.blob();case 5:return n=e.sent,e.abrupt("return",new l.default(function(e,t){var a=new FileReader;a.addEventListener("load",function(){e(a.result)},!1),a.onerror=function(){return t(void 0)},a.readAsDataURL(n)}));case 7:case"end":return e.stop()}},e,void 0)})),function(e){return N.apply(this,arguments)}),t.base64ToBlob=function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],n=window.atob(t[1]),r=new ArrayBuffer(n.length),o=new Uint8Array(r),i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:a})},t.openProjectTarget=function(e){return e="string"==typeof e?e:"#OpenProjectTarget",new l.default(function(t,a){var n=document.querySelector(e);n.click(),n.onchange=function(){var e=n.files;if(e instanceof FileList&&e.length>0){var r=e[0];-1!==E.default.PROJECT_SUFFIX.indexOf(g(r.name))?t(e[0]):a()}else a();n.value=""}})},t.isEmailAccount=function(e){return e&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},t.isStudentAccount=function(e){return e&&/^[0-9a-zA-Z]{9}$/.test(e)},t.translateRequestUrlForEU=function(e){if((0,v.isInternational)()){-1!==e.indexOf("//apimblock.makeblock.com/")&&(e=e.replace("apimblock","api.mblock"));var t=!0,a=!0,r=!1,o=void 0;try{for(var i,u=(0,n.default)(["//extservice.makeblock.com/","//planet.mblock.cc/","//extservice.mblock.cc/"]);!(a=(i=u.next()).done);a=!0){var s=i.value;-1!==e.indexOf(s)&&(t=!1)}}catch(e){r=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw o}}t&&(e=e.replace("//","//eu."))}return e},t.isOnline=function(){return window.navigator.onLine},t.parseRoute=function(e){return e},t.genId=function(){for(var e="0123456789qwertyuioplkjhgfdsazxcvbnm",t="",a=(new Date).getTime(),n=0;n<4;n++)t+=e.charAt(Math.ceil(1e8*Math.random())%e.length);return a+t},t.formatDate=function(e){var t=function(e){return 1===e.toString().length?"0"+e:e},a=new Date(1e3*e),n=a.getFullYear(),r=a.getMonth()+1,o=a.getDate(),i=a.getHours(),u=a.getMinutes(),s=a.getSeconds();return n+"-"+t(r)+"-"+t(o)+" "+t(i)+":"+t(u)+":"+t(s)},t.readFile=(_=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new l.default(function(e,a){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){var t=this,a=n.response,u=new FileReader;u.readAsArrayBuffer(a),u.onload=(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e(u.result),clearInterval(i),i=null;case 3:case"end":return t.stop()}},a,t)}))},n.onprogress=function(e){if(e.lengthComputable){var t=Math.floor(e.loaded/e.total*100);T.default.trigger("file_download",t),n.loadTime=+new Date}};var i=setInterval(function(){var e=+new Date;n.loadTime&&e-n.loadTime>E.default.PROJECT_SAVE_TIMEOUT&&u("network error")},1e3);n.onerror=function(e){u(e)};try{n.send()}catch(e){u(e)}function u(e){n.abort(),clearInterval(i),i=null,T.default.trigger("file_download_error"),a(e)}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return _.apply(this,arguments)}),t.blob2ArrayBuffer=(O=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new l.default(function(e,a){var n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(){var t=n.result;e(t)},n.onerror=function(e){a(e)}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return O.apply(this,arguments)}),t.getUrlParams=function(e){var t=e||window.location.href.split("?")[1];return t?p.default.chain(t).split("&").map(p.default.partial(p.default.split,p.default,"=",2)).fromPairs().value():null},t.isBlob=function(e){return"[object Blob]"===Object.prototype.toString.call(e)},t.safeHttps=function(e){return"string"!=typeof e?e:-1!==e.indexOf("http")?e.replace("http:","https:"):e},t.loadDynamicScript=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=document.createElement("script");n.src=e,t&&(n.async="async"),a&&(n.defer="defer"),n.onerror=function(){throw e+" load failed."},document.body.appendChild(n)},t.isBoxCourse=function(e){return location.href.includes(e)},t.getDefaultExt=function(){return S.default.get(E.default.DEFAULT_DEVICE)},t.setDefaultExt=function(e){S.default.set(E.default.DEFAULT_DEVICE,[e])},t.getNavigatorLang=function(){return p.default.isEmpty(navigator.languages)?p.default.isEmpty(navigator.language)?"en":navigator.language[0].split("-").length>1&&"zh"===navigator.language.split("-")[0]&&"zh-CN"!==navigator.language?"zh-hant":navigator.language.split("-")[0]:navigator.languages[0].split("-").length>1&&"zh"===navigator.languages[0].split("-")[0]&&"zh-CN"!==navigator.languages[0]?"zh-hant":navigator.languages[0].split("-")[0]}}).call(this,a(26).Buffer)},1800:function(e){e.exports={"HARDDRIVER.DRIVER_NOT_START":"未启动硬件驱动","HARDDRIVER.MLINK_NOT_TURN_ON":"mLink未启动","HARDDRIVER.MSG":"需要安装并启动mBlock Web硬件驱动后才能连接硬件设备。","HARDDRIVER.DOWNLOAD":"下载驱动","HARDDRIVER.INSTALL_MLINK":"安装mLink","HARDDRIVER.OK_BUTTON":"重试","HARDDRIVER.CANCEL_BUTTON":"取消","HARDDRIVER.MLINK_MSG":"需要安装并启动 mLink 扩展后才能连接硬件设备。","BUTTON.REFRESH.TEXT":"刷新重试"}},1801:function(e){e.exports={CODEY:"小程",ROCKY:"小奔",CODEY_ROCKY:"程小奔",NEURON:"神经元",MBOT:"mBot",STAGE:"舞台",AI:"AI",IOT:"IoT",HALOCODE:"光环板"}},1802:function(e){e.exports={"CONNECT.TITLE":"连接设备","CONNECT.ONLY.TIP":"此版本只支持同时连接一台设备，连接新设备将断开已有连接","CONNECT.PROBLEM.TIP":"如遇到问题，可以点击查看","CONNECT.SERIAL":"USB","CONNECT.HID":"2.4G","CONNECT.HID.DESCRIPTION":"1. 将2.4g模块安装到机器人上<br>2. 打开机器人的电源<br>3. 按下2.4G模块顶部的按钮<br>4. 将2.4 g模块连接到你的电脑上","CONNECT.BLE":"蓝牙4.0","CONNECT.WIFI":"Wifi","CONNECT.BUTTON.TEXT":"连 接","CONNECT.CHOOSE.SERIAL":"请选择一个串口","CONNECT.CHOOSE.BLE":"请选择要连接的蓝牙","CONNECT.LIST.EMPTY":"未找到可连接设备","CONNECT.STATUS.CONNECTED":"设备已连接","CONNECT.STATUS.DISCONNECTED":"设备连接已断开","CONNECT.MESSAGE.SUCCESS":"连接成功","CONNECT.MESSAGE.FAIL":"连接失败，您可以尝试重新连接","CONNECT.HELPLINK.TEXT":"帮助文档","CONNECT.UNABLE.TITLE":"无法识别设备类型","CONNECT.UNABLE.TEXT":"所连接设备可能并非“{0}”或“{0}”固件已经损坏\n\t您可以：\n\t- 更换其他串口\n\t- 更新设备固件\n\n如您正在使用蓝牙适配器，请检查适配器与设备是否连接成功","CONNECT.LEARN.MORE.TEXT":"了解更多","CONNECT.CONNECTED":"已连接","CONNECT.FIRMWARE.BLE.WARN":"该设备需要通过USB连接更新固件"}},1803:function(e){e.exports={"PROGRAM.DEMOS.TITLE":"示例程序","PROGRAM.DEMOS.EVENT":"事件"}},1804:function(e){e.exports={"UPDATER.CHECKER.TITLE":"检查更新","UPDATER.CHECKER.CHECKING":"更新检查中......","UPDATER.CHECKER.LATEST.TITLE":"已是最新版本","UPDATER.CHECKER.LATEST.TEXT":"不需更新，当前版本已是最新版本","UPDATER.CHECKER.NETWORK.TITLE":"网络异常","UPDATER.CHECKER.NETWORK.TEXT":"未检测到网络连接，请稍后重试","UPDATER.CHECKER.CONTENT.TITLE":"发现新版本软件","UPDATER.CHECKER.CONTENT.VERSION.BEFORE":"可升级至版本","UPDATER.CHECKER.CONTENT.FEATURES.LABEL":"新版本特性：","UPDATER.RESTART.TITLE":"重新启动","UPDATER.RESTART.CONTENT.TITLE":"更新已完成","UPDATER.RESTART.CONTENT.TEXT":"请重启软件以体验新版本","UPDATER.RESTART.CONTENT.TITLE.WIN":"更新已完成，请重启软件以体验新版本功能","UPDATER.RESTART.CONTENT.TEXT.WIN":"为了保证系统的稳定性，需要您手动启动软件","UPDATER.FIRMWARE.TITLE":"更新固件？","UPDATER.FIRMWARE.CONTENT.TITLE":"设备固件与软件不匹配，程序可能无法正常执行","UPDATER.FIRMWARE.CONTENT.TEXT":"更新固件大约需要一分钟，此过程不能中断，请保证电脑运行情况良好，且尽量不要在此过程中进行其他操作。","UPDATER.FIRMWARE.CONTENT.TEXT.BLE":"请用 USB 线将设备与电脑连接，根据提示更新设备固件后，再上传程序","UPDATER.FIRMWARE.SUCCESS.TITLE":"更新成功","UPDATER.FIRMWARE.SUCCESS.CONTENT.TITLE":"设备固件已成功更新！","UPDATER.FIRMWARE.SUCCESS.CONTENT.TEXT":"请重启设备，以获得更流畅的体验","UPDATER.FIRMWARE.FAILED.TITLE":"更新失败","UPDATER.FIRMWARE.FAILED.CONTENT.TITLE":"固件更新失败","UPDATER.FIRMWARE.FAILED.CONTENT.TIPS":"失败多次？请检查设备连接是否正确","UPDATER.FIRMWARE.LOADING.TITLE":"固件更新中...","UPDATER.FIRMWARE.LOADING.CONTENT.TEXT":"请勿关闭软件，并尽量不要进行其它操作","UPDATER.PROGRESS.ERROR":"网络异常，请稍后重试","UPDATER.PROGRESS.PERCENT":"升级进度：{0}%","UPDATER.REMIND.TEXT":"有更新时提醒我","UPDATER.NOT.SUPPORT.UPDATE":"当前版本不支持自动更新","UPDATER.FRIMWARE.M.TITLE":"更新设备固件","UPDATER.FRIMWARE.F.DEVICE.TEXT":"设备","UPDATER.FRIMWARE.F.VERSION.TEXT":"固件版本","UPDATER.FRIMWARE.NOTCONNECT":"未检测到设备连接，请先连接设备","UPDATER.NO.NEED.UPDATE":"当前固件匹配，不需要更新","UPDATER.CANT.USE.BLE.TITLE":"暂不支持通过蓝牙更新固件","UPDATER.CANT.USE.BLE.TEXT":"请用 USB 线将电脑与设备连接，再更新设备","UPDATE.FACTORY.DATA.RESET":"恢复出厂设置","UPDATE.FACTORY.DATA.LATEST":"在线固件"}},1805:function(e){e.exports={"FEEDBACK.MODAL.TITLE":"反馈","FEEDBACK.FORM.PROFESSION":"您的身份","FEEDBACK.PROFESSION.LIST":["老师","学生","家长","创客"],"FEEDBACK.FORM.DESCRIPTION":"您的意见/反馈","FEEDBACK.FORM.DESCRIPTION.REQUIRE":"请输入您的意见/反馈","FEEDBACK.FORM.ATTACHMENT":"附件","FEEDBACK.FORM.ATTACHMENT.UPLOAD.TEXT":"点击上传附件","FEEDBACK.FORM.ATTACHMENT.UPLOAD.MAXSIZE":"文件大小最大不超过 10M","FEEDBACK.FORM.CONTACT":"您的联系方式","FEEDBACK.FORM.CALL":"我们怎么称呼您？","FEEDBACK.ADD.SUCCESS":"提交成功","FEEDBACK.ADD.FAILED":"提交失败，请重试"}},1806:function(e){e.exports={"CALIBRATE.COLOR.TITLE":"程小奔颜色传感器校准",CALIBRATE_COLOR_DESCRIPTION:["1. 将程小奔放在需要校准的环境下（即使用环境），并将颜色红外传感器旋转至最下方","2. 将颜色识别卡片（白色）放置在程小奔的颜色传感器下方，如果颜色识别卡片污损或遗失，也可以使用白色打印纸代替","3. 点击下方的“校准”按钮，校准完成","注：需使颜色传感器对准卡片的中央"],"CALIBRATE.GYRO.TITLE":"程小奔陀螺仪校准",CALIBRATE_GYRO_DESCRIPTION:["1. 将小程放在平稳的地方","2. 点击下方的“校准”按钮，校准完成"],"CALIBRATE.BUTTON.TEXT":"校准","CALIBRATE.BUTTON.TEXT.LOADING":"校准中...","CALIBRATE.MSG.SUCCESS":"校准成功","CALIBRATE.MSG.FAIL":"校准失败，请重试"}},1807:function(e){e.exports={MBLOCK:"慧编程","MBLOCK.TEXT":"注册登录慧编程","MENU.FILE":"文件","MENU.FILE.NEW":"新建作品","MENU.FILE.OPEN":"从计算机打开","MENU.FILE.SAVE":"保存","MENU.FILE.SAVEAS":"另存为","MENU.FILE.DEMOS":"示例程序","MENU.PROJECTS":"我的作品","MENU.EDIT":"编辑","MENU.EDIT.RESTORE":"恢复","MENU.EDIT.TURBO":"打开舞台加速模式","MENU.EDIT.TURBO.OFF":"关闭舞台加速模式","MENU.EDIT.UNDO":"撤销","MENU.EDIT.REDO":"重做","MENU.HELP":"帮助","MENU.HELP.ABOUT":"关于慧编程","MENU.HELP.FEEDBACK":"反馈","MENU.HELP.UPDATER.CHECKER":"检查更新","MENU.FIRMWARE":"上传固件","MENU.LANGUAGE":"语言","MENU.LANG.CHECK.UPDATE":"检查最新翻译","MENU.LANG.CHECK.UPDATE.TITLE":"检查翻译","LANG.CHECKER.NETWORK.ERROR":"翻译资源更新失败，请在网络良好的条件下重试","LANG.CHECKER.DOING":"正在检测和下载最新翻译资源…","LANG.CHECKER.SUCCESS":"已更新为最新翻译资源","LANG.CHECKER.IS.LATEST":"当前已经是最新翻译！","MENU.TUTORIAL":"教程","MENU.LEARNING.CENTER":"学习中心","MENU.EXIT":"退出","MENU.MODE.BLOCK":"积木","MENU.MODE.CODE":"代码","MENU.TOOL":"工具","MENU.CLOUDLIST":"云数据","MENU.HELP.UPDATEFIRMWARE":"固件更新","MENU.HELP.GUIDE":"用户指引","IFTTT.TITLE":"IFTTT","IFTTT.CONTENT.TEXT":"去 IFTTT 配置服务","IFTTT.CONTENT.TEXT.BEFORE":"去","IFTTT.CONTENT.TEXT.AFTER":"配置服务","BUTTON.UPGRADE.NOW.TEXT":"立即升级","BUTTON.UPGRADE.LATER.TEXT":"稍后升级","BUTTON.UPGRADE.SKIP.TEXT":"跳过此版本","BUTTON.RESTART.NOW.TEXT":"立即重启","BUTTON.RESTART.LATER.TEXT":"稍后重启","BUTTON.FIRMWARE.NOW.TEXT":"立即更新","BUTTON.FIRMWARE.LATER.TEXT":"稍后更新","BUTTON.GOTO.TEXT":"前往","BUTTON.IKNOW.TEXT":"我知道了","BUTTON.GO.DOWNLOAD.TEXT":"去下载","BUTTON.UPDATE.TEXT":"更新","BUTTON.RETRY.TEXT":"重试","BUTTON.OK.TEXT":"确定","BUTTON.CANCEL.TEXT":"取消","BUTTON.NEXT.TEXT":"下一步","BUTTON.LOGIN.TEXT":"登录","BUTTON.BACK.TEXT":"返回","BUTTON.FINISH.TEXT":"完成","BUTTON.SUBMIT.TEXT":"提交","BUTTON.CONFIRM.TEXT":"确定","BUTTON.CLOSE.TEXT":"关闭","BUTTON.YES.TEXT":"是","BUTTON.NO.TEXT":"否","BUTTON.YES.SAVE.TEXT":"保存","BUTTON.NO.SAVE.TEXT":"不保存","BUTTON.UPLOAD.TEXT":"上传","BUTTON.CONTINUE.CONNECT.TEXT":"继续连接","BUTTON.UPDATE.SERIAL.TEXT":"更换串口","BUTTON.UPDATE.FIRMWARE.TEXT":"更新固件","BUTTON.REGISTER.LOGIN":"注册/登录","BUTTON.ADD":"添加","BUTTON.DELETE":"删除","BUTTON.CREATE":"创建帐号","BUTTON.LOGOUT":"退出登录","BUTTON.SHARE":"发布","BUTTON.CANCEL.SHARE":"取消发布","BUTTON.SHARE.CHECK":"查看发布页","BUTTON.SHARE.THINK":"我再想想","SCANING.SERIAL":"扫描串口中...","SCANING.BLE":"扫描蓝牙中...","SCANING.ABLE.DEVICE.TEXT":"正在搜索可连接的设备","SHOW.CONNECTABLE.DEVICES.TEXT":"显示全部可连接设备","NOTSERVER.TEXT":"设备驱动未启动","NOTSERVER.SOLUTION.TEXT":"解决方式","DOWNLOAD.NOW":"立即下载","UPLOAD.CODE.TITLE":"上传进度","UPLOAD.COMPLIE.TITLE":"编译中","UPLOAD.COMPLIE.FAILED":"编译失败","UPLOAD.FIRMWARE.TITLE":"上传固件","UPLOAD.FIRMWARE.SELECT.TITLE":"点击此处选择要上传的固件","UPLOAD.MESSAGE.SUCCESS":"上传代码成功","UPLOAD.MESSAGE.FAIL":"上传代码失败，您可以尝试重新上传！","UPLOAD.MESSAGE.SUCCESS.FIRMAWARE":"固件更新成功，您需要重新连接设备","UPLOAD.MESSAGE.FAIL.FIRMAWARE":"固件上传失败，您可以尝试重新上传","UPLOAD.DISCONNECT.MESSAGE":"设备已断开，上传失败！","CHOOSE.DEVICE.LABEL":"选择设备","CHOOSE.FIRMWARE.LABEL":"选择固件","CHOOSE.FIRMWARE.LOCAL":"使用本地固件","CHOOSE.FIRMWARE.MSG":"请选择一个固件","VERSION.TEXT":"版本：","GRATITUDE.TEXT":"慧编程的诞生离不开这些{0}的支持","OPENSOURCE.TEXT":"开源软件","FILENAME.EMPTY":"无标题","CONFIRM.SAVE.TITLE":"保存","CONFIRM.SAVE.TEXT":"当前文件已修改，是否保存？","CONFIRM.SAVE.ADAPT.TEXT":"当前文件已修改，是否改编？","EXPORT.SUCCESS.MSG":"文件已保存","EXPORT.FAIL.MSG":"文件保存失败","IMPORT.FORMAT.ERROR.MSG":"文件格式有误","IMPORT.CONTENT.ERROR.MSG":"数据校验失败","IMPORT.SUCCESS.MSG":"文件已打开","IMPORT.FAIL.MSG":"文件打开失败","DRAG.HOLDER.TEXT":"拖拽文件到此处。","USER.INTERNATIONAL":"切换至mBlock International","USER.DOMESTICAL":"切换至慧编程","USER.OVERAGE":"您是否已满16岁？","USER.AGREEMENT":"隐私协议","USER.AGREE.TEXT":"同意并继续","USER.GUARDIAN":"监护人确认","USER.GUARDIAN.TEXT":"由于您未满16岁，请告知您的父母或其他监护人，这关系到您的隐私。","USER.GUARDIAN.CONFIRM.TEXT":"我是他/她的监护人","USER.EMAIL.LOGIN":"正在登录","USER.STUDENTID.LOGIN":"帐号登录","USER.LOGIN.SUCCESS.MSG":"登录成功","USER.LOGIN.FAIL.MSG":"登录失败！","USER.REGISTER":"邮箱注册","USER.REGISTER.SUCCESS.MSG":"注册成功","USER.REGISTER.FAIL.MSG":"注册失败！","USER.LOGOUT":"退出登录","USER.LOGOUT.SUCCESS.MSG":"退出登录成功","USER.LOGOUT.FAIL.MSG":"退出登录失败","USER.PROFILE":"帐号设置","USER.BIND":"已绑定","USER.ASSIGN.WORK":"布置作业","USER.SUBMIT.WORK":"提交作业","USER.DELETE":"删除帐号","USER.CREATE.ACCOUNT":"创建帐号","USER.DELETE.ACCOUNT":"您的帐号","USER.DELETE.TEXT":"即将被删除，删除后帐号中的所有数据会同时被清除，您确定要删除吗？","USER.DELETE.THINK":"再想想","USER.DELETE.FAIL.MSG":"帐号删除失败！","USER.FORGET.PASSWORD":"找回密码","USER.RESET.PASSWORD":"重置密码","USER.FINDPWD.SUCCESS.MSG":"重置密码成功","USER.FINDPWD.FAIL.MSG":"重置密码失败！","USER.LOGIN.EXPIRE.MSG":"登录状态失效，请重新登录","SOCIAL.LOGIN":"第三方登录","OTHER.LOGIN":"其他登录方式","FORGET.PASSWORD":"忘记密码？","UPDATE.PASSWORD":"修改密码","UPDATE.PASSWORD.CURRENT":"当前密码","UPDATE.PASSWORD.NEW":"新密码","USER.UPDATE.SUCCESS.MSG":"密码修改成功","USER.UPDATE.FAIL.MSG":"密码修改失败！","REGISTER.AGREE":"注册即同意","PROTOCOL.TEXT":"用户协议","NO.CODE":"没收到验证码？","FORM.BUTTON.CODE.TEXT":"验证码","FORM.BUTTON.CODE.SENDED":"{0} 秒后可重新发送","FORM.BUTTON.CODE.SEND.SUCCESS.MSG":"已发送验证码至邮箱:","FORM.BUTTON.CODE.SEND.FAIL.MSG":"验证码发送失败，请稍后重试！","FORM.BUTTON.CODE.SEND.AGAIN":"点击再次发送","FORM.FIELD.NICKNAME.PH":"昵称","FORM.FIELD.EMAIL":"邮箱","FORM.FIELD.EMAIL.PH":"邮箱/学生帐号","FORM.FIELD.EMAIL.OVER.TYPE.MSG":"邮箱长度不可超过100字符","FORM.FIELD.EMAIL.TYPE.MSG":"请输入正确的邮箱格式或学生帐号","FORM.FIELD.EMAIL.ONLY.TYPE.MSG":"请输入正确的邮箱格式","FORM.FIELD.EMAIL.MSG":"请输入你的邮箱或学生帐号！","FORM.FIELD.EMAIL.USED.MSG":"邮箱已被注册，请返回后重新登录注册","FORM.FIELD.STUDENTID.PH":"学生帐号","FORM.FIELD.STUDENTID.TYPE.MSG":"学生帐号格式不正确！","FORM.FIELD.STUDENTID.MSG":"请输入您的学生帐号！","FORM.FIELD.PASSWORD":"密码","FORM.FIELD.PASSWORD.PH":"请输入密码","FORM.FIELD.PASSWORD.NEW.PH":"请设置新密码","FORM.FIELD.PASSWORD.OLD.PH":"请输入旧的密码","FORM.FIELD.PASSWORD.OLD.MSG":"请输入正确的密码","FORM.FIELD.PASSWORD.MSG":"格式错误，设置密码请输入6-20个字符","FORM.FIELD.PASSWORD.MIN.MSG":"密码至少 6 位！","FORM.FIELD.PASSWORD.MAX.MSG":"密码最多 20 位！","FORM.FIELD.PASSWORD.CONTACT.MSG":"请输入正确的密码，忘记密码？请联系老师","FORM.FIELD.CODE.PH":"验证码","FORM.FIELD.CODE.MSG":"请输入邮箱验证码！","FORM.FIELD.CODE.CURRENT.MSG":"请输入正确的验证码","RENAME.ERR.NULL.MSG":"文件名称不能为空","RENAME.ERR.PREFIX.MSG":"文件名称不能以+ - .开头","RENAME.ERR.CONTAIN.MSG":'文件名称不能包含字符 \\ / : * ? " < > | @ , # $ & ( ) ',"RENAME.ERR.KEY.MSG":"为非法字符，请重新输入","RENAME.ERR.EXIST.MSG":"文件名称已经存在","NETWORK.ERR.MSG":"网络异常，请稍后重试！","SOCIAL.WECHAT":"微信","SOCIAL.QQ":"QQ","SOCIAL.GOOGLE":"谷歌","MSG.10001":"非法的邮箱格式!","MSG.10002":"邮箱已被使用！","MSG.10003":"邮箱已被绑定!","MSG.10004":"邮箱帐号不存在!","MSG.10005":"邮箱密码错误!","MSG.10006":"验证码非法!","MSG.10007":"Uid 不存在!","MSG.10008":"非法的字符串长度!","MSG.10009":"非法的字符类型!","MSG.10010":"非法 Uid!","MSG.10011":"第三方授权失败!","MSG.10012":"新密码与旧密码不一致!","MSG.10013":"帐号或密码错误!","MSG.10014":"绑定第三方媒体失败!","MSG.10015":"绑定邮箱实效!","MSG.10016":"接入的第三方媒体不存在!","MSG.10017":"请求参数不正确!","MSG.10018":"第三方媒体已经被绑定!","MSG.10101":"微信认证失败!","MSG.10102":"微信回调失败!","MSG.10103":"QQ 认证失败!","MSG.10104":"Facebook 认证失败!","MSG.10105":"Google 认证失败!","MSG.10106":"回调 state 错误!","MSG.10107":"取消绑定失败!","MSG.20001":"请勿重复登录!","MSG.20002":"请先登录!","MSG.20003":"解析远程请求 JSON 异常!","MSG.20004":"请求参数不正确!","MSG.20005":"非法邮箱格式!","MSG.20006":"用户名或密码错误！","MSG.20007":"验证码错误！","MSG.20008":"邮箱已被使用！","MSG.20009":"邮箱帐号不存在","MSG.30001":"未登录","MSG.30002":"未知异常，读写 redis 失败","MSG.30003":"不支持的主板设备类型","MSG.30004":"请求参数不正确","MSG.30005":"云列表不存在","MSG.30006":"云列表已经存在","MSG.30007":"云列表已经达到最大长度","MSG.30008":"云列表数量已达最大限制","MSG.99999":"网络异常，请检查您的网络","MSG.404":"求失败，请稍后重试。404","MSG.500":"请求失败，请稍后重试。500","MSG.503":"请求失败，请稍后重试。503","MSG.-1":"请求失败，请稍后重试。-1","WEBGL.NOT.SUPPORT":"您的显卡驱动版本过低，请更新显卡驱动再次尝试","BLOCK.USE.NEED.LOGIN":"该积木块需要登录才能使用","BLOCK.USE.NEED.LOGINANDOPEN":"该积木需要登录且打开上传模式才能使用","DOWNLOAD.LOADING.TEXT":"正在下载...","DOWNLOAD.LOADING.FAILURE":"同步失败","DOWNLOAD.LOADING.NETWORK.DISCONNECT":"网络异常","MENU.FILE.SAVEMY":"保存为我的作品","MENU.FILE.LOCALFILE":"本地文件","MENU.FILE.SAVEING":"保存中...","MENU.FILE.SAVE.SUCCESS":"保存成功","MENU.FILE.SAVE.FAIL":"保存失败","MENU.FILE.UPLOAD.FAIL":"保存失败，您可将作品下载到计算机","MENU.FILE.SAVE.NAME":"作品名称","FORM.FIELD.NEWNAME.MAX.MSG":"作品名称长度不能超过48个字符","FORM.FIELD.NEWNAME.REQUIRE.MSG":"请输入作品名称","DOWNLOAD.LOADING.RETRY":"点击重试","USER.LOGIN.TO_LOGIN_TIP":"请先登录帐号","MENU.FILE.PUBLISH.SUCCESS":"已发布","MENU.FILE.PUBLISH.UPDATE":"已更新","MENU.FILE.NEW.WEB":"新建","MENU.FILE.OPEN.WEB":"打开","MENU.FILE.SAVE.WEB":"保存","MENU.FILE.SAVEAS.WEB":"另存为","MENU.FILE.IMPORT":"从计算机导入","MENU.FILE.EXPORT":"保存到计算机","MENU.FILE.PUBLISH.TO":"分享至...","MENU.OTHER.ABOUT":"关于慧编程","MENU.OTHER.JOIN":"合作联系","USER.HOME_PAGE":"我的主页","BROWSER.COMPATIBLE_TIP":"当前浏览器无法完整体验慧编程网页版，请使用Chrome谷歌浏览器或下载慧编程客户端，获得完整体验。","BROWSER.COMPATIBLE_TIP.DOWNLOAD":"前往下载","MENU.FILE.VIEW_WORKS":"查看作品页面","MENU.FILE.ADAPT.SAVE":"改编并保存","MENU.FILE.ADAPT":"改编","PROJECT.LOADING_TIP":"加载中...","DEVICE.STATUS.UPDATING":"正在更新...","DEVICE.STATUS.DOWNLOADING":"下载中...","DEVICE.STATUS.REOPEN":"更新成功，重启应用后生效","DEVICE.INSTALL.STATUS.FAIL":"网络异常或文件异常，{0} 安装失败","DEVICE.UPDATE.STATUS.FAIL":"网络异常或文件异常，{0} 更新失败","COPYRIGHT.TEXT":"基于慧编程技术","BUTTON.CHART.DOWNLOAD":"下载","BUTTON.CHART.TABLE":"表格","BUTTON.CHART.LINE":"折线图","BUTTON.CHART.BAR":"柱状图","MESSAGE.CHART.REATCHMAXXAXISDATA":"输入的数据超过{0}条上限，已停止数据的输入","MESSAGE.CHART.REATCHMAXLENGEND":"创建的图例超过{0}条，无法继续创建图例","CHART.DEFAULT.XAXISNAME":"类别","CHART.DEFAULT.YAXISNAME":"数值","PROJECT.SHARE.TO.TITLE":"分享作品至","ACCOUNT.SWITCH.TO":"切换至","IMPORT.EXTINPROJECT.FAIL":"作品所使用设备或扩展未上架，作品无法正常运行","DEVICE.DEFAULT":"常用设备","DEVICE.DEFAULT.SET":"设为常用设备","DEVICE.DEFAULT.SET.SUCCESS":"常用设备设置成功，新建作品时生效","DEVICE.BECOME.DEVELOPER":"成为慧编程开发者，支持更多设备","DEVICE.MOREINFO":"了解更多信息"}},1808:function(e){e.exports={qq:"https://graph.qq.com/oauth/show?which=Login&display=pc&response_type=code&redirect_uri=https%3A%2F%2Fpassport2.makeblock.com%2Fcallback%2Fqq&client_id=101351538&state=pc_qq_3_login_{0}",wechat:"https://open.weixin.qq.com/connect/qrconnect?appid=wx5c760f125e075c50&redirect_uri=http%3A%2F%2Ftest.passport2.makeblock.com%2Fcallback%2Fwechat&response_type=code&scope=snsapi_login&state=pc_wechat_6_login_{0}",google:"https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=749108166547-i629ov3epca2i15bvv4fjrudcfu3jal5.apps.googleusercontent.com&redirect_uri=http://passport2.makeblock.com/callback/google&scope=https://www.googleapis.com/auth/userinfo.email&state=pc_google_3_login_{0}"}},1809:function(e){e.exports={qq:"https://graph.qq.com/oauth/show?which=Login&display=pc&response_type=code&redirect_uri=https%3A%2F%2Fpassport2.makeblock.com%2Fcallback%2Fqq&client_id=101351538&state=pc_qq_2_login_{0}",wechat:"https://open.weixin.qq.com/connect/qrconnect?appid=wx88c7abff9480ae61&redirect_uri=http%3A%2F%2Fpassport2.makeblock.com%2Fcallback%2Fwechat&response_type=code&scope=snsapi_login&state=pc_wechat_2_login_{0}",google:"https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=749108166547-i629ov3epca2i15bvv4fjrudcfu3jal5.apps.googleusercontent.com&redirect_uri=http://passport2.makeblock.com/callback/google&scope=https://www.googleapis.com/auth/userinfo.email&state=pc_google_7_login_{0}"}},1810:function(e){e.exports={qq:"https://graph.qq.com/oauth/show?which=Login&display=pc&response_type=code&redirect_uri=https%3A%2F%2Fpassport2.makeblock.com%2Fcallback%2Fqq&client_id=101351538&state=pc_qq_2_login_{0}",wechat:"https://open.weixin.qq.com/connect/qrconnect?appid=wx88c7abff9480ae61&redirect_uri=http%3A%2F%2Fpassport2.makeblock.com%2Fcallback%2Fwechat&response_type=code&scope=snsapi_login&state=pc_wechat_2_login_{0}",google:"https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=749108166547-i629ov3epca2i15bvv4fjrudcfu3jal5.apps.googleusercontent.com&redirect_uri=http://passport2.makeblock.com/callback/google&scope=https://www.googleapis.com/auth/userinfo.email&state=pc_google_3_login_{0}"}},1811:function(e,t,a){var n={"./dev/social.json":1810,"./production/social.json":1809,"./test/social.json":1808};function r(e){var t=o(e);return a(t)}function o(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=1811},1812:function(e){e.exports={url:"http://127.0.0.1:55278",compilerUrl:"//test.arduino.server.makeblock.com"}},1813:function(e){e.exports={url:"http://127.0.0.1:55278",compilerUrl:"//arduinoserver.makeblock.com"}},1814:function(e){e.exports={url:"http://127.0.0.1:55278",compilerUrl:"//test.arduino.server.makeblock.com"}},1815:function(e,t,a){var n={"./dev/socket.json":1814,"./production/socket.json":1813,"./test/socket.json":1812};function r(e){var t=o(e);return a(t)}function o(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=1815},1816:function(e){e.exports={connect_faq:{zh:"http://www.mblock.cc/doc/zh/faq/mblock5cheng-xiao-ben-faq.html",en:"http://www.mblock.cc/doc/en/faq/mblock-5-+-codey-rocky-faq.html"},faq:{zh:"http://www.mblock.cc/doc/zh/faq/mblock5cheng-xiao-ben-faq.html",en:"http://www.mblock.cc/doc/en/faq/mblock-5-+-codey-rocky-faq.html"},guide:{zh:"http://www.mblock.cc/doc/zh/",en:"http://www.mblock.cc/doc/en/"},download:{zh:"http://www.mblock.cc/zh-home/download/",en:"http://www.mblock.cc/download/?noredirect=en_US"},driver:{zh:"http://www.mblock.cc/doc/zh/part-one-basics/mlink-quick-start-guide.html",en:"http://www.mblock.cc/doc/en/part-one-basics/mlink-quick-start-guide.html"},crdriver:{zh:"http://www.mblock.cc/doc/zh/part-one-basics/chromebook.html",en:"http://www.mblock.cc/doc/en/part-one-basics/chromebook.html"},cloud_data:"http://test.web.iothub.makeblock.com/#/",feedback:"http://feedback.makeblock.com/?v=mBlock",ifttt:"https://ifttt.com/my_applets",homepage:{zh:"http://test.community.makeblock.com/user",en:"https://test.planet.mblock.cc/user"},community_convention:{zh:"http://www.mblock.cc/zh-home/convention/",en:"http://www.mblock.cc/convention/"},community_homePage:{zh:"https://testide.makeblock.com/test/index.html",en:"https://testide.mblock.cc/test/index.html"},mblock_web:{zh:"https://testide.makeblock.com/test/index.html",en:"https://testide.mblock.cc/test/index.html"},project_view:{zh:"http://test.community.makeblock.com/project/",en:"https://test.planet.mblock.cc/project/"},project_share:{zh:"http://test.community.makeblock.com/project/projectshare/",en:"https://test.planet.mblock.cc/project/projectshare/"},open_source:{zh:"http://www.mblock.cc/doc/zh/open-source/open-source.html",en:"http://www.mblock.cc/doc/en/open-source/open-source.html"},mblock_homePage:{zh:"http://www.mblock.cc/zh-home/",en:"http://www.mblock.cc/?noredirect=en_US"},extBuild_homePage:{zh:"https://ext.mblock.cc/test/index.html",en:"https://ext.mblock.cc/test/index.html"},mblock_downloadPage:{zh:"http://www.mblock.cc/zh-home/software/?noredirect=zh-CN",en:"http://www.mblock.cc/mblock-software/"},join:{zh:"http://education.makeblock.com/zh-hans/trainingcenters/join/",en:"http://education.makeblock.com/trainingcenters/join/"}}},1817:function(e){e.exports={connect_faq:{zh:"http://www.mblock.cc/doc/zh/faq/mblock5cheng-xiao-ben-faq.html",en:"http://www.mblock.cc/doc/en/faq/mblock-5-+-codey-rocky-faq.html"},faq:{zh:"http://www.mblock.cc/doc/zh/faq/mblock5cheng-xiao-ben-faq.html",en:"http://www.mblock.cc/doc/en/faq/mblock-5-+-codey-rocky-faq.html"},guide:{zh:"http://www.mblock.cc/doc/zh/",en:"http://www.mblock.cc/doc/en/"},download:{zh:"http://www.mblock.cc/zh-home/software/mblock/?noredirect=zh_CN",en:"http://www.mblock.cc/software/mblock/?noredirect=en_US"},driver:{zh:"http://www.mblock.cc/doc/zh/part-one-basics/mlink-quick-start-guide.html",en:"http://www.mblock.cc/doc/en/part-one-basics/mlink-quick-start-guide.html"},crdriver:{zh:"http://www.mblock.cc/doc/zh/part-one-basics/chromebook.html",en:"http://www.mblock.cc/doc/en/part-one-basics/chromebook.html"},cloud_data:"https://eu.mblock.makeblock.com/",feedback:"http://feedback.makeblock.com/?v=mblock",ifttt:"https://ifttt.com/my_applets",protocol:"http://www.makeblock.com/cn/agreement/",homepage:{zh:"http://mblock.makeblock.com/user",en:"https://planet.mblock.cc/user"},community_convention:{zh:"http://www.mblock.cc/zh-home/convention/",en:"http://www.mblock.cc/convention/"},community_homePage:{zh:"https://mblock.makeblock.com",en:"https://planet.mblock.cc"},mblock_web:{zh:"https://ide.makeblock.com/index.html",en:"https://ide.mblock.cc/index.html"},project_view:{zh:"http://mblock.makeblock.com/project/",en:"https://planet.mblock.cc/project/"},project_share:{zh:"http://mblock.makeblock.com/project/projectshare/",en:"https://planet.mblock.cc/project/projectshare/"},open_source:{zh:"http://www.mblock.cc/doc/zh/open-source/open-source.html",en:"http://www.mblock.cc/doc/en/open-source/open-source.html"},mblock_homePage:{zh:"http://www.mblock.cc/zh-home/",en:"http://www.mblock.cc/?noredirect=en_US"},extBuild_homePage:{zh:"https://ext.mblock.cc",en:"https://ext.mblock.cc"},mblock_downloadPage:{zh:"http://www.mblock.cc/zh-home/software/?noredirect=zh-CN",en:"http://www.mblock.cc/mblock-software/"},join:{zh:"http://education.makeblock.com/zh-hans/trainingcenters/join/",en:"http://education.makeblock.com/trainingcenters/join/"}}},1818:function(e){e.exports={connect_faq:{zh:"http://www.mblock.cc/doc/zh/faq/mblock5cheng-xiao-ben-faq.html",en:"http://www.mblock.cc/doc/en/faq/mblock-5-+-codey-rocky-faq.html"},faq:{zh:"http://www.mblock.cc/doc/zh/faq/mblock5cheng-xiao-ben-faq.html",en:"http://www.mblock.cc/doc/en/faq/mblock-5-+-codey-rocky-faq.html"},guide:{zh:"http://www.mblock.cc/doc/zh/",en:"http://www.mblock.cc/doc/en/"},download:{zh:"http://www.mblock.cc/zh-home/software/mblock/?noredirect=zh_CN",en:"http://www.mblock.cc/software/mblock/?noredirect=en_US"},driver:{zh:"http://www.mblock.cc/doc/zh/part-one-basics/mlink-quick-start-guide.html",en:"http://www.mblock.cc/doc/en/part-one-basics/mlink-quick-start-guide.html"},crdriver:{zh:"http://www.mblock.cc/doc/zh/part-one-basics/chromebook.html",en:"http://www.mblock.cc/doc/en/part-one-basics/chromebook.html"},cloud_data:"http://127.0.0.1:8080/#/",feedback:"http://feedback.makeblock.com/?v=mblock",ifttt:"https://ifttt.com/my_applets",protocol:"http://www.makeblock.com/cn/agreement/",homepage:{zh:"https://dev.community.makeblock.com/user",en:"https://dev.planet.mblock.cc/user"},community_convention:{zh:"http://www.mblock.cc/zh-home/convention/",en:"http://www.mblock.cc/convention/"},community_homePage:{zh:"https://dev.community.makeblock.com",en:"https://dev.planet.mblock.cc"},mblock_web:{zh:"https://testide.makeblock.com/dev/index.html",en:"https://testide.mblock.cc/dev/index.html"},project_view:{zh:"http://dev.community.makeblock.com/project/",en:"https://dev.planet.mblock.cc/project/"},project_share:{zh:"http://dev.community.makeblock.com/project/projectshare/",en:"https://dev.planet.mblock.cc/project/projectshare/"},open_source:{zh:"http://www.mblock.cc/doc/zh/open-source/open-source.html",en:"http://www.mblock.cc/doc/en/open-source/open-source.html"},mblock_homePage:{zh:"http://www.mblock.cc/zh-home/",en:"http://www.mblock.cc/?noredirect=en_US"},extBuild_homePage:{zh:"https://ext.mblock.cc/test/index.html",en:"https://ext.mblock.cc/test/index.html"},mblock_downloadPage:{zh:"http://www.mblock.cc/zh-home/software/?noredirect=zh-CN",en:"http://www.mblock.cc/mblock-software/"},join:{zh:"http://education.makeblock.com/zh-hans/trainingcenters/join/",en:"http://education.makeblock.com/trainingcenters/join/"}}},1819:function(e,t,a){var n={"./dev/link.json":1818,"./production/link.json":1817,"./test/link.json":1816};function r(e){var t=o(e);return a(t)}function o(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=1819},1820:function(e){e.exports={passport2:"https://test.passport2.makeblock.com/",iot:"https://test.iothub.makeblock.com/",weather:"https://test.mweather.makeblock.com/",air:"https://test.msapi.passport3.makeblock.com/",mblock:"https://test.api.mblock.makeblock.com/",qiniu:"http://up-z2.qiniu.com/",gateway:"https://classroomtest.makeblock.com/",cloud:{zh:"https://test.community.makeblock.com/",en:"https://test.community.makeblock.com/"},ext:"http://testserviceext.makeblock.com/api/v2/",extservice:{zh:"//test.extservice.makeblock.com/",en:"//test.extservice.makeblock.com/"},box:"http://testplatforms.makeblock.com/"}},1821:function(e){e.exports={passport2:"http://passport2.makeblock.com/",iot:"http://iothub.makeblock.com/",weather:"http://mweather.makeblock.com/",air:"http://msapi.makeblock.com/",mblock:"http://apimblock.makeblock.com/",qiniu:"http://up-z2.qiniu.com/",gateway:"http://classroomtest.makeblock.com/",cloud:{zh:"http://mblock.makeblock.com/",en:"http://planet.mblock.cc/"},ext:"http://serviceext.makeblock.com/api/v2/",extservice:{zh:"//extservice.makeblock.com/",en:"//extservice.mblock.cc/"},box:"http://platforms.makeblock.com/"}},1822:function(e){e.exports={passport2:"http://dev.passport2.makeblock.com/",iot:"https://dev.iothub.makeblock.com/",weather:"https://dev.mweather.makeblock.com/",air:"https://dev.msapi.passport3.makeblock.com/",mblock:"http://dev.api.mblock.makeblock.com/",qiniu:"http://up-z2.qiniu.com/",gateway:"https://classroomtest.makeblock.com/",cloud:{zh:"http://test.community.makeblock.com/",en:"http://test.planet.mblock.cc/"},ext:"http://preview.service.ext.makeblock.com/api/v2/",extservice:{zh:"//dev.extservice.makeblock.com/",en:"//dev.extservice.makeblock.com/"},box:"http://testplatforms.makeblock.com/"}},1823:function(e,t,a){var n={"./dev/domain.json":1822,"./production/domain.json":1821,"./test/domain.json":1820};function r(e){var t=o(e);return a(t)}function o(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=1823},1857:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(198)),r=_(a(38)),o=_(a(77)),i=_(a(134)),u=_(a(119)),s=_(a(22)),l=_(a(9)),c=_(a(2)),d=_(a(7)),f=_(a(5)),p=_(a(6)),h=_(a(12)),m=_(a(1)),E=a(90),v=a(14),T=_(a(19)),S=a(18),y=_(a(15)),g=_(a(56));a(597),a(1337);var N=_(a(16));function _(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(e){(0,c.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));C.call(a);var n=e.project,r=e.intlr;return a.state={value:n.name||g.default.getNewProjectName(r.messages["FILENAME.EMPTY"],n.projects),isFocusInput:!1,isLocalFile:!1},a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.project;this.setState({isLocalFile:e.projectType===y.default.PROJECT_TYPE.LOCAL})}},{key:"componentWillReceiveProps",value:function(e){var t=e.project,a=e.intlr,n=t.name||a.messages["FILENAME.EMPTY"];y.default.PROJECT_TYPE.EXAMPLE===t.projectType&&(n=g.default.getNewProjectName(n,t.projects)),""===t.projectType&&(n=t.name||g.default.getNewProjectName(a.messages["FILENAME.EMPTY"],t.projects)),t.name!==n&&T.default.emit("RenameRuntime",n),this.setState({value:n,isLocalFile:t.projectType===y.default.PROJECT_TYPE.LOCAL})}},{key:"backGo",value:function(){return m.default.createElement(s.default,{className:"editor-header-back",onClick:this.handleBackGoClick},m.default.createElement("i",{className:"mblock-icon icon-fanhui"}))}},{key:"saveList",value:function(){var e=this.props.project.projectStatus===y.default.PROJECT_STATUS.WILL_DOWNLOAD;return m.default.createElement(u.default,{disabled:e,overlay:this.saveMenuList(),placement:"bottomLeft",trigger:["hover"]},m.default.createElement(s.default,{className:"editor-header-save-button"},m.default.createElement("i",{className:"mblock-icon icon-baocun"})))}},{key:"saveMessage",value:function(){var e=this.props,t=e.intlr;switch(e.project.saveStatus){case y.default.PROJECT_SAVE_STATUS.SUCCESS:return m.default.createElement("span",{className:"editor-header-save-success"},t.messages["MENU.FILE.SAVE.SUCCESS"]);case y.default.PROJECT_SAVE_STATUS.FAILURE:return m.default.createElement("span",{className:"editor-header-save-failure"},t.messages["MENU.FILE.SAVE.FAIL"]);case y.default.PROJECT_SAVE_STATUS.DOING:return m.default.createElement("span",{className:"editor-header-saving"},t.messages["MENU.FILE.SAVEING"]);default:return""}}},{key:"saveMenuList",value:function(){var e=this.props.intlr,t=this.state.isLocalFile,a=t?"MENU.FILE.SAVEAS":"MENU.FILE.SAVEASTOMY";return m.default.createElement(i.default,{className:"editor-header-save-list-menu",onClick:this.handleSaveListMenuClick},m.default.createElement(i.default.Item,{key:"MENU.FILE.SAVE"},e.messages["MENU.FILE.SAVE"]),m.default.createElement(i.default.Item,{key:a},e.messages["MENU.FILE.SAVEAS"]),t?m.default.createElement(i.default.Item,{key:"MENU.FILE.SAVEMY"},e.messages["MENU.FILE.SAVEMY"]):"")}},{key:"projectName",value:function(){var e=this,t=this.props.project,a=t.name,n=t.projectStatus,r=this.state.value,i=n===y.default.PROJECT_STATUS.WILL_DOWNLOAD;return m.default.createElement(o.default,{className:"input-rename",ref:function(t){return e.renameInput=t},defaultValue:a,value:r,disabled:i,onChange:function(t){return e.handleRenameChange(t.target.value)},onPressEnter:this.handlePressEnter.bind(this),onClick:this.handleRenameFocus.bind(this),onBlur:function(t){return e.handleRename(t.target.value)},autoComplete:"off"})}},{key:"handleRenameFocus",value:function(){this.setState({isFocusInput:!0}),this.renameInput.input.select()}},{key:"handlePressEnter",value:function(){this.renameInput.input.blur()}},{key:"handleRenameChange",value:function(e){h.default.trim(e).length>48&&(S.showErrorMessage.bind(this)("PROJECT.NAME.MAX.LENGTH.TEXT"),e=e.substring(0,48)),this.setState({value:e})}},{key:"handleRename",value:function(e){var t=this,a=this.props,n=a.project,o=a.intlr,i=n.id,u=n.projectType,s=n.projectStatus,l=n.projectId,c=h.default.trim(e),d=Date.parse(new Date)/1e3;if(this.setState({isFocusInput:!1,value:c}),h.default.isEmpty(c))return S.showErrorMessage.bind(this)("RENAME.ERR.NULL.MSG"),this.setState({value:n.name||g.default.getNewProjectName(o.messages["FILENAME.EMPTY"],n.projects)});if(h.default.indexOf([y.default.PROJECT_TYPE.EXAMPLE,""],u)>-1)return T.default.emit("RenameRuntime",c);if(y.default.PROJECT_TYPE.LOCAL!==u)return T.default.emit("RenameProject",{id:i,projectName:c,createdAt:d,projectId:l,syncStatus:s},"yun");if(/^[-+\.]+/.test(c))return S.showErrorMessage.bind(this)("RENAME.ERR.PREFIX.MSG"),void this.setState({value:n.name});if(/[\^\\%&/*~'/?///</>/|/"/(/)/$#,@:;&]+/.test(c))return S.showErrorMessage.bind(this)("RENAME.ERR.CONTAIN.MSG"),void this.setState({value:n.name});if(/(^(con)$)|^(con)[/.\s]*\.|(^(prn)$)|^(prn)[/.\s]*\.|(^(aux)$)|^(aux)[/.\s]*\.|(^(nul)$)|^(nul)[/.\s]*\.|(^(com)[1-9]$)|^(com)[1-9]\..*|(^(lpt)[1-9]$)|^(lpt)[1-9][/.\s]*\./.test(c)){var f=e.match(/con|prn|aux|nul|com[1-9]|lpt[1-9]]/)[0];return r.default.error(f+o.messages["RENAME.ERR.KEY.MSG"]),void this.setState({value:n.name})}c!==n.name&&(h.default.isEmpty(c)?c=n.name:T.default.emit("RenameProject",{name:c},"fs",function(e){if(e&&-2===e.code)return r.default.error(o.messages["RENAME.ERR.EXIST.MSG"]),t.setState({value:n.name})})),this.setState({value:c})}},{key:"render",value:function(){var e=this.state,t=e.isFocusInput,a=e.isLocalFile,r=this.props.intlr;return m.default.createElement(n.default.Header,{className:"header"},m.default.createElement("section",{className:"header-cell main-menu-cell"},this.backGo()),m.default.createElement("section",{className:"header-cell project-name-cell"},this.projectName(),!t&&this.saveList(),this.saveMessage()),m.default.createElement("section",{className:"header-cell user-menu-cell"},m.default.createElement("span",{className:"editor-header-right"},a&&r.messages["MENU.FILE.LOCALFILE"])))}}]),t}(m.default.Component),C=function(){var e=this;this.changeToTab=function(){switch(e.props.project.projectType){case y.default.PROJECT_TYPE.LOCAL:return"fs";case y.default.PROJECT_TYPE.LIST:case y.default.PROJECT_TYPE.EXAMPLE:default:return"yun"}},this.handleSaveListMenuClick=function(t){var a=e.state.value;switch(t.key){case"MENU.FILE.SAVE":T.default.emit("SaveProject",!1,e.changeToTab(),{name:a});break;case"MENU.FILE.SAVEAS":T.default.emit("SaveProject",!0,"fs");break;case"MENU.FILE.SAVEASTOMY":N.default.replace("/project/saveas/my/"+a);break;case"MENU.FILE.SAVEMY":N.default.replace("/project/saveas/tomy/"+a)}},this.handleBackGoClick=function(){e.props.project.saveStatus!==y.default.PROJECT_SAVE_STATUS.DOING&&T.default.emit("ClickMenu","MENU.BACKGO")}};t.default=(0,E.withRouter)((0,v.connect)(function(e){return{intlr:e.intlr,project:e.project}})(O))},1883:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=A(a(27)),r=A(a(198)),o=A(a(9)),i=A(a(2)),u=A(a(7)),s=A(a(5)),l=A(a(6)),c=A(a(12)),d=A(a(1)),f=a(90),p=a(14),h=(A(a(1857)),A(a(1336))),m=A(a(1318)),E=A(a(1315)),v=A(a(15)),T=A(a(1307)),S=a(18),y=a(295),g=A(a(21)),N=A(a(35)),_=A(a(16));a(483);A(a(1301));var O=A(a(1300)),C=A(a(583)),I=A(a(1231));function A(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){var a;(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.webglDetected=!1,a=n,(0,s.default)(n,a)}return(0,l.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){(0,y.trackPage)("/");var e=this.props,t=e.project,a=e.location;this.loading(t,a.pathname)}},{key:"componentWillReceiveProps",value:function(e){var t=e.project,a=e.location;this.loading(t,a.pathname)}},{key:"loading",value:function(e,t){"/"===t&&e.projectStatus===v.default.PROJECT_STATUS.WILL_DOWNLOAD&&_.default.replace("/loading")}},{key:"editor",value:function(){return d.default.createElement(r.default,{className:"root-layout"},this.header(),d.default.createElement(E.default,null),this.routers(),this.downloadLink(),this.webgl(),g.default.showCopyrightLogo?d.default.createElement(m.default,null):"",this.props.dataChart.show?d.default.createElement(O.default,null):"",this.props.account.isLogin&&d.default.createElement(C.default,null),d.default.createElement(I.default,null))}},{key:"render",value:function(){var e=this;return d.default.createElement(r.default,{className:"root-layout"},d.default.createElement(f.Route,{path:"/",render:function(){return e.editor()}}))}},{key:"header",value:function(){return g.default.showHeader?d.default.createElement(h.default,null):""}},{key:"routers",value:function(){var e=this.props,t=e.account,a=e.location;return T.default.map(function(e){return e.isPrivate&&!t.isLogin?d.default.createElement(f.Redirect,{key:e.url,to:{pathname:"/login",state:{from:a}}}):d.default.createElement(f.Route,{exact:e.exact,key:e.url,path:e.url,component:e.component})})}},{key:"downloadLink",value:function(){return d.default.createElement("a",{id:"DownloadFileTarget",style:{visibility:"hidden",zIndex:-100,position:"absolute"}})}},{key:"webgl",value:function(){if(!this.webglDetected){if(!(0,S.detectWebGLContext)()){var e=this.props.intlr,t=g.default.link.faq[c.default.has(g.default.link.faq,e.langKey)?e.langKey:"en"];return d.default.createElement("section",{style:{position:"fixed",zIndex:2001,top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"rgba(255, 255, 255, .75)",fontSize:"2rem"}},d.default.createElement(n.default,{style:{fontSize:"200%"},type:"meh-o"}),d.default.createElement("a",{href:t,rel:"nofollow me noopener noreferrer",target:"_blank",onClick:function(e){return N.default.openLink(e,t)}},d.default.createElement("p",{style:{margin:"2rem"}},e.messages["WEBGL.NOT.SUPPORT"])))}this.webglDetected=!0}}}]),t}(d.default.Component);t.default=(0,p.connect)(function(e){return{account:e.account,intlr:e.intlr,project:e.project,dataChart:e.dataChart}})(k)},1885:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(9)),r=f(a(2)),o=f(a(7)),i=f(a(5)),u=f(a(6)),s=f(a(1)),l=a(90),c=f(a(1883)),d=f(a(16));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return s.default.createElement(l.Router,{history:d.default},s.default.createElement(l.Route,{path:"/",component:c.default}))}}]),t}(s.default.Component);t.default=p},19:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.genEvent=void 0;var n,r=a(250),o=(n=r)&&n.__esModule?n:{default:n};o.default.EventEmitter.prototype.off=o.default.EventEmitter.prototype.removeListener;var i=new o.default.EventEmitter;t.genEvent=function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(){try{t.apply(void 0,arguments)}catch(e){}},r=n;return a&&(r=function(){i.removeListener(e,r),n.apply(void 0,arguments)}),i.addListener(e,r),function(){return i.removeListener(e,r)}}},t.default=i},1906:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(1905)),r=f(a(9)),o=f(a(2)),i=f(a(7)),u=f(a(5)),s=f(a(6)),l=f(a(1)),c=a(14),d=a(489);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.intlr;return l.default.createElement(d.IntlProvider,{locale:e.langKey,messages:e.messages},l.default.createElement(n.default,null,this.props.children))}}]),t}(l.default.Component);t.default=(0,c.connect)(function(e){return{intlr:e.intlr}})(p)},1919:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectDom=void 0;var n=v(a(40)),r=v(a(1)),o=v(a(20)),i=a(14),u=v(a(1906)),s=v(a(1885)),l=v(a(21)),c=v(a(1229)),d=v(a(19)),f=v(a(480)),p=v(a(81)),h=v(a(82)),m=a(248),E=v(a(151));function v(e){return e&&e.__esModule?e:{default:e}}(0,c.default)(h.default);var T=l.default.showCopyrightLogo,S=function(e){o.default.render(r.default.createElement(i.Provider,{store:h.default},r.default.createElement(u.default,null,r.default.createElement(s.default,null))),document.querySelector(e))};t.injectDom=function(e){T?S(e):new n.default(function(e,t){f.default.initLangDir().then(function(){var a=(0,m.getDefaultLang)()||"en";h.default.dispatch(E.default.change(a));var n=setTimeout(function(){t()},2e3);d.default.once("LocaleDataUpdated",function(){clearTimeout(n),p.default.setLoadingPageState(!1),e()})})}).then(function(){S(e)})}},1927:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=S(a(39)),r=S(a(2)),o=S(a(7)),i=a(1919),u=S(a(151)),s=S(a(1228)),l=S(a(1227)),c=S(a(1226)),d=S(a(1225)),f=S(a(1224)),p=S(a(1222)),h=S(a(1221)),m=a(21),E=a(32),v=S(a(82)),T=S(a(63));function S(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(t){(0,r.default)(this,e),t=t||{};var a=(0,n.default)({showCopyrightLogo:!0},t);m.configUtil.setConfig(a);var o=new T.default;this.project=new s.default(o),this.account=new l.default,this.uiHelper=new c.default,this.helper=new d.default,this.services=new f.default,this.sprite=new p.default(o),this.scratch=new h.default(o),this.version=(0,E.getVersion)()}return(0,o.default)(e,[{key:"inject",value:function(e){(0,i.injectDom)(e)}},{key:"setLang",value:function(e){v.default.dispatch(u.default.change(e))}},{key:"lang",get:function(){return v.default.getState().intlr.langKey}}],[{key:"version",get:function(){return(0,E.getVersion)()}}]),e}();window.MBlock=y,t.default=y},1928:function(e,t){},1929:function(e,t,a){a(1928),a(1927),e.exports=a(1220)},196:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportPlatform=t.requestExt=t.getExtResPath=void 0;var n=c(a(23)),r=c(a(40)),o=c(a(25)),i=a(18),u=c(a(21)),s=a(32),l=c(a(437));function c(e){return e&&e.__esModule?e:{default:e}}var d,f=t.getExtResPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];try{if(/^(http|https)/.test(e))return!0===window.IS_PREVIEW_EXTENSION&&"js"===(0,i.getFileSuffix)(e)?e+"?v="+ +new Date:e;if((0,s.isLocal)())return(u.default.extDirPath+"/"+e).replace(/\\/g,"/");if(t){var a=l.default.getExt(t);if(a&&a.extractPath)return""+a.extractPath+e}return""+l.default.extractPath+e}catch(t){return e}};t.requestExt=(d=(0,o.default)(n.default.mark(function e(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments[2];return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}if(window.require){e.next=4;break}return e.next=4,(0,i.getReady)(function(){return void 0!==window.require});case 4:return e.abrupt("return",new r.default(function(e,n){try{window.require([a?t:f(t,o)],function(t){e(t)},function(e){n(e)})}catch(e){n(e)}}));case 5:case"end":return e.stop()}},e,void 0)})),function(e){return d.apply(this,arguments)}),t.isSupportPlatform=function(e,t){return t||(t="mblockweb"),void 0===e||null===e||e.indexOf(t)>-1}},197:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=void 0;var n=u(a(39)),r=a(618),o=a(1415),i=u(o);function u(e){return e&&e.__esModule?e:{default:e}}t.Actions=i.default;t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.defaultState,t=arguments[1];switch(t.type){case r.EXT_ACTION.LIST:case r.EXT_ACTION.ADD:case r.EXT_ACTION.REMOVE:return(0,n.default)({},e,t.payload);default:return e}}}},20:function(e,t,a){e.exports=a(31)(126)},21:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configUtil=t.default=void 0;var n=c(a(39)),r=c(a(11)),o=c(a(2)),i=c(a(7)),u=c(a(15)),s=a(32),l=a(18);function c(e){return e&&e.__esModule?e:{default:e}}var d=new(function(){function e(){var t;(0,o.default)(this,e),this.config={showHeader:!1,showCopyrightLogo:!1,enableRemoteExts:!1,defaultAssets:{scratch:!0,makeblock:!0,customize:!1},remoteAssetsUrls:{sprite:null,costume:null,backdrop:null,sound:null},enableProjectLoadingPage:!0,defaultExts:(0,l.getDefaultExt)()||["codey"],appVersion:(0,s.getVersion)(),version:(0,s.getBuildVersion)(),enableDevice:!0,spriteBasepath:"static/resource/scratch/",userSpriteBasepath:"static/resource/scratch/",userSpriteFilePath:"static/sprites/",userSpriteFileName:"sprite.json",spriteCustom:(t={},(0,r.default)(t,u.default.SPRITE_TYPE.USER_LIBS,"sprite.json"),(0,r.default)(t,u.default.SPRITE_TYPE.USER_COSTUMES,"costume.json"),(0,r.default)(t,u.default.SPRITE_TYPE.USER_BACKDROPS,"backdrop.json"),(0,r.default)(t,u.default.SPRITE_TYPE.USER_SOUNDS,"sound.json"),t),userProjectFilePath:"static/projects/",userProjectFileName:"project.json",userCoverImageFilePath:"static/coverImages/",downloadDriverBtn:{text:"",handler:function(){}},extDirPath:"exts",userTempPath:"temp/",appRootPath:"./",langDirPath:"langs/",loadExtTimeout:3e4,openCodeEditor:!0,openCodeMirror:!0},this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e="dev";e="production",this.config.domain=a(1823)("./"+e+"/domain.json"),this.config.link=a(1819)("./"+e+"/link.json"),this.config.socket=a(1815)("./"+e+"/socket.json"),this.handleDomainScheme(),this.config.social=a(1811)("./"+e+"/social.json")}},{key:"setConfig",value:function(e){this.config=(0,n.default)(this.config,e)}},{key:"handleDomainScheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.domain;for(var t in e){var a=e[t];"string"==typeof a?-1!==["iot","air","weather"].indexOf(t)?e[t]=a.replace(/https?:/,"https:"):e[t]=a.replace(/https?:/,""):this.handleDomainScheme(a)}}}]),e}()),f=d.config;t.default=f,t.configUtil=d},222:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(38));t.default=function(e){var t=e["MENU.FILE.UPLOAD.FAIL"],a=e["BUTTON.CLOSE.TEXT"],o={div:{display:"inline-block"},secSpan:{margin:"0 5px"},lastSpan:{cursor:"pointer"}},i=r.default.createElement("div",{className:"upload-file",style:o.div},r.default.createElement("span",null,t),r.default.createElement("span",{className:"mid-part",style:o.secSpan},"|"),r.default.createElement("span",{onClick:function(){return n.default.destroy()},style:o.lastSpan},a));n.default.error(i,0)};var r=o(a(1));function o(e){return e&&e.__esModule?e:{default:e}}},248:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultLang=t.getNavigatorLang=t.setStoreLang=t.getStoreLang=t.updateLocaleData=t.default=void 0;var n=u(a(73)),r=(u(a(12)),a(439)),o=a(18),i=a(1783);function u(e){return e&&e.__esModule?e:{default:e}}window.locales=i.localeData;var s=(0,n.default)(i.localeData);t.default=i.localeData,t.updateLocaleData=function(e){return(0,i.onUpdateLocaleData)(e)},t.getStoreLang=r.getStoreLang,t.setStoreLang=r.setStoreLang,t.getNavigatorLang=o.getNavigatorLang,t.getDefaultLang=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=(0,r.getStoreLang)();if(t)return t;var a=(0,o.getNavigatorLang)();return a&&e.includes(a)?a:e[0]}},249:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(143)),r=i(a(2)),o=i(a(7));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"set",value:function(e,t){return!!window.localStorage&&(localStorage.setItem(e,(0,n.default)(t)),!0)}},{key:"get",value:function(e){if(window.localStorage)try{return JSON.parse(localStorage.getItem(e))}catch(e){return!1}return!1}},{key:"remove",value:function(e){return!!window.localStorage&&(localStorage.removeItem(e),!0)}},{key:"clear",value:function(){return!!window.localStorage&&(localStorage.clear(),!0)}}]),e}();t.default=new u},263:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRemind=t.IGNORE_UPDATE_VERSION=t.REMIND_UPDATE=t.UPDATER_FIRMWAREN=t.EXEC_DOWNLOAD_UPDATE=t.SET_UPDATER_FIRMWARE_DATA=t.UPDATER_CHECKER=void 0;var n=m(a(23)),r=m(a(3)),o=m(a(25)),i=m(a(39)),u=m(a(40)),s=m(a(153)),l=m(a(21)),c=m(a(16)),d=m(a(48)),f=m(a(15)),p=a(248),h=a(18);function m(e){return e&&e.__esModule?e:{default:e}}var E=t.UPDATER_CHECKER="UPDATER_CHECKER",v=(t.SET_UPDATER_FIRMWARE_DATA="SET_UPDATER_FIRMWARE_DATA",t.EXEC_DOWNLOAD_UPDATE="EXEC_DOWNLOAD_UPDATE"),T=t.UPDATER_FIRMWAREN="UPDATER_FIRMWAREN",S=t.REMIND_UPDATE="REMIND_UPDATE",y=t.IGNORE_UPDATE_VERSION="IGNORE_UPDATE_VERSION",g={connectType:"updater",cmd:"check_update",params:{}},N=(t.isRemind=null===d.default.get(f.default.REMIND_UPDATE)||d.default.get(f.default.REMIND_UPDATE),function(e){return new u.default(function(t,a){s.default.updater("update",{url:l.default.domain.mblock+"mblock/isupdate",version:l.default.appVersion},function(e,n){return e?a(e):t(n)},e)})}),_=null;t.default={checker:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={type:E,payload:{isAuto:t,isChecking:!0}};return e=(0,o.default)(n.default.mark(function e(o,d){var f,m;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(a),t||c.default.location.pathname===(0,h.parseRoute)("/updater/app/checker")||c.default.push((0,h.parseRoute)("/updater/app/checker")),e.prev=2,e.next=5,new u.default(function(e,t){var a={url:l.default.domain.mblock+"mblock/isupdate",burl:l.default.domain.mblock+"mblock/firmware",version:l.default.appVersion,lang:(0,p.getStoreLang)()||(0,p.getNavigatorLang)()},n=s.default.serviceChannel,r=function(){var r=setTimeout(function(){t({code:10031})},3e3);n.sendMessage((0,i.default)({},g,{params:a}),function(a,n){clearTimeout(r),a?t(a):e(n)})};n.getChannelConnected()?r():setTimeout(function(){r()},1e3)});case 5:f=e.sent,a.payload={code:0,model:(0,r.default)({},f),isChecking:!1},o(a),t&&(m=d(),m.updater.isRemind&&c.default.location.pathname!==(0,h.parseRoute)("/updater/app/checker")&&c.default.push((0,h.parseRoute)("/updater/app/checker"))),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),a.payload={code:Number(e.t0.code||e.t0),isChecking:!1},o(a);case 17:case"end":return e.stop()}},e,void 0,[[2,12]])})),function(t,a){return e.apply(this,arguments)}},download:function(e,t){clearTimeout(_);var a,r={type:v,payload:{status:f.default.UPLOAD_STATUS.READY,percent:0}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;_=setTimeout(function(){r.payload=null,e(r)},t)},u=function(e){r.payload.status=f.default.UPLOAD_STATUS.FAILED,t&&t(),e(r),i(e,1e4)};return a=(0,o.default)(n.default.mark(function t(a){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(r),t.prev=1,t.next=4,N(function(t,n){if(t)return u(a);n<100?r.payload.status=f.default.UPLOAD_STATUS.PROCESSING:(r.payload.status=f.default.UPLOAD_STATUS.DONE,e&&e(),i(a)),r.payload.percent=n,a(r)});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),u(a);case 9:case"end":return t.stop()}},t,void 0,[[1,6]])})),function(e){return a.apply(this,arguments)}},remind:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d.default.set(f.default.REMIND_UPDATE,e),{type:S,payload:e}},ignore:function(e){var t=d.default.get(f.default.IGNORE_UPDATE_VERSIONS);return null===t&&(t=[]),-1===t.indexOf(e)&&t.push(e),d.default.set(f.default.IGNORE_UPDATE_VERSIONS,t),{type:y,payload:t}},firmware:function(e){return{type:T,payload:e}},getFirmwareVersion:function(){return new u.default(function(e,t){s.default.updater("version",{},function(a,n){return a?t(a):e(n)})})}}},264:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadFirmwarePrepare=t.UPLOAD_CODE_PROGRESS=t.UPLOAD_CODE=t.UPLOAD_READY=t.UPLOAD_FIRMWARE=void 0;var n=u(a(114)),r=u(a(12)),o=u(a(19)),i=u(a(15));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.UPLOAD_FIRMWARE="UPLOAD_FIRMWARE",l=t.UPLOAD_READY="UPLOAD_READY",c=t.UPLOAD_CODE="UPLOAD_CODE",d=t.UPLOAD_CODE_PROGRESS="UPLOAD_CODE_PROGRESS",f=null,p=function(e){return{type:e,payload:{progress_status:i.default.UPLOAD_STATUS.READY,progress_percent:0}}},h=t.uploadFirmwarePrepare=function(){return p(s)},m=function(e,t,a){var n=p(e);return{state:n,result:function(e,u){if(e)n.payload.progress_status=i.default.UPLOAD_STATUS.FAILED,o.default.emit("UploadCodeFail"),clearInterval(f),r.default.isFunction(a)&&a();else if(E(n),"progress"==u.type){var s=parseInt(u.percent);n.payload.progress_percent=s,n.payload.progress_status=i.default.UPLOAD_STATUS.PROCESSING}else"finish"==u.type&&(clearInterval(f),n.payload.progress_percent=100,n.payload.progress_status=i.default.UPLOAD_STATUS.UPLOADED,o.default.emit("UploadedCode"),r.default.isFunction(t)&&t());return n}}},E=function(e){var t=Mscratch.instance.extensions.getEditingTarget();if(t&&t.config.shouldConnect&&t.config.shouldConnect.length||!t.config.shouldConnect){var a=!0,r=!1,i=void 0;try{for(var u,s=(0,n.default)(t.config.shouldConnect);!(a=(u=s.next()).done);a=!0){if("hid"===u.value)return clearInterval(f),!1}}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}}var l=0,c=0;clearInterval(f),f=setInterval(function(){var t=e.payload.progress_percent;if(100!==t)return l>5?(clearInterval(f),void o.default.emit("UploadCodeFail")):void(c!==t?c=t:l++);clearInterval(f)},1e3)};t.default={uploadFirmwarePrepare:h,uploadFirmwareProgress:function(e){return{type:s,payload:{progress_status:i.default.UPLOAD_STATUS.PROCESSING,progress_percent:e}}},uploadFirmwareFinished:function(){return{type:s,payload:{progress_status:i.default.UPLOAD_STATUS.UPLOADED,progress_percent:100}}},uploadFirmwareFail:function(){return{type:s,payload:{progress_status:i.default.UPLOAD_STATUS.FAILED,progress_percent:0}}},uploadCodePrepare:function(){return p(l)},uploadCode:function(){var e=m(c);return function(t){t(e.state)}},uploadCodeFail:function(){var e=p(c);return e.payload.progress_status=i.default.UPLOAD_STATUS.FAILED,function(t){t(e)}},uploadCodeProgress:function(e,t){var a=m(d);return e?a.result(e):a.result(null,t)}}},265:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=i(a(1556));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"getPlatform",value:function(){return o.default.os.family}},{key:"isChromeOS",get:function(){return o.default.os.family.indexOf("Chrome OS")>-1}}]),e}();t.default=new u},266:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={FN_PROTOCOL:"http://www.makeblock.com/terms/",ZH_PROTOCOL:"http://www.makeblock.com/cn/agreement/"}},294:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dialogMap=t.default=void 0;var n=u(a(1)),r=u(a(20)),o=u(a(1409)),i=u(a(165));function u(e){return e&&e.__esModule?e:{default:e}}var s={};t.default=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=s[e];if(!u){var l=function(e,t){var a=null,u=n.default.createElement(o.default,{config:t,formatMessage:i.default,ref:function(t){a=s[e]={open:t.open.bind(t),show:t.show.bind(t),close:t.close.bind(t)}}}),l=document.createElement("section");return l.setAttribute("id",e),document.body.appendChild(l),r.default.render(u,l),a}(e,t);if(!l)return;u=l}return!0===a&&u.open(t),u},t.dialogMap=s},295:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackEvent=t.trackPage=t.setUid=t.setLanguage=void 0;var n=d(a(39)),r=d(a(73)),o=d(a(2)),i=d(a(7)),u=d(a(21)),s=d(a(48)),l=d(a(15)),c=d(a(1410));function d(e){return e&&e.__esModule?e:{default:e}}var f,p=new(function(){function e(t,a){(0,o.default)(this,e),this.trackingId=t,this.gaVersion=1,this.baseUrl="https://www.google-analytics.com",this.debugUrl="/debug",this.collectUrl="/collect",this.batch="/batch",this.config(a)}return(0,i.default)(e,[{key:"setCid",value:function(e){return this.cid=e}},{key:"setDebug",value:function(e){this.debug=e}},{key:"setUid",value:function(e){this.uid=e}},{key:"setAppName",value:function(e){this.appName=e}},{key:"setAppVersion",value:function(e){this.appVersion=e}},{key:"setLanguage",value:function(e){this.language=e}},{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debug:!1,uid:null,appName:"",appVersion:"",language:""};this.setDebug(e.debug),this.setUid(e.uid),this.setAppName(e.appName),this.setAppVersion(e.appVersion),this.setLanguage(e.language)}},{key:"url",value:function(){return this.debug?""+this.baseUrl+this.debugUrl+this.collectUrl:""+this.baseUrl+this.collectUrl}},{key:"params",value:function(){var e={v:this.gaVersion,tid:this.trackingId,cid:this.cid,ul:this.language,an:this.appName,av:this.appVersion};return this.uid&&(e.uid=this.uid),e}},{key:"send",value:function(e){if(this.debug,e&&this.trackingId&&navigator.onLine){var t=(0,r.default)(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");fetch(new Request(this.url(),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:t}))}}},{key:"screenview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.send((0,n.default)(this.params(),t,{t:"screenview",cd:e}))}},{key:"event",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.send((0,n.default)(this.params(),a,{t:"event",ec:e,ea:t}))}}]),e}())("UA-111711661-1",{debug:!1,appName:"mblock",appVersion:u.default.appVersion,language:s.default.get(l.default.INTL_LANG_KEY)||navigator.language,uid:(f=s.default.get(l.default.USER_INFO_KEY),f&&f.id?f.id:null)});window.MbApi&&window.MbApi.machineId?window.MbApi.machineId({original:!0}).then(function(e){return p.setCid((t=e,(a=new c.default("SHA-1","TEXT")).update(t),a.getHash("HEX")));var t,a}):p.setCid("debug");t.setLanguage=p.setLanguage,t.setUid=p.setUid,t.trackPage=function(e,t){p.screenview(e,t)},t.trackEvent=function(e,t,a){p.event(e,t,a)}},296:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VISIBLE_CHANGE=t.SET_OPERATE_STATUS=void 0;var n,r=a(11),o=(n=r)&&n.__esModule?n:{default:n};var i=t.SET_OPERATE_STATUS="SET_OPERATE_STATUS";t.VISIBLE_CHANGE="VISIBLE_CHANGE";t.default={setOperate:function(e){return{type:i,payload:{operate:e}}},visibleChange:function(e,t){return{type:i,payload:(0,o.default)({},e,t)}}}},301:function(e,t,a){e.exports=a(31)(209)},306:function(e,t,a){e.exports=a(31)(89)},307:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=i(a(63));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,a){o.default.instance.logger&&o.default.instance.logger[e](t,a)},s=new(function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u("log",e,t)}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u("info",e,t)}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u("info",e,t)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u("info",e,t)}},{key:"trace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u("info",e,t)}},{key:"debug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u("info",e,t)}}]),e}());t.default=s},31:function(e,t){e.exports=mdll},32:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isWindows=exports.getInternational=exports.isInternational=exports.getBuildVersion=exports.getVersion=exports.isChrome=exports.isWebkit=exports.getVendorPrefix=exports.isLocal=exports.isForExt=exports.isElectron=exports.isWeb=void 0;var _lodash=__webpack_require__(12),_lodash2=_interopRequireDefault(_lodash),_store=__webpack_require__(48),_store2=_interopRequireDefault(_store),_util=__webpack_require__(18),_constant=__webpack_require__(15),_constant2=_interopRequireDefault(_constant);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var isWeb=exports.isWeb=function(){return!_lodash2.default.has(window,"window.MbApi.file")},isElectron=exports.isElectron=function(){return _lodash2.default.has(window,"window.MbApi.electron")},isForExt=exports.isForExt=function(){var e=!1;return"undefined"!=typeof FOREXT&&!0===FOREXT&&(e=!0),e},isLocal=exports.isLocal=function(){var e=window.location.hostname;return-1===["test.ide.makeblock.com","testide.makeblock.com","ide.makeblock.com","ext.mblock.makeblock.com","ide.mblock.cc","ext.mblock.cc","testide.mblock.cc"].indexOf(e)},getVendorPrefix=exports.getVendorPrefix=function(){for(var e=(document.body||document.documentElement).style,t=["webkit","khtml","moz","ms","o"],a=0;a<t.length;){if("string"==typeof e[t[a]+"Transition"])return t[a];a++}},isWebkit=exports.isWebkit=function(){return"webkit"===getVendorPrefix()},isChrome=exports.isChrome=function(){var e=navigator.userAgent.toLocaleLowerCase();return(e.indexOf("chrome")>-1||e.indexOf("crios")>-1)&&e.indexOf("safari")>-1},getVersion=exports.getVersion=function(){return"5.1.1"},getBuildVersion=exports.getBuildVersion=function(){return"5.1.1"},isInternational=exports.isInternational=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!isLocal()&&-1!==window.location.host.indexOf("mblock.cc")},getInternational=exports.getInternational=function(){return isInternational()?"en":"zh"},_handleIntrlEnvFromPc=function _handleIntrlEnvFromPc(){var localeInternational=_store2.default.get(_constant2.default.INTERNATIONAL_VERSION);if(!_lodash2.default.isNull(localeInternational))return eval(localeInternational);var localeLangKey=_store2.default.get(_constant2.default.INTL_LANG_KEY);if(localeLangKey)return"zh"!==localeLangKey;var intlLang=(0,_util.getNavigatorLang)();return"zh"!==intlLang},isWindows=exports.isWindows=function(){return"Win32"===navigator.platform}},323:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONNECT_TYPE={SERIAL:"serialport",BLE:"ble",HID:"hid",WIRELESS:"wireless"},t.CONNECT_STATUS={IDLE:"idle",CONNECTED:"connected",NOT_CONNECTED:"not_connected",NOT_SERVICE:"not_server",CONNECTING:"connecting",CONNECT_SUCCESS:"connect_success",CONNECT_FAIL:"connect_fail",CONNECT_ERROR:"connect_error",CONNECT_TIMEOUT:"connect_timeout",CONNECT_CANCEL:"connect_cancel"},t.SCAN_STATUS={SCAN_READY:"scan_ready",SCANNING:"scanning",SCAN_SUCCESS:"scan_success",SCAN_FAIL:"scan_fail",SCAN_TIMEOUT:"scan_timeout",SCAN_CANCEL:"scan_cancel"},t.CH340={PRODUCT_ID:29987,VERDOR_ID:6790}},332:function(e,t,a){e.exports=a(31)(42)},35:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(40)),r=l(a(2)),o=l(a(7)),i=l(a(12)),u=l(a(19)),s=l(a(21));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"has",value:function(e){return i.default.has(window,"window.MbApi."+e)}},{key:"openLink",value:function(e,t){t&&(e&&e.preventDefault(),this.has("openLink")?window.MbApi.openLink(t):window.open(t))}},{key:"select",value:function(e){if(this.has("file"))return window.MbApi.file.select(e)}},{key:"read",value:function(e,t){return this.has("file")?window.MbApi.file.open(e,t):n.default.reject({msg:"not in electron"})}},{key:"searchExistByJson",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3];return t=t||[],this.has("file")?window.MbApi.file.searchExistByJson(e,t,a,r):n.default.reject({msg:"not in electron"})}},{key:"searchExistInJson",value:function(e,t){return this.has("file")?window.MbApi.file.searchExistInJson(e,t):n.default.reject({msg:"not in electron"})}},{key:"save",value:function(e,t,a){return this.has("file")?window.MbApi.file.save(t,e,a):n.default.reject({msg:"not in electron"})}},{key:"uncompress",value:function(e){return this.has("file")?window.MbApi.file.uncompress(e):n.default.reject({msg:"not in electron"})}},{key:"rename",value:function(e,t){return this.has("file")?window.MbApi.file.rename(e,t):n.default.reject({msg:"not in electron"})}},{key:"write",value:function(e,t){return this.has("file")?window.MbApi.file.write(e,t):n.default.reject({msg:"not in electron"})}},{key:"writeJson",value:function(e,t){return this.has("file")?window.MbApi.file.writeJson(e,t):n.default.reject({msg:"not in electron"})}},{key:"stat",value:function(e){return this.has("file")?window.MbApi.file.stat(e):n.default.reject({msg:"not in electron"})}},{key:"uploadToLocal",value:function(e,t,a){return this.has("file")?window.MbApi.file.uploadToLocal(e,t,a):n.default.reject({msg:"not in electron"})}},{key:"removeFromLocal",value:function(e){return this.has("file")?window.MbApi.file.removeFromLocal(e):n.default.reject({msg:"not in electron"})}},{key:"closeWindow",value:function(){this.has("closeWindow")&&window.MbApi.closeWindow()}},{key:"restart",value:function(){this.has("restart")&&window.MbApi.restart()}},{key:"locationPathname",value:function(){return this.has("locationPathname")?(location.origin+"/"+window.MbApi.locationPathname()+"\\auth.html").replace(/\\/g,"/"):location.origin+"/auth.html"}},{key:"onReady",value:function(){this.has("onReady")&&window.MbApi.onReady()}},{key:"md5",value:function(e){return this.has("file")?window.MbApi.file.md5(e):n.default.reject({msg:"not in electron"})}},{key:"abortDownload",value:function(e){return this.has("file")?window.MbApi.file.abortDownload(e):n.default.reject({msg:"not in electron"})}},{key:"downloadFile",value:function(e,t,a,r){return this.has("file")?window.MbApi.file.downloadFile(e,t,a,r):n.default.reject({msg:"not in electron"})}},{key:"saveDialog",value:function(e){if(this.has("file"))return window.MbApi.file.saveDialog(e)}},{key:"copy",value:function(e,t){return this.has("file")?window.MbApi.file.copy(e,t):n.default.reject({msg:"not in electron"})}}]),e}();t.default=c,c.has("file")&&(s.default.userSpriteBasepath=window.MbApi.file.userSpritePath,s.default.userSpriteFilePath=s.default.userSpriteBasepath,s.default.userProjectBasepath=window.MbApi.file.userProjectPath,s.default.userProjectFilePath=s.default.userProjectBasepath,s.default.userCoverImageBasepath=window.MbApi.file.userCoverImagePath,s.default.userCoverImageFilePath=s.default.userCoverImageBasepath,s.default.extDirPath=window.MbApi.file.extDirPath,s.default.langDirPath=window.MbApi.file.langDirPath,s.default.userTempPath=window.MbApi.file.userTempPath,s.default.appRootPath=window.MbApi.file.appRootPath,window.MbApi.file.addListeners(u.default)),c.has("shortcutkey")&&window.MbApi.shortcutkey(u.default)},36:function(e,t,a){e.exports=a(31)(0)},371:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onImport=t.onExport=t.onSave=t.onOpen=t.onNew=void 0;var n=E(a(38)),r=E(a(23)),o=E(a(25)),i=(E(a(12)),E(a(19))),u=E(a(63)),s=E(a(16)),l=E(a(35)),c=a(18),d=E(a(88)),f=E(a(81)),p=E(a(15)),h=E(a(48)),m=E(a(82));function E(e){return e&&e.__esModule?e:{default:e}}var v;t.onNew=function(){"/"!=s.default.location.pathname&&f.default.setSaved(),i.default.emit("NewProject")},t.onOpen=(v=(0,o.default)(r.default.mark(function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.default.emit("OpenProject",t,a,n);case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return v.apply(this,arguments)}),t.onSave=function(e){i.default.emit("SaveProject",e)},t.onExport=function(){i.default.emit("ExportProject",{},"web")},t.onImport=function(){i.default.emit("ImportProject")};t.default=function(){var e,t,a,E,v,T=(e=(0,o.default)(r.default.mark(function e(t,a,n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.Strategy(m.default,"web").openProject(t,a,n);case 2:case"end":return e.stop()}},e,void 0)})),function(t,a,n){return e.apply(this,arguments)}),S=(t=(0,o.default)(r.default.mark(function e(t){var a,o,i,u,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fs",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments[3];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="web"===m.default.getState().env.env?"web":s,e.prev=2,e.next=5,d.default.Strategy(m.default,s).SaveProject(t,l,c);case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),a=m.default.getState(),o=a.intlr,i=o.messages,u=i["EXPORT.FAIL.MSG"],e.t0.matchStr?n.default.error(e.t0.matchStr+i["RENAME.ERR.KEY.MSG"]):e.t0.msg?n.default.error(i[e.t0.msg]):n.default.error(u);case 13:case"end":return e.stop()}},e,void 0,[[2,7]])})),function(e){return t.apply(this,arguments)}),y=(a=(0,o.default)(r.default.mark(function e(t,a,n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.Strategy(m.default,a).exportProject(t,n);case 2:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return a.apply(this,arguments)}),g=(E=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d.default.Strategy(m.default,"web").importProject(t);case 1:case"end":return e.stop()}},e,void 0)})),function(e){return E.apply(this,arguments)}),N=(v=(0,o.default)(r.default.mark(function e(t,a){var n,o,i,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.default.instance.stop(),n="web"===m.default.getState().env.env?"web":"fs",o=m.default.getState(),i=o.project,s=i.projectType,i.filePath,!t){e.next=11;break}return m.default.dispatch(d.default.confirmType(a)),e.next=8,S(!1,"web",l);case 8:m.default.dispatch(d.default.saved({projectType:s})),e.next=12;break;case 11:f.default.setSaved();case 12:d.default.Strategy(m.default,n).savedFinishExec(a);case 13:case"end":return e.stop()}},e,void 0)})),function(e,t){return v.apply(this,arguments)});i.default.on("ConfirmToSave",N),i.default.on("LoadExample",function(e,t){var a="web"===m.default.getState().env.env?"web":"fs";d.default.Strategy(m.default,a).loadExample(e,t)}),i.default.on("UpdateProjectFromUrl",function(){d.default.Strategy(m.default,"web").updateRemoteProjectFromUrl()}),i.default.on("NewProject",function(){var e="web"===m.default.getState().env.env?"web":"fs";d.default.Strategy(m.default,e).NewProject()}),i.default.on("DragAddProject",function(e){var t="web"===m.default.getState().env.env?"web":"yun";if(e instanceof File){var a=m.default.getState().intlr,r=(0,c.getFileSuffix)(e.name).toLowerCase();-1!==p.default.PROJECT_SUFFIX.indexOf(r)?d.default.Strategy(m.default,t).dragAddProject(e):n.default.error("『 "+e.name+" 』 "+a.messages["IMPORT.FORMAT.ERROR.MSG"]+" ")}}),i.default.on("DragOpenFile",function(e){if(e instanceof File){var t=m.default.getState().intlr,a=(0,c.getFileSuffix)(e.name),i=a.toLowerCase();if(-1!==p.default.PROJECT_SUFFIX.indexOf(i))T(e,p.default.PROJECT_TYPE.LOCAL,{projectType:p.default.PROJECT_TYPE.LOCAL,file:e,filePath:e.path});else if("zip"===i){var s="exts/"+e.name.replace("."+a,"");l.default.uncompress({file:e,extractPath:s,onProgress:function(){},onFinish:(d=(0,o.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s+"/manifest.json").then(function(e){return e.json()});case 2:t=e.sent,u.default.instance.loadedExt(t);case 4:case"end":return e.stop()}},e,void 0)})),function(){return d.apply(this,arguments)}),onError:function(){}})}else n.default.error("『 "+e.name+" 』 "+t.messages["IMPORT.FORMAT.ERROR.MSG"]+" ")}var d}),i.default.on("OpenProject",T),i.default.on("SaveProject",S),i.default.on("RenameProject",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fs",a=arguments[2];d.default.Strategy(m.default,t).RenameProject(e,a)}),i.default.on("CopyProject",function(e,t){d.default.Strategy(m.default,"yun").copyProject(e,t)}),i.default.on("ImportProject",g),i.default.on("ExportProject",y),i.default.on("DeleteProject",function(e,t){var a="web"===m.default.getState().env.env?"web":"yun";d.default.Strategy(m.default,a).deleteProject(e,t)}),i.default.on("ShareProject",function(e,t){var a="web"===m.default.getState().env.env?"web":"yun";d.default.Strategy(m.default,a).shareProject(e,t)}),i.default.on("CancelShareProject",function(e,t){var a="web"===m.default.getState().env.env?"web":"yun";d.default.Strategy(m.default,a).cancelShareProject(e,t)}),i.default.on("RenameRuntime",function(e){m.default.dispatch(d.default.saved({name:e}))}),i.default.on("UpdateUploadStatus",function(e){m.default.dispatch(d.default.Upload(e))}),i.default.on("GetMyProjects",function(){d.default.Strategy(m.default,"web").getMyProjects()}),i.default.on("ReDownloadProject",function(e){var t="web"===m.default.getState().env.env?"web":"yun";d.default.Strategy(m.default,t).ReDownloadProject(e)}),i.default.on("Shortcutkey",function(e){var t=m.default.getState().project,a=t.name,n=t.filePath,r=!1;"save"===e&&"/"===s.default.location.pathname&&(r=!1,t.projectType===p.default.PROJECT_TYPE.LOCAL?y({filePath:n},"web"):S(r,"web",{name:a})),"saveas"===e&&"/"===s.default.location.pathname&&(r=!0,s.default.replace("/web/saveas"))}),i.default.on("ClearProjects",function(){var e="web"===m.default.getState().env.env?"web":"yun";d.default.Strategy(m.default,e).clearProjects()}),i.default.on("MscratchDidMount",function(){h.default.set(p.default.INSTALLED_EXT,[]),setTimeout(function(){f.default.setSaved()},1200)})}},377:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=i(a(673));function i(e){return e&&e.__esModule?e:{default:e}}var u=new(function(){function e(){for(var t in(0,n.default)(this,e),this.uploadDrivers={},this.middlewares={},this.firmwareDrivers={},o.default.drivers)this.uploadDrivers[t]=o.default.drivers[t];for(var a in o.default.upload.middlewares)this.middlewares[a]=o.default.upload.middlewares[a];for(var r in o.default.firmware)this.firmwareDrivers[r]=o.default.firmware[r]}return(0,r.default)(e,[{key:"addUploadDriver",value:function(e,t){this.uploadDrivers[e]=t}},{key:"getUploadDriver",value:function(e){return this.uploadDrivers[e]}},{key:"addFirmwareDriver",value:function(e,t){this.firmwareDrivers[e]=t}},{key:"getFirmwareDriver",value:function(e){return this.firmwareDrivers[e]}},{key:"addMiddleware",value:function(e,t){this.middlewares[e]=t}},{key:"getMiddleware",value:function(e){return this.middlewares[e]}}]),e}());t.default=u},378:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.OPEN="OPEN",r=t.CLOSE="CLOSE",o={show:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;switch(arguments[1].type){case n:return{show:!0};case r:return{show:!1};default:return e}},actions:{open:function(){return{type:n}},close:function(){return{type:r}}},intlInitialState:o}},379:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UPDATE="SPRITE_UPDATE",t.LIST="SPRITE_LIST",t.ADD="SPRITE_ADD",t.REMOVE="SPRITE_REMOVE",t.SELECTED="SPRITE_SELECTED",t.FILELIST="SPRITE_FILELIST",t.SPRITE_SAVE="SPRITE_SAVE",t.SPRITE_REMOVE_EXT="SPRITE_REMOVE_EXT",t.SPRITE_CLEAN_FILELIST="SPRITE_CLEAN_FILELIST",t.SPRITE_EDIT_MODE="SPRITE_EDIT_MODE",t.SPRITE_CHECKED="SPRITE_CHECKED",t.SPRITE_MERGE="SPRITE_MERGE",t.SPRITE_SEARCH="SPRITE_SEARCH",t.SPRITE_TYPE="SPRITE_TYPE",t.SPRITE_CLASSIFY_CHANGE="SPRITE_CLASSIFY_CHANGE",t.SPRITE_PAGINATION_CHANGE="SPRITE_PAGINATION_CHANGE"},392:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SAVED="SAVED",t.CONFIRM_TYPE="CONFIRM_TYPE",t.FILEPATH="FILEPATH",t.FILE="FILE",t.RENAME="RENAME",t.SYNC_PROJECTS="SYNC_PROJECTS",t.OPEN_PROJECT="OPEN_PROJECT",t.DOWNLOAD_PROJECT="DOWNLOAD_PROJECT",t.UPLOAD_PROJECT="UPLOAD_PROJECT",t.DELETE_PROJECT="DELETE_PROJECT",t.COPY_PROJECT="COPY_PROJECT",t.SHARE_PROJECT="SHARE_PROJECT",t.UPLOAD_COVERIMG="UPLOAD_COVERIMG",t.CLEAR_PROJECTS="CLEAR_PROJECTS",t.SEARCH="SEARCH",t.UPDATE_PRE_PROJECT_DATA_STRING="UPDATE_PRE_PROJECT_DATA_STRING",t.UPDATE_PROJECT_LOADED_STATE="UPDATE_PROJECT_LOADED_STATE",t.SAVE_NEXT_PROJECT_INFO="SAVE_NEXT_PROJECT_INFO",t.SELECTED_PROJECT_ID="SELECTED_PROJECT_ID"},393:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SAVED="SAVED",t.CHANGE_MODE="CHANGE_MODE",t.CHANGE_LOGIN_STATE="CHANGE_LOGIN_STATE",t.GET_USER_STATE="GET_USER_STATE",t.USER_LOGIN="USER_LOGIN",t.USER_LOGOUT="USER_LOGOUT",t.USER_REGISTER="USER_REGISTER",t.USER_FINDPWD="USER_FINDPWD",t.GET_VALID_CODE="GET_VALID_CODE",t.GET_URL_TOKEN="GET_URL_TOKEN",t.SAVE_EMAILNUM="SAVE_EMAILNUM",t.CHECK_EMAILNUM="CHECK_EMAILNUM",t.USER_UPDATEPWD="USER_UPDATEPWD",t.CHECK_CODE_REQUEST="CHECK_CODE_REQUEST",t.CHECK_CODE="CHECK_CODE",t.CHECK_OLDPWD_REQUEST="CHECK_OLDPWD_REQUEST",t.CHECK_OLDPWD="CHECK_OLDPWD",t.UPDATEPWD_REQUEST="UPDATEPWD_REQUEST",t.UPDATEPWD="UPDATEPWD",t.SET_OVERAGE="SET_OVERAGE"},406:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(7)),o=i(a(1550));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){var t=this;(0,n.default)(this,e),this.messageHandleMap={},this.client=o.default.runtime.client,o.default.runtime.addDataListener(function(e){t.messageHandleMap[e.connectType+"."+e.method]&&t.messageHandleMap[e.connectType+"."+e.method](e)})}return(0,r.default)(e,[{key:"getConnected",value:function(){return o.default.runtime.establishChannel()}},{key:"close",value:function(){o.default.runtime.close()}},{key:"createListeners",value:function(e,t,a){this.messageHandleMap[e+"."+t]=a}},{key:"destroyListeners",value:function(e,t){this.messageHandleMap[e+"."+t]&&(this.messageHandleMap[e+"."+t]=null,delete this.messageHandleMap[e+"."+t])}},{key:"sendMessage",value:function(e,t){o.default.runtime.sendMessage(e,t)}},{key:"addConnectListener",value:function(e){o.default.runtime.addConnectListener(e)}},{key:"addDisconnectListener",value:function(e){o.default.runtime.addDisconnectListener(e)}}]),e}();t.default=new u},408:function(e,t,a){"use strict";(function(e){t.parse=function(t,a){t instanceof e&&(t=t.toString("ascii"));for(var n=new e(a||8192),r=0,o=0,i=null,u=null,s=0,l=0;l+11<=t.length;){if(":"!=t.charAt(l++))throw new Error("Line "+(s+1)+" does not start with a colon (:).");s++;var c=parseInt(t.substr(l,2),16);l+=2;var d=parseInt(t.substr(l,4),16);l+=4;var f=parseInt(t.substr(l,2),16);l+=2;var p=t.substr(l,2*c),h=new e(p,"hex");l+=2*c;var m=parseInt(t.substr(l,2),16);l+=2;for(var E=c+(d>>8)+d+f&255,v=0;v<c;v++)E=E+h[v]&255;if(m!=(E=256-E&255))throw new Error("Invalid checksum on line "+s+": got "+m+", but expected "+E);switch(f){case 0:var T=o+d;if(T+c>=n.length){var S=new e(2*(T+c));n.copy(S,0,0,r),n=S}T>r&&n.fill(255,r,T),h.copy(n,T),r=Math.max(r,T+c);break;case 1:if(0!=c)throw new Error("Invalid EOF record on line "+s+".");return{data:n.slice(0,r),startSegmentAddress:i,startLinearAddress:u};case 2:if(2!=c||0!=d)throw new Error("Invalid extended segment address record on line "+s+".");o=parseInt(p,16)<<4;break;case 3:if(4!=c||0!=d)throw new Error("Invalid start segment address record on line "+s+".");i=parseInt(p,16);break;case 4:if(2!=c||0!=d)throw new Error("Invalid extended linear address record on line "+s+".");o=parseInt(p,16)<<16;break;case 5:if(4!=c||0!=d)throw new Error("Invalid start linear address record on line "+s+".");u=parseInt(p,16);break;default:throw new Error("Invalid record type ("+f+") on line "+s)}"\r"==t.charAt(l)&&l++,"\n"==t.charAt(l)&&l++}throw new Error("Unexpected end of input: missing or invalid EOF record.")}}).call(this,a(26).Buffer)},410:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),r=i(a(113)),o=a(32);function i(e){return e&&e.__esModule?e:{default:e}}t.default=new function e(){(0,n.default)(this,e),this.domain=r.default.domainconfig.extservice[(0,o.getInternational)()];var t={getLocalExtList:{method:"get",local:!0,loadJosn:!0,url:":extDirName/:fileName"},list:{domain:r.default.domainconfig.ext,method:"post",url:"ext/list?pageNumber=:pageNumber&pageSize=:pageSize"},getNewRemoteExtList:{method:"get",url:"api/mblock/:mblockVersion/ext/:type",domain:this.domain},getExtVersionList:{method:"get",url:"api/mblock/:mblockVersion/extApi/supportVersion",domain:this.domain}};r.default.configToRequestAction.call(this,t,r.default)}},42:function(e,t,a){e.exports=a(31)(1)},437:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(708)),r=o(a(1568));function o(e){return e&&e.__esModule?e:{default:e}}var i=void 0;i=!0===window.IS_PREVIEW_EXTENSION?new r.default:new n.default,t.default=i},438:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(2)),r=s(a(7)),o=s(a(113)),i=s(a(15)),u=s(a(21));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,n.default)(this,e),this.domain=o.default.domainconfig.passport2;var t={clientdevice:"system/"+window.navigator.userAgent+";version/"+u.default.appVersion},a={get_findpwd_code:{method:"post",url:"v1/code/findpwd",header:t},register:{method:"post",url:"v1/user/emailregisternocode",header:t},login:{method:"post",url:"v1/user/login",header:t},logout:{method:"post",url:"v1/user/logout",header:t},resetpwd:{method:"post",url:"v1/email/resetpwd",header:t},get_account:{method:"post",url:"v1/user/getbyutoken",redirectLogin:!1,header:t},geturltoken:{method:"post",url:"v1/user/geturltoken",header:t},check_account:{method:"post",url:"v1/account/check",header:t},updatepwd:{method:"post",url:"v1/account/changepwd",header:t},check_validCode:{method:"post",url:"v1/code/findpwd/check",header:t},check_oldPwd:{method:"post",url:"v1/account/checkpwd",header:t},delete_account:{method:"post",url:"v1/user/drop",header:t},accesstoken:{method:"post",url:"v1/api/getaccesstoken",header:t}};this.saveUserInfo=function(e){e.token&&(o.default.store.set(i.default.USER_ACCESS_TOKEN_KEY,e.token),o.default.store.set(i.default.USER_ACCESS_UTOKEN_KEY,e.token)),e.user&&(o.default.store.set(i.default.USER_INFO_KEY,e.user),o.default.store.get(i.default.INTERNATIONAL_VERSION)||o.default.store.set(i.default.INTERNATIONAL_VERSION,e.user.intl))},o.default.configToRequestAction.call(this,a,o.default)}return(0,r.default)(e,[{key:"saveUserInfoToLocal",value:function(e){e.token&&(o.default.store.set(i.default.USER_ACCESS_TOKEN_KEY,e.token),o.default.store.set(i.default.USER_ACCESS_UTOKEN_KEY,e.token)),e.user&&(o.default.store.set(i.default.USER_INFO_KEY,e.user),o.default.store.get(i.default.INTERNATIONAL_VERSION)||o.default.store.set(i.default.INTERNATIONAL_VERSION,e.user.intl))}},{key:"removeUserinfoToLocal",value:function(){o.default.store.remove(i.default.USER_INFO_KEY),o.default.store.remove(i.default.USER_ACCESS_TOKEN_KEY)}},{key:"getUserInfoToLocal",value:function(){var e=o.default.store.get(i.default.USER_INFO_KEY),t=o.default.store.get(i.default.USER_ACCESS_TOKEN_KEY);return{data:{data:e,token:t,isLogin:Boolean(t&&e)}}}},{key:"getUserToken",value:function(){return o.default.store.get(i.default.USER_ACCESS_UTOKEN_KEY)||o.default.store.get(i.default.USER_ACCESS_TOKEN_KEY)}}]),e}();t.default=new l},439:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStoreLang=t.getStoreLang=t.fetchLangManifest=t.enMessages=t.zhMessages=t.LOCAL_LANG_ROOT=t.APP_LANG_ROOT=t.mscratchId=t.projectId=void 0;var n=c(a(23)),r=c(a(25)),o=c(a(39)),i=c(a(21)),u=c(a(15)),s=c(a(48)),l=a(32);function c(e){return e&&e.__esModule?e:{default:e}}t.projectId="mblock5-i18n",t.mscratchId="mscratch-i18n",t.APP_LANG_ROOT="./langs";var d,f=t.LOCAL_LANG_ROOT=i.default.langDirPath;t.zhMessages=(0,o.default)({},a(1807),a(1806),a(1805),a(1804),a(1803),a(1802),a(1801),a(1800),a(1799),a(1798),a(1797),a(1796)),t.enMessages=(0,o.default)({},a(1795),a(1794),a(1793),a(1792),a(1791),a(1790),a(1789),a(1788),a(1787),a(1786),a(1785),a(1784)),t.fetchLangManifest=(d=(0,r.default)(n.default.mark(function e(){var t,a,r,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a=(0,l.isElectron)()?f+"/manifest.json":"langs/manifest.json",r=null,e.prev=5,e.next=8,fetch(a);case 8:if(!(o=e.sent)||!o.ok){e.next=13;break}return e.next=12,o.json();case 12:r=e.sent;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5);case 18:return r&&r.version&&(t=r),e.abrupt("return",t);case 21:case"end":return e.stop()}},e,void 0,[[5,15]])})),function(){return d.apply(this,arguments)}),t.getStoreLang=function(){return s.default.get(u.default.INTL_LANG_KEY)},t.setStoreLang=function(e){s.default.set(u.default.INTL_LANG_KEY,e)}},440:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),r=u(a(7)),o=u(a(711)),i=a(32);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,n.default)(this,e),this.synonymMaps={Token:"utoken"}}return(0,r.default)(e,[{key:"set",value:function(e,t){return this.remove(e),o.default.set(e,t,this.config),this.synonymMaps[e]&&o.default.set(this.synonymMaps[e],t,this.config),!0}},{key:"get",value:function(e){var t=o.default.get(e)||this.synonymMaps[e]&&o.default.get(this.synonymMaps[e]);try{return JSON.parse(t)}catch(e){return t}}},{key:"remove",value:function(e){return o.default.remove(e,this.config),this.synonymMaps[e]&&o.default.remove(this.synonymMaps[e],this.config),!0}},{key:"clear",value:function(){}},{key:"config",get:function(){var e=(0,i.isInternational)()?"mblock.cc":"makeblock.com";return(0,i.isLocal)()?{}:{domain:e,expires:365}}}]),e}();t.default=new s},441:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGIN_AVAILABLE_BLOCKS=["iot.ifttt_pub","iot.ifttt_recv","iot.iot_connect_network_new","iot.data_addtolist_cloudlist","iot.data_itemoflist_cloudlist","iot.data_lengthoflist_cloudlist","iot.iot_connect_network","iot.iot_if_connect_network","iot.iot_air","iot.iot_sun","iot.iot_weather","cognitive.beginSpeechToText","cognitive.speechToTextResult","cognitive.beginFaceDetection","cognitive.faceDetectionResult","cognitive.beginEmotionRecognition","cognitive.emotionValue","cognitive.emotionType","cognitive.beginImageToText","cognitive.beginHandwrittenToText","cognitive.imageToTextResult"],t.LOGIN_BLOCKS_BELONGTO_EXT=["cognitive","iot"]},442:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UPLOAD_STATUS={READY:"ready",UPLOADED:"uploaded",DONE:"done",FAILED:"failed",PROCESSING:"processing",COMPILING:"compiling",COMPILE_FAILED:"compileFailed"}},443:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CODEY:"codey",MICROBIT:"microbit",NEURON:"neuron",MCORE:"mcore",AURIGA:"auriga"}},444:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={USER_ACCESS_TOKEN_KEY:"Token",USER_ACCESS_ACCESSTOKEN_KEY:"accesstoken",USER_ACCESS_UTOKEN_KEY:"utoken",USER_INFO_KEY:"User",CONNECT_DEVICE_KEY:"ConnectDevice",CONNECT_DEVICE_ID_KEY:"ConnectDeviceId",LAST_CONNECT_TYPE_KEY:"ConnectType",INTL_LANG_KEY:"IntlLang",FEEDBACK_CACHE_KEY:"Feedback",REMIND_UPDATE:"RemindUpdate",IGNORE_UPDATE_VERSIONS:"IgnoreUpdateVersions",LOADED_EXTENSIONS:"LoadedExtensions",INSTALLED_EXT:"InstalledExtensions",INTERNATIONAL_VERSION:"InternationalVersion",DEFAULT_DEVICE:"DefaultDevice"}},470:function(e,t,a){e.exports=a(31)(58)},48:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(12)),r=i(a(249)),o=i(a(440));function i(e){return e&&e.__esModule?e:{default:e}}var u=r.default;n.default.has(window,"window.MbApi.file")||(u=o.default),t.default=u},480:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(143)),r=v(a(23)),o=v(a(39)),i=v(a(25)),u=v(a(2)),s=v(a(7)),l=v(a(21)),c=v(a(151)),d=v(a(15)),f=a(18),p=v(a(82)),h=v(a(35)),m=v(a(12)),E=a(32);function v(e){return e&&e.__esModule?e:{default:e}}var T=a(118),S=T.join(l.default.appRootPath,"langs"),y={Lastest:0,ToUpdate:1,Updated:2},g={None:0,Downloading:1},N=(y.Lastest,g.None,new(function(){function e(){(0,u.default)(this,e),this.instance=null,this.manifest={updateStatus:y.ToUpdate,downloadStatus:g.Downloading}}return(0,s.default)(e,[{key:"initLangDir",value:function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,E.isElectron)()){e.next=3;break}return this.updateLangNames(),e.abrupt("return");case 3:return e.next=6,this.getAppManifest();case 6:return this.appManifest=e.sent,e.next=9,this.getLocalManifest();case 9:if(this.localManifest=e.sent,this.localManifest&&!((0,f.calVersion)(this.appManifest.version)>(0,f.calVersion)(this.localManifest.version))){e.next=30;break}return this.localManifest=this.appManifest,e.prev=14,e.next=17,h.default.copy(T.join(S),T.join(l.default.langDirPath));case 17:return e.next=20,this.saveManifestToLocal((0,o.default)(this.appManifest,this.manifest));case 20:this.updateCurrentLangData(),this.updateLangNames(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(14);case 28:e.next=32;break;case 30:this.updateLangNames();case 32:case"end":return e.stop()}},e,this,[[14,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"checkUpdate",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t,a=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,this.updateDownloadStatus(d.default.LANG_DOWNLOAD_STATUS.DOING),this.updateLatestStatus(!1),(0,f.isOnline)()){e.next=9;break}return this.updateDownloadStatus(d.default.LANG_DOWNLOAD_STATUS.FAILURE),e.next=8,this.abortChecking();case 8:return e.abrupt("return");case 9:setTimeout((0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.checkTimeout(),e.next=3,t.checkIsLatest();case 3:if(!e.sent){e.next=10;break}t.updateLatestStatus(!0),clearInterval(t.interval),e.next=13;break;case 10:return e.next=13,t.compare();case 13:case"end":return e.stop()}},e,a)})),1e3);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"abortChecking",value:function(){clearInterval(this.interval),this.abortDownloadLang()}},{key:"checkIsLatest",value:function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLocalManifest();case 2:return this.localManifest=e.sent,e.next=5,this.getRemoteManifest();case 5:if(this.remoteManifest=e.sent,(0,f.calVersion)(this.localManifest.version)!==(0,f.calVersion)(this.remoteManifest.version)){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"compare",value:function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.needUpdate(this.appManifest,this.localManifest)){e.next=5;break}return e.next=5,this.syncRemoteLangToLocal();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"syncRemoteLangToLocal",value:function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.downloadLang(function(e){});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"needUpdate",value:function(e,t){return(0,f.calVersion)(e.version)!==(0,f.calVersion)(t.version)}},{key:"downloadLang",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var a,n=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateDownloadStatus(d.default.LANG_DOWNLOAD_STATUS.DOING),a=T.join(l.default.langDirPath,"temp","i18n.zip"),this.downloadId=(new Date).getTime();try{h.default.downloadFile(this.remoteManifest.fileUrl,a,this.downloadId,function(){var e=(0,i.default)(r.default.mark(function e(o,i){var u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=o){e.next=14;break}if(n.manifest.progress=i.percent,t&&t({percent:i.percent}),100!=i.percent){e.next=12;break}return e.next=6,(0,f.checkMd5ForFile)(a,n.manifest.fileMd5);case 6:if(!e.sent){e.next=11;break}u=T.join(l.default.langDirPath,"temp","i18n"),h.default.uncompress({filePath:a,extractPath:u,onError:function(e){n.downloadFail("uncompress error:"+e)},onFinish:function(e){n.processUncompress(e,function(e){e&&n.downloadFail(),n.downloadComplete()},!1)}}),e.next=12;break;case 11:n.downloadFail("download file incomplete");case 12:e.next=15;break;case 14:n.downloadFail();case 15:case"end":return e.stop()}},e,n)}));return function(t,a){return e.apply(this,arguments)}}())}catch(e){this.downloadFail(e)}case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"downloadComplete",value:function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(this.interval),this.updateDownloadStatus(d.default.LANG_DOWNLOAD_STATUS.SUCCESS),e.next=4,this.saveManifestToLocal((0,o.default)(this.remoteManifest,this.manifest));case 4:this.updateLangNames(),this.updateCurrentLangData();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"downloadFail",value:function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(this.interval),this.updateDownloadStatus(d.default.LANG_DOWNLOAD_STATUS.FAILURE),this.saveManifestToLocal(this.localManifest);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"abortDownloadLang",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.updateDownloadStatus(d.default.LANG_DOWNLOAD_STATUS.FAILURE),e.next=3,h.default.abortDownload(this.downloadId);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkTimeout",value:function(){var e=this;var t=1;clearInterval(this.interval),this.interval=setInterval(function(){t>10&&(clearInterval(e.interval),e.abortChecking()),t++},1e3)}},{key:"processUncompress",value:function(){var e=(0,i.default)(r.default.mark(function e(t,a){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=T.join(l.default.langDirPath,"i18n"),e.prev=1,e.next=4,h.default.copy(t,n);case 4:return a&&a(null),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(1),a&&a(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"validateManifest",value:function(e){return!0}},{key:"getRemoteManifest",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t,a,n,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={version:"v0.0.0"},a=(0,E.getVersion)(),n=l.default.domain.extservice+"api/langInfo/mblock-pc/"+a+"/latest",e.next=5,fetch(n).then(function(e){return e.json()});case 5:return 0===(o=e.sent).code?t=o.data:(this.downloadFail(),t=this.localManifest),e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAppManifest",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t,a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.join(S,"manifest.json"),e.next=3,h.default.read(t);case 3:if(a=e.sent,!m.default.has(a,"data")){e.next=8;break}return n=a.data,e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getLocalManifest",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t,a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.join(l.default.langDirPath,"manifest.json"),e.next=3,h.default.searchExistByJson(t);case 3:if(e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,h.default.read(t);case 7:if(a=e.sent,!m.default.has(a,"data")){e.next=14;break}return n=a.data,e.abrupt("return",n);case 14:return e.abrupt("return",{version:"v0.0.0"});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveManifestToLocal",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,a=T.join(l.default.langDirPath,"manifest.json"),e.next=5,h.default.write(a,(0,n.default)(t||[]));case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"updateDownloadStatus",value:function(e){p.default.dispatch(c.default.strategy().updateDownloadStatus(e)),e===d.default.LANG_DOWNLOAD_STATUS.DOING?(this.manifest.downloadStatus=g.Downloading,this.manifest.updateStatus=y.ToUpdate):e===d.default.LANG_DOWNLOAD_STATUS.SUCCESS?(clearInterval(this.interval),this.manifest.downloadStatus=g.None,this.manifest.updateStatus=y.Updated):this.manifest.downloadStatus=g.None}},{key:"updateLatestStatus",value:function(e){p.default.dispatch(c.default.strategy().updateLatestStatus(e)),e&&(this.manifest.updateStatus=y.Lastest)}},{key:"updateLangNames",value:function(){setTimeout(function(){p.default.dispatch(c.default.updateSupportedLangNames())},500)}},{key:"updateCurrentLangData",value:function(){setTimeout(function(){var e=p.default.getState().intlr.langKey;p.default.dispatch(c.default.change(e))},500)}}]),e}()));t.default=N},481:function(e,t,a){e.exports=a.p+"static/imgs/null_result.svg"},483:function(e,t){},484:function(e,t,a){e.exports=a.p+"static/imgs/avatar.svg"},486:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.name,a=e.md5,n=e.type,r=e.width,o=e.height;return{name:t,md5:a,type:n||"sprite",tags:[],info:[r,o,1]}},r=function(e){var t=e.name,a=e.costumes;return{objName:t,sounds:e.sounds||[o({name:"pop",md5:"83a9787d4cb6f3b7632b4ddfebf74367.wav"})],costumes:a,currentCostumeIndex:0,scratchX:0,scratchY:0,scale:1,direction:90,rotationStyle:"normal",isDraggable:!1,indexInLibrary:4,visible:!0,spriteInfo:{}}},o=function(e){var t=e.name,a=e.md5;return{name:t,format:"",rate:11025,sampleCount:258,soundID:1,md5ext:a,md5:a,data:null,dataFormat:"wav",assetId:a.split(".")[0]}};t.default={info:n,json:r,sound:o,costume:function(e){return{costumeName:e.name,baseLayerID:-1,baseLayerMD5:e.md5,bitmapResolution:1,rotationCenterX:e.x,rotationCenterY:e.y}},sprite:function(e){var t=n(e);return t.json=r(e),t}}},487:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE_FEEDBACK=t.ADD_FEEDBACK=void 0;var n=u(a(21)),r=a(619),o=u(a(48)),i=u(a(15));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.ADD_FEEDBACK="ADD_FEEDBACK",l=t.CACHE_FEEDBACK="CACHE_FEEDBACK";t.default={addFeedback:function(e,t,a){return(0,r.requestDispatch2)(s,"Feedback","add",{description:e.description,profession:e.profession,contact:e.contact,call:e.call,suffix:e.suffix,attachment:e.attachment,os:navigator.userAgent,version:n.default.appVersion},t,a)},cache:function(e){return o.default.set(i.default.FEEDBACK_CACHE_KEY,e),{type:l,payload:{cacheData:e}}}}},488:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(2)),r=s(a(7)),o=s(a(82)),i=s(a(147)),u=s(a(19));function s(e){return e&&e.__esModule?e:{default:e}}var l=new(function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,[{key:"setSoftDisconnectMode",value:function(e){o.default.dispatch(i.default.setSoftDisconnectMode(e))}},{key:"disconnect",value:function(e){e=e||o.default.getState().connect.device,u.default.emit("ConnectBroken",e,!0)}}]),e}());window.connectModel=l,t.default=l},489:function(e,t,a){e.exports=a(31)(130)},54:function(e,t,a){e.exports=a(31)(9)},56:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(143)),r=_(a(114)),o=_(a(40)),i=_(a(23)),u=_(a(25)),s=_(a(3)),l=_(a(2)),c=_(a(7)),d=_(a(12)),f=_(a(113)),p=_(a(35)),h=a(18),m=_(a(15)),E=_(a(48)),v=_(a(710)),T=(_(a(92)),_(a(21))),S=_(a(118)),y=_(a(63)),g=_(a(81)),N=a(32);function _(e){return e&&e.__esModule?e:{default:e}}var O=new(function(){function e(){(0,l.default)(this,e),this.preProjectDataString=null,this.projectList=[],this.isForThirdPlatform=!1;var t={clientdevice:"system/"+window.navigator.userAgent+";version/"+T.default.appVersion},a={get_cloud_projects:{method:"post",url:"cloud/pro/list"},get_some_cloud_projects:{method:"post",url:"getprojectbycpids"},rename_project:{method:"post",url:"cloud/pro/edit"},delete_project:{method:"post",url:"cloud/pro/del"},share_project:{method:"post",url:"project/publish"},cancel_share_project:{method:"post",url:"project/unpublish"},get_url_token:{domain:f.default.domainconfig.passport2,method:"post",url:"v1/user/geturltoken",header:t},set_project_as_third_platform:{method:"post",url:"project/ThirdPlatform"}};f.default.configToRequestAction.call(this,a,f.default)}return(0,c.default)(e,[{key:"syncWebList",value:function(e){this.projectList=e}},{key:"syncMyList",value:function(e,t){if(!d.default.isArray(e))return t;var a=m.default.PROJECT_STATUS,n=(e=e.map(function(e){var t=e.commitId,a=e.coverImage,n=e.createdAt,r=e.id,o=e.projectName,i=e.uid,u=e.isShare,s=(0,h.genId)();return{id:s,userId:String(i),projectId:r,commitId:t,projectName:o,localName:s,isDeleted:!1,isShare:u,syncStatus:m.default.PROJECT_STATUS.WILL_DOWNLOAD,createdAt:n,coverImage:a}})).map(function(e){return e.projectId}),r=(t=t.map(function(e){if(e.projectId&&d.default.indexOf(n,e.projectId)<0&&d.default.indexOf([a.NORMAL,a.WILL_DOWNLOAD,a.WILL_DELETE,a.WILL_UPLOAD_RECORD],e.syncStatus)>-1){var t=Date.parse(new Date)/1e3;return(0,s.default)({},e,{isDeleted:!0,createdAt:t,syncStatus:a.NORMAL})}return e})).concat(e),o={},i=[];for(var u in r.forEach(function(e){if(e.projectId)if(d.default.has(o,e.projectId)){var t=e.commitId,a=e.coverImage,n=e.createdAt,r=e.projectName,u=e.isShare;e.createdAt>o[e.projectId].createdAt?o[e.projectId]=(0,s.default)({},o[e.projectId],{commitId:t,coverImage:a,createdAt:n,projectName:r,isShare:u,isDeleted:!1,syncStatus:m.default.PROJECT_STATUS.WILL_DOWNLOAD}):e.createdAt===o[e.projectId].createdAt&&(o[e.projectId]=(0,s.default)({},o[e.projectId],{commitId:t,createdAt:n,projectName:r,isShare:u,isDeleted:!1}))}else o[e.projectId]=e;else i.push(e)}),o)i.push(o[u]);return i}},{key:"getLocalList",value:function(){var e=(0,u.default)(i.default.mark(function e(){var t,a,n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.default.join(T.default.userProjectFilePath,T.default.userProjectFileName),e.next=3,p.default.read(t);case 3:if(!((a=e.sent)&&a.data.length>0)){e.next=11;break}return n=a.data,r={},n.forEach(function(e){r[e.userId]?r[e.userId].push(e):(r[e.userId]=[],r[e.userId].push(e))}),e.abrupt("return",r);case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setLocalList",value:function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&e[a].forEach(function(e){t.push(e)});return t}},{key:"getMyLocalList",value:function(e,t){return e&&"null"!==e?(t.null&&(t.null=t.null.map(function(t){return(0,s.default)({},t,{userId:e})}),t[e]=(t[e]||[]).concat(t.null),delete t.null),t[e]||[]):t.null&&t.null||[]}},{key:"getNewProjectName",value:function(e,t){t=t||[],e=d.default.trim(e).length>48?e.substring(0,48):e;var a=t.filter(function(e){return!e.isDeleted}).map(function(e){return e.projectName});if(d.default.indexOf(a,e)>-1){var n=(e=e.replace(/\(\d+\)$/,"")).replace("(","\\(").replace(")","\\)"),r=0;return a.forEach(function(e){var t=e.match(new RegExp(n+"\\((\\d+)\\)$"));t&&t[1]>r&&(r=Number(t[1]))}),e+"("+((r>98?98:r)+1)+")"}return e}},{key:"hasUnWillUpload",value:function(e){var t=m.default.PROJECT_STATUS;return e.filter(function(e){return d.default.indexOf([t.WILL_UPLOAD_RECORD,t.WILL_UPLOAD_FILE,t.WILL_UPLOAD_ALL],e.syncStatus)>-1}).length>0}},{key:"write",value:function(e,t){var a=this;return d.default.isArray(e)||(e=this.setLocalList(e)),e=this.checkErr(e),new o.default(function(n,r){a.projectList=a.projectList.concat(e);var o=d.default.cloneDeep(a.projectList),i=[];i.push({opts:{path:S.default.join(T.default.userProjectFilePath,T.default.userProjectFileName),isAppend:!1,sync:!0,method:t},data:o});try{a.projectList=[],p.default.writeJson(i).then(function(e){n(e)},function(e){r(e)})}catch(e){a.projectList=o.concat(a.projectList),r(e)}})}},{key:"checkErr",value:function(e){var t=e.filter(function(e){return!!e.id});t.length!==e.length&&(e=t);var a={},n=[];for(var r in e.forEach(function(e){""!==e.projectId?d.default.has(a,e.projectId)?e.createdAt>a[e.projectId].createdAt&&(a[e.projectId]=e):a[e.projectId]=e:n.push(e)}),a)n.push(a[r]);return n}},{key:"uploadCoverImage",value:function(){var e=(0,u.default)(i.default.mark(function e(t,a){var n,r,o,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.default.uploadImgToken({_HEADER_:{utoken:E.default.get(m.default.USER_ACCESS_TOKEN_KEY),pid:2}});case 3:if(!(n=e.sent)){e.next=17;break}return r=new File(Array(t),a),e.next=8,v.default.uploadCoverImg(n,r);case 8:if(!(o=e.sent)||!o.res||200!==o.res.status){e.next=15;break}return u="https://"+n.bucket+"."+n.region+".aliyuncs.com/"+n.commitId,e.abrupt("return",u);case 15:return e.abrupt("return","");case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return","");case 23:case"end":return e.stop()}},e,this,[[0,19]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"sortBy",value:function(e,t){switch(t){case"createdAtReverse":return e.sort(function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)});default:return e}}},{key:"search",value:function(e,t){return d.default.filter(e,function(e){return-1!==e.projectName.toLowerCase().indexOf(d.default.trim(t.toLowerCase()))})}},{key:"searchExample",value:function(e,t,a){return d.default.filter(e,function(e){return-1!==e.name[a].toLowerCase().indexOf(d.default.trim(t.toLowerCase()))})}},{key:"saveProjectData",value:function(e,t){if(e){var a=!0,n=!1,o=void 0;try{for(var i,u=(0,r.default)(this.projectList);!(a=(i=u.next()).done);a=!0){var s=i.value;s.id==e&&(s.data=t)}}catch(e){n=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(n)throw o}}}}},{key:"getProject",value:function(e){var t=null,a=!0,n=!1,o=void 0;try{for(var i,u=(0,r.default)(this.projectList);!(a=(i=u.next()).done);a=!0){var s=i.value;if(s.id==e)return t=s}}catch(e){n=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(n)throw o}}return t}},{key:"export",value:function(){return y.default.instance.export()}},{key:"exportFromWeb",value:function(e){y.default.instance.export(null,null,e)}},{key:"fetchProjectBaseInfoById",value:function(){var e=(0,u.default)(i.default.mark(function e(t){var a,r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t],e.next=3,this.get_some_cloud_projects({projectIds:a});case 3:if(r=e.sent,o=r&&r.projectList&&r.projectList[0],"{}"!==(0,n.default)(o)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isProjectCanBeVisited",value:function(){var e=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.fetchProjectBaseInfoById(t);case 4:if(null!==e.sent){e.next=9;break}return g.default.resetProjectState(),e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchProjectData",value:function(){var e=(0,u.default)(i.default.mark(function e(t,a,n,r,o){var u,s,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.default.downloadToken({utoken:E.default.get(m.default.USER_ACCESS_TOKEN_KEY),pid:1,cloudProjectId:r,classToken:o||""});case 3:if(!(u=e.sent)){e.next=17;break}return g.default.setProjectCloudThirdPlatform(u.isForThirdPlatform),g.default.setProjectPlatformType(r,m.default.PROJECT_TYPE.LIST),u.commitId=t,u.localName=a||"project",s=v.default.fetchFileUrl(u),e.next=12,(0,h.readFile)(s);case 12:return l=e.sent,this.saveProjectData(n,l),e.abrupt("return",l);case 17:throw new Error("get oss download token failed.");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0);case 23:case"end":return e.stop()}},e,this,[[0,20]])}));return function(t,a,n,r,o){return e.apply(this,arguments)}}()},{key:"loadRemoteProjectFromUrl",value:function(){var e=(0,u.default)(i.default.mark(function e(t){var a,n,r,o,u,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,h.getUrlParams)(t)||{},n=a.cloudProjectId||"",r=a.courseId||"",o=a.classToken||"",!n){e.next=15;break}return g.default.setLoadingPageState(!0),e.next=8,this.fetchProjectBaseInfoById(n);case 8:if(!(u=e.sent)){e.next=13;break}return e.next=12,this.fetchProjectData(u.commitId,u.projectName,u.id,n,o);case 12:return e.abrupt("return",e.sent);case 13:e.next=23;break;case 15:if(!r){e.next=22;break}return e.next=18,this.fetchProjectBycouseId(r);case 18:return s=e.sent,e.abrupt("return",s);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchProjectBycouseId",value:function(){var e=(0,u.default)(i.default.mark(function e(t){var a,n,r,o,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=T.default.domain.box+"api/course/"+t+"?ClientType=web",e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json().then(function(e){return 0!==e.code||d.default.isEmpty(e.data)?"":e.data.File});case 6:if(r=e.sent,!d.default.isEmpty(r)){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=11,fetch(r);case 11:return o=e.sent,e.next=14,o.arrayBuffer();case 14:return u=e.sent,e.abrupt("return",u);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCorrectId",value:function(e){var t=((0,h.getUrlParams)()||{}).cloudProjectId||"";return t&&(e=t),e}},{key:"hasShared",value:function(e,t){var a=!1,n=e[d.default.indexOf(e.map(function(e){return e.id===Number(t)}),!0)];return t&&n&&n.isShare&&(a=!0),a}},{key:"isSelfProject",value:function(e){var t=this.getCorrectId(e);return!!(!t||t&&this.getProject(t))}},{key:"saveAsThirdPlatformProject",value:function(){var e=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.set_project_as_third_platform({cloudProjectId:t,_HEADER_:{utoken:E.default.get(m.default.USER_ACCESS_TOKEN_KEY)}}).then(function(e){void 0===e.code&&g.default.setProjectCloudThirdPlatform(!0)});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"domain",get:function(){return f.default.domainconfig.cloud[(0,N.getInternational)()]}}]),e}());window.projectService=O,t.default=O},583:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(38)),r=g(a(9)),o=g(a(2)),i=g(a(7)),u=g(a(5)),s=g(a(6)),l=g(a(1)),c=a(14),d=a(595),f=g(a(88)),p=g(a(19)),h=g(a(16)),m=g(a(56)),E=g(a(481)),v=g(a(1235)),T=g(a(1234)),S=g(a(1233)),y=g(a(1232));function g(e){return e&&e.__esModule?e:{default:e}}var N=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.account,a=e.project,r=e.intlr,o=e.saved;return l.default.createElement("div",null,l.default.createElement(d.ScratchTutorial,{NullResultImg:E.default,boxFinishNoMedalImg:v.default,boxOneMedalBackground:T.default,boxTwoMedalBackground:S.default,boxThreeMedalBackground:y.default,account:t,onHandleLogin:function(){return h.default.replace("/login")},onHandleOpenProject:function(e,t){o({cacheName:t}),fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){p.default.emit("LoadExample",e,m.default.getNewProjectName(t,a.projects))},function(e){n.default.warn(r.messages["MSG.99999"])})},onHandleNewProject:function(){return p.default.emit("NewProject")}}))}}]),t}(l.default.Component);t.default=(0,c.connect)(function(e){return{intlr:e.intlr,account:e.account,project:e.project}},function(e){return{saved:function(t){return e(f.default.saved(t))}}})(N)},591:function(e,t){},592:function(e,t){},594:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UploadCmp=void 0;var n=C(a(28)),r=C(a(22)),o=C(a(114)),i=C(a(195)),u=C(a(27)),s=C(a(38)),l=C(a(9)),c=C(a(2)),d=C(a(7)),f=C(a(5)),p=C(a(6)),h=C(a(12)),m=C(a(1)),E=a(14),v=C(a(15)),T=C(a(19)),S=C(a(16)),y=C(a(35)),g=C(a(264)),N=a(91),_=C(a(63)),O=C(a(165));function C(e){return e&&e.__esModule?e:{default:e}}a(1302);var I=v.default.UPLOAD_STATUS,A=function(e){function t(e){(0,c.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.getEditingTarget=function(){try{var e=(0,N.editingTarget)();a.upload=e.config.options.upload}catch(e){}},a.doUploadCode=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?_.default.instance.uploadRetry():a.props.uploadCode(),a.isRetry=e},a.state={logs:[],prettyLogs:[]},a.isRetry=!1,a.upload=null,a.getEditingTarget(),a.initListeners(),a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){h.default.isEmpty(this.props.upload)||this.doUploadCode()}},{key:"componentWillUnmount",value:function(){for(var e in this.listeners)T.default.removeListener(e,this.listeners[e]);this.props.onReady()}},{key:"initListeners",value:function(){var e=this;for(var t in this.listeners={CompilerLog:function(t){var a=e.state.logs;a.push(t),e.setState({logs:a},function(){e.logContainer.scrollTop=e.logContainer.scrollHeight})},ConnectBroken:function(){e.broken=!0},UploadCodeProgress:function(t,a){e.props.uploadCodeProgress(t,a)},UploadedCode:function(){var t=e.props.intlr;h.default.delay(function(){s.default.success(t.messages["UPLOAD.MESSAGE.SUCCESS"]),T.default.emit("UploadCodeSuccess",e.isRetry),S.default.replace("/")},600)},UploadCodeFail:function(){var t=e.props.intlr;e.broken||(e.props.uploadCodeFail(),s.default.error(t.messages["UPLOAD.MESSAGE.FAIL"]),T.default.emit("UploadCodeFailed",e.isRetry))},CompileFailed:function(){var t=e.props.intlr;e.props.uploadCodeFail(),s.default.error(t.messages["UPLOAD.COMPLIE.FAILED"])}},this.listeners)T.default.on(t,this.listeners[t])}},{key:"status",value:function(){return this.props.upload.progress_status===I.UPLOADED?"success":"active"}},{key:"handleCancel",value:function(){S.default.replace("/")}},{key:"render",value:function(){var e=this,t=this.state.logs,a=this.props,s=a.upload,l=a.intlr;if(h.default.isEmpty(s))return this.handleCancel(),null;var c=s.progress_percent,d=s.progress_status,f=d===I.COMPILING,p=d===I.FAILED,E=this.upload&&this.upload.tips&&this.upload.tips.fail||[],v=this.upload&&this.upload.helpLink||"";return m.default.createElement(n.default,{visible:!0,width:400,title:l.messages["UPLOAD."+(f?"COMPLIE":"CODE")+".TITLE"],maskClosable:!1,keyboard:!1,closable:d!==I.PROCESSING&&d!==I.COMPILING,onCancel:this.handleCancel.bind(this),footer:null},f?m.default.createElement("p",{style:{textAlign:"center"}},m.default.createElement(u.default,{style:{fontSize:"2rem"},type:"loading"})):m.default.createElement("div",{className:"flex-row progress-inner"},m.default.createElement(i.default,{percent:c,status:this.status(),showInfo:!p}),p&&m.default.createElement("i",{className:"mblock-icon icon-wangluoyichangchengseV fail-icon"}))," ",p&&m.default.createElement("ul",{className:"helpTip fail"},E.map(function(e,t){return m.default.createElement("li",{key:t},(0,O.default)(e))})," ",v&&m.default.createElement("li",null,l.messages["CONNECT.PROBLEM.TIP"],m.default.createElement("a",{href:v,rel:"nofollow me noopener noreferrer",target:"_blank",onClick:function(e){return y.default.openLink(e,v)}},l.messages["CONNECT.HELPLINK.TEXT"])))," ",h.default.isEmpty(t)?null:m.default.createElement("section",{className:"compile-log",ref:function(t){return e.logContainer=t}},t.map(function(e,t){var a="log",n=!0,r=!1,i=void 0;try{for(var u,s=(0,o.default)(["error","fail"]);!(n=(u=s.next()).done);n=!0){var l=u.value;if(e.toLowerCase().includes(l)){a="log error";break}}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return m.default.createElement("p",{className:a,key:t},e)}))," ",p?m.default.createElement("div",{style:{textAlign:"center",marginBottom:10}},m.default.createElement(r.default,{type:"primary",ghost:!0,onClick:function(){return e.handleCancel()}},l.messages["BUTTON.CANCEL.TEXT"]),m.default.createElement(r.default,{type:"primary",style:{marginLeft:"8px"},onClick:function(){return e.doUploadCode(!0)}},l.messages["BUTTON.RETRY.TEXT"])):null)}}]),t}(m.default.Component);t.UploadCmp=A;t.default=(0,E.connect)(function(e){return{intlr:e.intlr,upload:e.upload}},function(e){return{onReady:function(){return e(g.default.uploadCodePrepare())},uploadCodeFail:function(){return e(g.default.uploadCodeFail())},uploadCode:function(t,a){return e(g.default.uploadCode(t,a))},uploadCodeProgress:function(t,a){return e(g.default.uploadCodeProgress(t,a))}}})(A)},597:function(e,t){},598:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeUploader=t.firmwareUploader=void 0;var n,r=a(377),o=(n=r)&&n.__esModule?n:{default:n};t.firmwareUploader={id:"firmware.uploader",getDriver:function(e){var t=o.default.getFirmwareDriver(e);return function(e,a,n,r,o,i){try{t(window.currentPort,e,n,function(e,t){e?o(e):r()},i)}catch(e){o(""+e)}}}},t.codeUploader={id:"code.uploader",getDriver:function(e){var t=o.default.getUploadDriver(e);return function(e,a,n,r,o,i){try{t(window.currentPort,e,n,function(e){e?o(e):r()},i)}catch(e){o(""+e)}}}}},599:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataChart=void 0;var n=o(a(38)),r=o(a(12));function o(e){return e&&e.__esModule?e:{default:e}}var i=a(19).default,u=a(82).default,s=a(378).default,l=[],c=[],d="untitled",f="table",p="type",h="data",m=200,E=r.default.throttle(function(){n.default.warning(u.getState().intlr.messages["MESSAGE.CHART.REATCHMAXXAXISDATA"].replace("{0}",m))},3500),v=r.default.throttle(function(){n.default.warning(u.getState().intlr.messages["MESSAGE.CHART.REATCHMAXLENGEND"].replace("{0}",10))},3500),T=t.DataChart={id:"data.chart",open:function(){u.dispatch(s.actions.open())},close:function(){u.dispatch(s.actions.close())},clear:function(){l=[],c=[],i.emit("clearChart")},setType:function(e){f=e,i.emit("setChartType",e)},set chartName(e){d=e,i.emit("setChartName",d)},get chartName(){return d},getAllData:function(){return{chartName:d,chartType:f,xAxisName:p,yAxisName:h,xAxisData:l,seriesData:c}},setAxisName:function(e,t){p=e,h=t,i.emit("setAxisName",p,h)},inputData:function(e,t,a){if(e.match(/^[ ]*$/)&&(e=" "),-1===l.indexOf(t)){if(l.length===m)return void E();l.push(t)}if(0===c.length)c.push({name:e,data:[[t,a]]});else for(var n=0;n<c.length;n++){var r=c[n];if(r.name===e){for(var o=0;o<r.data.length;o++){var u=r.data[o];if(u[0]===t){u[1]=a;break}o===r.data.length-1&&r.data.push([t,a])}break}if(n===c.length-1){if(10===c.length)return void v();c.push({name:e,data:[[t,a]]})}}i.emit("updateData",l,c)},setMaxXAixsDataLength:function(e){m=e},destroy:function(){T.close(),T.clear()}};i.on("DestroyDataChart",T.destroy)},600:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_ENV=t.GET_ENV=void 0;var n,r=a(39),o=(n=r)&&n.__esModule?n:{default:n};var i=t.GET_ENV="GET_ENV",u=t.SET_ENV="SET_ENV",s={env:"pc"};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case i:return(0,o.default)({},e);case u:return(0,o.default)({},e,{env:t.value});default:return e}},setEnv:function(e){return{type:u,value:e}}}},617:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(40)),r=h(a(23)),o=h(a(25)),i=h(a(2)),u=h(a(7)),s=h(a(118)),l=h(a(12)),c=h(a(56)),d=h(a(35)),f=h(a(21)),p=h(a(19));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(){(0,i.default)(this,e),this.instance=null,this.timer=null,this.localList=null,this.isChange=!1,this.isInitFinish=!1,l.default.has(window,"window.MbApi.file")&&this.initTimer()}return(0,u.default)(e,[{key:"initTimer",value:function(){var e=this;this.read().then(function(){p.default.emit("Project.Local.isFinish"),e.isInitFinish=!0,e.timer=setInterval(function(){return e.write()},1e3)})}},{key:"write",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t&&!this.isChange){e.next=4;break}return e.next=3,c.default.write.call(c.default,this.localList,"save");case 3:this.isChange=!1;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,a,n,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.default.join(f.default.userProjectFilePath,f.default.userProjectFileName),e.next=3,d.default.read(t);case 3:(a=e.sent)&&a.data&&a.data.length>0?(n=a.data,o={},n.forEach(function(e){o[e.userId]?o[e.userId].push(e):(o[e.userId]=[],o[e.userId].push(e))}),this.localList=o):this.localList={};case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"set",value:function(e){l.default.isEqual(e,this.localList)?this.isChange=!1:(this.localList=l.default.cloneDeep(e),this.isChange=!0)}},{key:"get",value:function(){var e=this;return new n.default(function(t){var a=l.default.cloneDeep(e.localList);e.isInitFinish?t(a):p.default.on("Project.Local.isFinish",function(){a=l.default.cloneDeep(e.localList),t(a)})})}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}().getInstance();window.projectLocal=m,t.default=m},618:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.preloadExt=exports.EXT_ACTION=void 0;var _regenerator=__webpack_require__(23),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(25),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_lodash=__webpack_require__(12),_lodash2=_interopRequireDefault(_lodash),_constant=__webpack_require__(15),_constant2=_interopRequireDefault(_constant),_store=__webpack_require__(48),_store2=_interopRequireDefault(_store),_ext=__webpack_require__(91);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var EXT_ACTION=exports.EXT_ACTION={LIST:"EXT.LIST",ADD:"EXT.ADD",REMOVE:"EXT.REMOVE",UPDATE:"EXT.UPDATE"},preloadExt=exports.preloadExt=function preloadExt(exts){var installed=eval(_store2.default.get(_constant2.default.INSTALLED_EXT))||[],_ref;_lodash2.default.isArray(exts)&&exts.forEach((_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(t){return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===installed.indexOf(t.id.toLowerCase())){e.next=3;break}return e.next=3,(0,_ext.loadExt)(t);case 3:case"end":return e.stop()}},e,void 0)})),function(e){return _ref.apply(this,arguments)}))}},619:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestDispatch2=t.requestDispatch=void 0;var n=i(a(12)),r=i(a(92)),o=i(a(87));function i(e){return e&&e.__esModule?e:{default:e}}t.requestDispatch=function(e,t,a,i,u,s){var l={type:t,status:o.default.PENDING};return function(t){t(l),r.default[e][a](i).then(function(e){l.status=o.default.DONE,l.data=e,t(l),n.default.isFunction(u)&&u(e)},function(e){l.status=o.default.FAILED,l.data=e,t(l),n.default.isFunction(s)&&s(e)})}},t.requestDispatch2=function(e,t,a,i,u,s){var l={type:e,payload:{status:o.default.PENDING}};return function(e){e(l),r.default[t][a](i).then(function(t){l.payload.status=o.default.DONE,l.payload.data=t,e(l),n.default.isFunction(u)&&u(t)},function(t){l.payload.status=o.default.FAILED,l.payload.data=t,e(l),n.default.isFunction(s)&&s(t)})}}},620:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestDispatch=void 0;var n=a(619);t.requestDispatch=function(e,t,a,r,o){return(0,n.requestDispatch)("UserService",e,t,a,r,o)}},621:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SWITCH_LANGUAGE="SWITCH_LANGUAGE",t.UPDATE_SUPPORTED_LANG_NAMES="UPDATE_SUPPORTED_LANG_NAMES",t.UPDATE_DOWNLOAD_STATUS="UPDATE_DOWNLOAD_STATUS",t.UPDATE_DOWNLOAD_PERCENT="UPDATE_DOWNLOAD_PERCENT",t.UPDATE_LATEST_STATUS="UPDATE_LATEST_STATUS",t.UPDATE_READY_STATUS="UPDATE_READY_STATUS"},622:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(39)),r=a(151),o=u(r),i=a(621);u(a(15));function u(e){return e&&e.__esModule?e:{default:e}}var s={supportedLangs:{en:{name:"English"},zh:{name:"简体中文"}},langKey:r.defaultLangKey,messages:r.defaultMessages};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case i.SWITCH_LANGUAGE:case i.UPDATE_SUPPORTED_LANG_NAMES:return(0,n.default)({},e,t.payload);default:return e}},actions:o.default,intlInitialState:s}},63:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(a(40)),r=y(a(23)),o=y(a(25)),i=y(a(2)),u=y(a(7)),s=y(a(12)),l=y(a(19)),c=y(a(15)),d=y(a(21)),f=y(a(35)),p=a(18),h=y(a(673)),m=a(248),E=y(a(1347)),v=y(a(437)),T=y(a(1346)),S=y(a(81));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(){(0,i.default)(this,e),e._instance=this,this.initMscratch(),this.logger=this.mscratch.logger,this.progress=null,this.project=this.mscratch.project}return(0,u.default)(e,[{key:"initMscratch",value:function(){this.mscratch=new Mscratch({lang:(0,m.getDefaultLang)(),resource:{scratch_path:d.default.spriteBasepath,user_path:d.default.userSpriteBasepath},loadExtTimeout:d.default.loadExtTimeout,enableDevice:d.default.enableDevice,openCodeEditor:d.default.openCodeEditor,openCodeMirror:d.default.openCodeMirror,platform:"mblockweb"})}},{key:"inject",value:function(e,t){var a=this,n=this.mscratch.inject(e,t);return window.innerWidth<=1536&&this.mscratch.layout.setSmallStage(),this.mscratch.onDidMount(function(){l.default.emit("MscratchDidMount")},!0),this.mscratch.project.onProjectStartLoad(function(){l.default.emit("ProjectStartLoad")}),this.mscratch.project.onProjectEndLoad(function(){l.default.emit("ProjectEndLoad")}),this.mscratch.onReady(function(){for(var e in a.mscratch.vm.onAssetLoaded(function(e){a.assetLoadedHandler&&a.assetLoadedHandler(e)}),T.default)a.mscratch.registService(T.default[e]);for(var t in a.mscratch.transporter.setSender(function(e){l.default.emit("SetSender",e)}),a.mscratch.connection.onConnect(function(e){l.default.emit("ClickConnect",e)}),a.mscratch.connection.onDisconnect(function(e){l.default.emit("ClickDisconnect",e)}),a.mscratch.extensions.onDeviceSpriteAdd(function(e){l.default.emit("DeviceSpriteAdd",e)}),a.mscratch.extensions.onDeviceSpriteDelete(function(e){l.default.emit("DeviceSpriteDelete",e)}),a.mscratch.layout.onOpenExtensionsBtnClicked(function(){l.default.emit("ClickExtList")}),a.mscratch.layout.onOpenDevicesBtnClicked(function(){l.default.emit("ClickDeviceList")}),a.mscratch.layout.onOpenSpriteLibraryBtnClicked(function(){l.default.emit("ClickedOpenSprite",c.default.SPRITE_TYPE.LIBS)}),a.mscratch.layout.onOpenCostumeLibraryBtnClicked(function(){l.default.emit("ClickedOpenSprite",c.default.SPRITE_TYPE.COSTUMES)}),a.mscratch.layout.onOpenBackdropLibraryBtnClicked(function(){l.default.emit("ClickedOpenSprite",c.default.SPRITE_TYPE.BACKDROPS)}),a.mscratch.layout.onOpenSoundLibraryBtnClicked(function(){l.default.emit("ClickedOpenSprite",c.default.SPRITE_TYPE.SOUNDS)}),a.mscratch.vm.onSoundRecorded(function(e){l.default.emit("ClickRecordSound",e)}),a.mscratch.vm.onTurboModeChanged(function(e){l.default.emit("ToggleTurboMode",e)}),a.mscratch.extensions.addUpdateListener(function(e){l.default.emit("LoadedExt",e)},function(e){l.default.emit("UnloadedExt",e)}),a.mscratch.connection.onResetDevice(function(e){l.default.emit("ClickResetDevice",e)}),a.mscratch.connection.onCalibrateColorSensor(function(e){l.default.emit("ClickCalibrateColor",e)}),a.mscratch.connection.onCalibratGyro(function(e){l.default.emit("ClickCalibratGyro",e)}),a.mscratch.workspace.onFlyoutBlockClicked(function(e){l.default.emit("FlyoutBlockClicked",e)}),a.mscratch.scratchEvents.onWorkspaceClicked(function(){l.default.emit("CanHideOpenedMenu")}),a.mscratch.workspace.onUndo(function(e){l.default.emit("SetUndoRedoOperate",e)}),h.default.drivers)a.mscratch.extensions.registerFirmwareDriver(t,h.default.drivers[t]);for(var n in h.default.upload.middlewares)a.mscratch.extensions.registerUploadMiddleware(n,h.default.upload.middlewares[n]);l.default.emit("MscratchReady")}),n}},{key:"import",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.default.has("file")){e.next=4;break}return e.abrupt("return",f.default.read(t,a));case 4:if(t instanceof File){e.next=14;break}return e.prev=5,e.next=8,(0,p.openProjectTarget)(a);case 8:t=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error(e.t0);case 14:return e.abrupt("return",this.useWebRead(t));case 15:case"end":return e.stop()}},e,this,[[5,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"getProjectJson",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={channelId:E.default.getChannelId(),version:d.default.appVersion,createdAt:(new Date).getTime()},window._baseProjInfo=t,e.next=4,this.mscratch.project.getProjectJson([{name:"mblock5",data:t}]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getProjectJsonString",value:function(){return this.mscratch.project.getProjectJsonString()}},{key:"getProjectCoverPic",value:function(){return this.mscratch.stage.getCoverImage()}},{key:"renderProject",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a,n){var o,i,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.default.setProjectPlatformType(),o=v.default.devices.concat(v.default.exts),!s.default.isArrayBuffer(t)&&!(0,p.isBlob)(t)){e.next=6;break}return e.next=5,this.mscratch.project.load(t,a,n,o);case 5:return e.abrupt("return",e.sent);case 6:if(s.default.isString(t))try{t=JSON.parse(t)}catch(e){}if(!s.default.isObject(t)){e.next=19;break}if(!t.isBuffer){e.next=12;break}return e.next=11,this.mscratch.project.load(t.buffer,a,n,o);case 11:return e.abrupt("return",e.sent);case 12:if(!t.ide&&!t.mscratch){e.next=16;break}return i=t.ide||t,u=s.default.has(t,"ai")?{deeplearning:t.ai}:null,e.abrupt("return",this.mscratch.project.renderProjectJson(i,u,a,o));case 16:return e.next=18,this.mscratch.project.load(t,a,n,o);case 18:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"useWebRead",value:function(e){if(e instanceof File){var t=(0,p.getFileSuffix)(e.name),a=["sb2","sb3","sprite2","sprite3"].indexOf(t)>=0,r="mblock"===t,o=!1,i=!1;return new n.default(function(t,n){var u=new FileReader;u.onload=function(){var a=u.result;if(o=!0,r&&s.default.isString(a))try{a=JSON.parse(a)}catch(t){o=!1,i=!0,u.readAsArrayBuffer(e)}o&&(i&&(a={isBuffer:i,buffer:a}),t({data:a,filePath:e.name}))},u.onerror=function(e){n(e)},a?u.readAsArrayBuffer(e):u.readAsText(e)})}}},{key:"export",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a,n){var o,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProjectJson();case 2:if(o=e.sent,!f.default.has("file")){e.next=10;break}return e.next=6,(0,p.readAsArrayBuffer)(o);case 6:return o=e.sent,e.abrupt("return",f.default.save(o,t,a));case 10:i=n.name+"."+c.default.PROJECT_SUFFIX[0],(0,p.forceDownload)(o,i);case 12:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"undo",value:function(){this.mscratch.workspace.undo()}},{key:"redo",value:function(){this.mscratch.workspace.redo()}},{key:"changeLanguage",value:function(e){this.mscratch.setLang(e)}},{key:"addLocaleData",value:function(e,t,a){this.mscratch.addLocaleData(e,t,a)}},{key:"resize",value:function(){this.mscratch.svgResize()}},{key:"doReceived",value:function(e){this.mscratch.transporter.doReceived(e)}},{key:"enableBlocks",value:function(e){this.mscratch&&this.mscratch.workspace&&this.mscratch.workspace.disableBlocks(e,!1)}},{key:"disableBlocks",value:function(e){this.mscratch&&this.mscratch.workspace&&this.mscratch.workspace.disableBlocks(e,!0)}},{key:"reset",value:function(){this.mscratch.workspace.reset()}},{key:"clear",value:function(){this.mscratch.project.reset(),setTimeout(function(){var e=d.default.defaultExts;l.default.emit("ExtsFound",{exts:e})},100)}},{key:"getCodeContent",value:function(){return this.mscratch.code.getContent()}},{key:"getAllExtensionIds",value:function(){return this.mscratch.extensions?this.mscratch.extensions.getAllExtensionIds():null}},{key:"setCodeContent",value:function(e){this.mscratch.codey.setContent(e)}},{key:"handshakeDTR",value:function(){this.mscratch.codey.handshakeDTR().then(function(e){e.err||e.status})}},{key:"addSprite",value:function(e){return this.mscratch.vm.addSprite(e)}},{key:"importSprite",value:function(){var e=(0,o.default)(r.default.mark(function e(t,a,n){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.import(t);case 2:return o=e.sent,e.abrupt("return",this.mscratch.project.loadSprite(o&&o.data,a,n));case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"addCostume",value:function(e){return this.mscratch.vm.addCostume(e)}},{key:"addBackdrop",value:function(e){return this.mscratch.vm.addBackdrop(e)}},{key:"addSound",value:function(e){return this.mscratch.vm.addSound(e)}},{key:"openRecordSound",value:function(){return this.mscratch.layout.openSoundRecorder()}},{key:"uploadRetry",value:function(){this.mscratch.uploader.uploadCode()}},{key:"clearUpWorkspace",value:function(){}},{key:"clearLayout",value:function(){this.mscratch.layout.soundEditorHide(),this.mscratch.layout.costumeEditorHide(),this.mscratch.layout.blocklyChaffHide()}},{key:"stop",value:function(){this.mscratch.vm.stop()}},{key:"costumeEditorShow",value:function(){this.mscratch.layout.costumeEditorShow(),this.mscratch.layout.soundEditorHide()}},{key:"setTransporterRawPort",value:function(e){this.mscratch.transporter.setRawPort(e)}},{key:"isCostumeEditorOpened",value:function(){return this.mscratch.layout&&this.mscratch.layout.isCostumeEditorOpened()}},{key:"isSoundEditorOpened",value:function(){return this.mscratch.layout&&this.mscratch.layout.isSoundEditorOpened()}},{key:"uploadFirmware",value:function(e){this.mscratch.uploader.uploadFirmware(e)}},{key:"switchTransportChannel",value:function(e){this.mscratch.transporter.switchChannel(e)}},{key:"setBlocklyChaffHide",value:function(){return this.mscratch.layout&&this.mscratch.layout.blocklyChaffHide()}},{key:"setTurboMode",value:function(e){this.mscratch.vm.setTurboMode(e)}},{key:"addWebProjectStore",value:function(e,t,a){this.mscratch.storage.addWebStore([this.mscratch.storage.AssetType.Project],e,t,a)}},{key:"addWebStore",value:function(e,t,a){this.mscratch.storage.addWebStore([this.mscratch.storage.AssetType.ImageVector,this.mscratch.storage.AssetType.ImageBitmap,this.mscratch.storage.AssetType.Sound],e,t,a)}},{key:"getAssets",value:function(){return this.mscratch.vm.getAssets()}},{key:"onAssetLoaded",value:function(e){this.assetLoadedHandler=e}}],[{key:"instance",get:function(){if(e._instance)return e._instance}},{key:"mscratch",get:function(){if(e._instance)return e._instance.mscratch}}]),e}();t.default=g},655:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(23)),r=s(a(25)),o=s(a(2)),i=s(a(7)),u=s(a(1518));function s(e){return e&&e.__esModule?e:{default:e}}var l,c=null,d=function(){function e(){(0,o.default)(this,e),this.tag=(new Date).getTime()}return(0,i.default)(e,[{key:"call",value:function(e,t,a,n){c===e&&t(a,n)}},{key:"progress",value:function(e,t,a){c===e&&t(a)}}]),e}(),f=(l=(0,r.default)(n.default.mark(function e(t,a,r,o,i){var s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=new d,c=s.tag;try{new u.default(t,a,s.progress,r,c).bootLoad(s.call,o)}catch(e){o("new esp drivers fail.")}case 4:case"end":return e.stop()}},e,this)})),function(e,t,a,n,r){return l.apply(this,arguments)});t.default=f},668:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),r=u(a(7)),o=u(a(265)),i=u(a(16));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,n.default)(this,e),this.listener=null,this.preprocessor=t}return(0,r.default)(e,[{key:"addListener",value:function(e){this.listener=e}},{key:"removeListener",value:function(e){this.listener=null}},{key:"fire",value:function(e){this.listener&&(this.preprocessor&&(e=this.preprocessor(e)),this.listener(e))}}]),e}(),l="jmmkbcfakiendpnceenfanaebjenjene",c=new(function(){function e(){var t=this;(0,n.default)(this,e),this.isAppInstalled,this.messageHandleMap={},this.port=chrome.runtime?chrome.runtime.connect(l,{name:"mBlock.hardware"}):null,this.port?(this.port.onMessage.addListener(function(e){t.messageHandleMap[e.connectType+"."+e.method]&&t.messageHandleMap[e.connectType+"."+e.method].fire(e)}),o.default.isChromeOS&&this.sendMessage({cmd:"getVersion"},function(e,a){a&&"mBlock.hardware"==a.version?t.isAppInstalled=!0:t.isAppInstalled=!1})):this.isAppInstalled=!1}return(0,r.default)(e,[{key:"showNoDriverTip",value:function(){setTimeout(function(){var e="/nochromedriver";i.default.location.pathname!==e&&i.default.replace(e)},3e3)}},{key:"createListeners",value:function(e,t,a){var n=new s(a);return this.messageHandleMap[e+"."+t]=n,n}},{key:"sendMessage",value:function(e,t){chrome.runtime.sendMessage(l,e,function(e){chrome.runtime.lastError&&t(chrome.runtime.lastError,null),0==e.errcode?t(null,e.resp):t({errcode:e.errocode,errmsg:e.errmsg},{})})}},{key:"isConnected",value:function(){return this.isAppInstalled}}]),e}());t.default=c},670:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(307),o=(n=r)&&n.__esModule?n:{default:n};var i=a(12),u=a(1560),s=a(408),l=a(407);t.default=function(e,t,a,n){var r=void 0;r=l.promisify(function(t){o.default.info("open ok ,callback",e),t(null,e)});var c={timeout:200,stabDelay:100,cmdexeDelay:25,synchLoops:32,byteDelay:0,pollValue:83,pollIndex:3},d=u(e),f=i.extend({},d,{sync:function(e,t){this.progressHandle=a,this.length=-1,this.progress=-1,this.baseProgress=-1,o.default.info("stk500v2Instance sync"),d.sync.call(this,e,t)},loadAddress:function(e,t){var a=e<<1,n=this.baseProgress+Math.round(100*a/this.length);if(this.progress!==n){this.progress=n;var r=this;this.progressHandle&&setTimeout(function(){r.progressHandle(n)},0)}d.loadAddress.call(this,e,function(e,a){t(e,a)})},upload:function(e,t,a){this.baseProgress=0,this.length=e.length,d.upload.call(this,e,t,a)}}),p=l.promisify(e.set.bind(e)),h=l.promisify(f.sync.bind(f)),m=l.promisify(f.enterProgrammingMode.bind(f)),E=l.promisify(f.upload.bind(f)),v=l.promisify(f.exitProgrammingMode.bind(f));setTimeout(function(){l.join(s.parse(t).data,r().then(function(){o.default.info("open serial port ok")}).delay(1).then(function(){return p({rts:!0,dtr:!0})}).delay(1).then(function(){return p({rts:!1,dtr:!1})}).delay(1).then(function(){return p({rts:!0,dtr:!0})}).delay(1).then(function(){return o.default.info("begin sync"),h(5)}).delay(1).then(function(){return o.default.info("syn ok"),m(c)}).delay(1),function(e){return e}).then(function(e){return E(e,256)}).then(function(){return v()}).then(function(){return p({rts:!1,dtr:!1})}).then(function(){n(null,!0)}).catch(function(e){n(e,null)})},600)}},672:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(307),o=(n=r)&&n.__esModule?n:{default:n};var i=a(12),u=a(1563),s=a(408),l=a(671),c=a(305),d=a(407);t.default=function(t,a,n,r){var f,p=(f=new u({quiet:!1}),i.extend({},f,{bootload:function(e,t,a,n,r){this.progressHandle=n,this.length=-1,this.progress=-1,this.baseProgress=-1,o.default.info("stk500v1 bootload"),f.bootload.call(this,e,t,a,r)},loadAddress:function(e,t,a,n){var r=this.baseProgress+Math.round(100*t/this.length);if(this.progress!==r){this.progress=r;var o=this;this.progressHandle&&setTimeout(function(){o.progressHandle(r)},0)}f.loadAddress.call(this,e,t,a,n)},upload:function(e,t,a,n,r){o.default.info("stk500v1 upload"),this.baseProgress=0,this.length=t.length,f.upload.call(this,e,t,a,n,r)},verify:function(e,t,a,n,r){o.default.info("stk500v1 verify"),this.baseProgress=50,this.length=t.length,f.verify.call(this,e,t,a,n,r)},verifyPage:function(t,a,n,r,o){var i=e.concat([new e([c.Resp_STK_INSYNC]),a,new e([c.Resp_STK_OK])]),u=a.length>=n?n:a.length,s={cmd:[c.Cmnd_STK_READ_PAGE,u>>8&255,255&u,70],responseLength:i.length,timeout:r};l(t,s,function(e,t){o(e,t)})}})),h=void 0,m=void 0;t?(h=d.promisify(function(e){e(null,t)}),m=function(){}):o.default.error("serial port not set");var E=d.promisify(t.set.bind(t)),v=d.promisify(p.bootload.bind(p));o.default.info("stk500 starting..."),setTimeout(function(){d.join(s.parse(a).data,h().then(function(){return E({rts:!0,dtr:!0})}).delay(1).then(function(){return E({rts:!1,dtr:!1})}).delay(1).then(function(){return E({rts:!0,dtr:!0})}).delay(1),function(e){return e}).then(function(a){var r={signature:new e([30,149,15]),pageSize:128,timeout:1e3};return v(t,a,r,n)}).then(function(){return E({rts:!1,dtr:!1})}).then(function(){m(),r(null,!0)}).catch(function(e){e&&(e.message.indexOf("3020")>-1?o.default.info("board is not match"):e.message.indexOf("timeout")>-1&&o.default.info("board firmware: timeout")),m(),r(e,null)})},600)}}).call(this,a(26).Buffer)},673:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1564)),r=i(a(1525)),o=i(a(1521));function i(e){return e&&e.__esModule?e:{default:e}}t.default={drivers:n.default,upload:r.default,firmware:o.default}},708:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(23)),r=d(a(2)),o=d(a(7)),i=d(a(40)),u=d(a(92)),s=d(a(21)),l=a(32),c=d(a(12));function d(e){return e&&e.__esModule?e:{default:e}}a(1770);var f=function(e,t,a,n){return new(a||(a=i.default))(function(r,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(i,u)}s((n=n.apply(e,t||[])).next())})},p=function(){function e(){(0,r.default)(this,e),this._devices=[],this._exts=[],this.loadDataStatus="ready",this.extractPath="./exts/"}return(0,o.default)(e,[{key:"prepare",value:function(){return f(this,void 0,void 0,n.default.mark(function e(){var t,a,r,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.loadDataStatus="loading",t=["device","ext"],a=0;case 4:if(!(a<t.length)){e.next=20;break}if(r=t[a],o=void 0,!s.default.enableRemoteExts||(0,l.isLocal)()){e.next=13;break}return e.next=10,u.default.Extension.getNewRemoteExtList("latest",r);case 10:o=e.sent,e.next=16;break;case 13:return e.next=15,fetch("exts/"+r+".json").then(function(e){return e.json()});case 15:o=e.sent;case 16:"device"===r?this.devices=o:this.exts=o;case 17:a++,e.next=4;break;case 20:return e.next=22,this.inject();case 22:this.loadDataStatus="success",e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),this.loadDataStatus="error";case 29:case"end":return e.stop()}},e,this,[[0,25]])}))}},{key:"inject",value:function(){return f(this,void 0,void 0,n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}))}},{key:"getExt",value:function(e){var t=c.default.find(this.devices,function(t){return t.id===e});return c.default.isPlainObject(t)?t:c.default.find(this.exts,function(t){return t.id===e})}},{key:"devices",get:function(){return this._devices},set:function(e){this._devices=e}},{key:"exts",get:function(){return this._exts},set:function(e){this._exts=e}}]),e}();t.default=p},710:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(3)),r=p(a(2)),o=p(a(7)),i=p(a(113)),u=p(a(48)),s=p(a(15)),l=p(a(35)),c=a(32),d=p(a(21)),f=p(a(709));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){(0,r.default)(this,e),this.domain=i.default.domainconfig.cloud[(0,c.getInternational)()];this.client=null,i.default.configToRequestAction.call(this,{downloadToken:{method:"POST",url:"project/accesstoken"},uploadToken:{method:"get",url:"cloud/token/upload"},uploadImgToken:{method:"get",url:"cloud/token/coverupload"},uploadAttachToken:{method:"get",url:"cloud/token/attachmentupload"}},i.default)}return(0,o.default)(e,[{key:"fetchFileUrl",value:function(e){return new f.default({region:e.region,accessKeyId:e.accessKeyId,accessKeySecret:e.accessKeySecret,stsToken:e.stsToken,bucket:e.bucket}).signatureUrl(e.commitId,{expires:3600,response:{"content-disposition":'attachment; filename="'+e.localName+'"'}})}},{key:"downloadFile",value:function(e,t){var a=this.fetchFileUrl(e),n=d.default.userProjectFilePath+"/"+e.localName+".mblock";l.default.downloadFile(a,n,e.localName,function(e,a){return t(e,a)})}},{key:"downloadCoverImage",value:function(e,t){var a=e.url,n=e.filePath,r=e.fileName;l.default.downloadFile(a,n,r,function(e){return t(e)})}},{key:"uploadFile",value:function(e){var t=e.config,a=e.file,r=e.info,o=e.option,i=t.region,l=t.accessKeyId,c=t.accessKeySecret,d=t.stsToken,p=t.bucket,h=t.commitId,m=t.callbackUrl,E=r.projectId,v=r.projectName,T=r.localName,S=r.createdAt,y=r.coverImage,g=r.isSelfProject,N=new f.default({region:i,accessKeyId:l,accessKeySecret:c,stsToken:d,bucket:p}),_="coverImage=${x:coverImage}&utoken=${x:utoken}&pid=${x:pid}&fileName=${x:fileName}&fsize=${size}&bucket=${bucket}&object=${object}&etag=${etag}&size=${size}&commitId=${x:commitId}&handle=${x:handle}&projectName=${x:projectName}&projectId=${x:projectId}&createdAt=${x:createdAt}";return this.client=N,N.multipartUpload(h,a,(0,n.default)({},o,{callback:{url:m,body:_,customValue:{utoken:u.default.get(s.default.USER_ACCESS_TOKEN_KEY),pid:"1",commitId:h,fileName:T,handle:g?Number(E)>0?"edit":"create":"adapt",projectName:v,projectId:String(E),coverImage:y||"null",createdAt:String(S)}}}))}},{key:"uploadCoverImg",value:function(e,t,a){var n=e.region,r=e.accessKeyId,o=e.accessKeySecret,i=e.stsToken,u=e.bucket,s=e.commitId,l=new f.default({region:n,accessKeyId:r,accessKeySecret:o,stsToken:i,bucket:u});return this.client=l,l.multipartUpload(s,t,a)}},{key:"uploadAttachment",value:function(e,t,a){var n=e.region,r=e.accessKeyId,o=e.accessKeySecret,i=e.stsToken,u=e.bucket,s=e.commitId,l=new f.default({region:n,accessKeyId:r,accessKeySecret:o,stsToken:i,bucket:u});return this.client=l,l.multipartUpload(s,t,a)}},{key:"abortUpload",value:function(e,t){if(this.client)return this.client.abortMultipartUpload(e,t)}}]),e}();t.default=new h},712:function(e,t,a){e.exports=a(31)(84)},713:function(e,t,a){e.exports=a(31)(208)},714:function(e,t,a){e.exports=a(31)(207)},716:function(e,t,a){e.exports=a(31)(59)},72:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),r=p(a(7)),o=p(a(12)),i=a(393),u=a(620),s=p(a(15)),l=p(a(87)),c=p(a(48)),d=p(a(92)),f=p(a(1423));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,null,[{key:"checkUserTokenExist",value:function(){var e=d.default.UserService.getUserToken;return o.default.isFunction(e)&&e()}},{key:"changeMode",value:function(e){return function(t){c.default.set(s.default.INTERNATIONAL_VERSION,e),t({type:i.CHANGE_MODE,payload:{isInternational:e}})}}},{key:"getUserState",value:function(e,t){return this.checkUserTokenExist()?u.requestDispatch.bind(this)(i.GET_USER_STATE,"get_account",null,e,t):{type:i.GET_USER_STATE,data:{status:l.default.DONE}}}},{key:"checkEmailNum",value:function(e,t,a){return function(n){return n({type:i.SAVE_EMAILNUM,payload:{emailNum:e}}),d.default.UserService.check_account({account:e}).then(function(e){n({type:i.CHECK_EMAILNUM,payload:{checkEmailNumRequest:l.default.DONE}}),o.default.isFunction(t)&&t(e)},function(e){n({type:i.CHECK_EMAILNUM,payload:{checkEmailNumRequest:l.default.FAILED}}),o.default.isFunction(a)&&a(e)})}}},{key:"login",value:function(e,t,a){var n={account:e.account,password:e.password};return u.requestDispatch.bind(this)(i.USER_LOGIN,"login",n,t,a)}},{key:"setOverAge",value:function(e){return function(t){t({type:i.SET_OVERAGE,payload:{overAge:e}})}}},{key:"register",value:function(e,t,a){var n={email:e.email,password:e.password};return u.requestDispatch.bind(this)(i.USER_REGISTER,"register",n,t,a)}},{key:"saveValidCode",value:function(e,t,a){var n={email:e.email,findPwdCode:e.validCode};return function(r){return r({type:i.CHECK_CODE_REQUEST}),d.default.UserService.check_validCode(n).then(function(a){r({type:i.CHECK_CODE,payload:{checkCodeRequest:l.default.DONE,validCode:e.validCode}}),o.default.isFunction(t)&&t(a)},function(e){r({type:i.CHECK_CODE,payload:{checkCodeRequest:l.default.FAILED}}),o.default.isFunction(a)&&a(e)})}}},{key:"findpwd",value:function(e,t,a){var n={email:e.email,password:e.password,findpwdcode:e.findpwdcode};return u.requestDispatch.bind(this)(i.USER_UPDATEPWD,"resetpwd",n,t,a)}},{key:"saveOldPwd",value:function(e,t,a){var n={account:e.email,password:e.oldpassword};return function(r){return r({type:i.CHECK_OLDPWD_REQUEST}),d.default.UserService.check_oldPwd(n).then(function(a){r({type:i.CHECK_OLDPWD,payload:{checkOldPwdRequest:l.default.DONE,oldpassword:e.oldpassword}}),o.default.isFunction(t)&&t(a)},function(e){r({type:i.CHECK_OLDPWD,payload:{checkOldPwdRequest:l.default.FAILED,data:e}}),o.default.isFunction(a)&&a(e)})}}},{key:"updatePwd",value:function(e,t,a){var n={account:e.email,oldpassword:e.oldpassword,newpassword:e.newpassword};return function(e){return e({type:i.UPDATEPWD_REQUEST}),d.default.UserService.updatepwd(n).then(function(a){e({type:i.UPDATEPWD,payload:{updatepwdRequest:l.default.DONE,oldpassword:""}}),o.default.isFunction(t)&&t(a)},function(t){e({type:i.UPDATEPWD,payload:{updatepwdRequest:l.default.FAILED}}),o.default.isFunction(a)&&a(t)})}}},{key:"getValidCode",value:function(e,t,a){var n={email:e};return function(){return d.default.UserService.get_findpwd_code(n).then(function(e){o.default.isFunction(t)&&t(e)},function(e){o.default.isFunction(a)&&a(e)})}}},{key:"urlToken",value:function(e,t){return u.requestDispatch.bind(this)(i.GET_URL_TOKEN,"geturltoken",null,e,t)}},{key:"deleteAccount",value:function(e,t,a){return function(){return d.default.UserService.delete_account({password:e}).then(function(e){o.default.isFunction(t)&&t(e)},function(e){o.default.isFunction(a)&&a(e)})}}},{key:"strategy",get:function(){return f.default.strategy()}}]),e}();t.default=h},74:function(e,t,a){e.exports=a(31)(37)},81:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(23)),r=v(a(25)),o=v(a(3)),i=v(a(2)),u=v(a(7)),s=v(a(82)),l=v(a(88)),c=v(a(56)),d=v(a(63)),f=v(a(617)),p=v(a(15)),h=v(a(16)),m=a(18),E=v(a(222));function v(e){return e&&e.__esModule?e:{default:e}}var T=new(function(){function e(){(0,i.default)(this,e),this.isFirstLoad=!0}return(0,u.default)(e,[{key:"createNewProject",value:function(e){var t=s.default.getState(),a=t.project,n=t.intlr,r={filePath:null,file:null,id:"",projectId:"",commitId:"",name:c.default.getNewProjectName(n.messages["FILENAME.EMPTY"],a.projects),localName:"",projectType:e||"",projectStatus:"",isReName:!1,createdAt:"",downloadStatus:{err:null,percent:0},saveStatus:"",searchText:"",isSelfProject:!0,isShare:!1,showLoadingPage:!1};s.default.dispatch(l.default.saved((0,o.default)({file:null,confirmSaveType:null},r))),this.setProjectPlatformType()}},{key:"reName",value:function(e){s.default.dispatch(l.default.saved({name:e}))}},{key:"resetProjectState",value:function(){s.default.dispatch(l.default.saved({projectId:"",isSelfProject:!0,isShare:!1,commitId:"",projectStatus:"",isReName:!1,createdAt:"",saveStatus:"",isConfirmName:!1,projectType:""}))}},{key:"initName",value:function(e){if(!(0,m.isBoxCourse)("courseId")){var t=s.default.getState(),a=t.intlr,n=t.project,r=a.messages,o=n.isConfirmName,i=n.projectId,u=n.projectType,d=n.name;if(!i&&"example"!==u&&"local"!==u){var f=o?d:r["FILENAME.EMPTY"],p=c.default.getNewProjectName(f,e);s.default.dispatch(l.default.saved({name:p}))}}}},{key:"setSaved",value:function(e){this.isFirstLoad=!1;var t=!1===e?"null":"";s.default.dispatch(l.default.updatePreProject(t))}},{key:"isSaved",value:function(){return s.default.getState().project.preProjectData===d.default.instance.getProjectJsonString()}},{key:"setLoaded",value:function(e){s.default.dispatch(l.default.updateProjectLoadedState(e))}},{key:"checkProjectChanged",value:function(){s.default.dispatch(l.default.checkProjectChangeState(s.default))}},{key:"addProject",value:function(){var e=(0,r.default)(n.default.mark(function e(t,a){var r,i,u,l,c,d,h,E,v;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.default.getState(),i=r.project,u=r.account,l=i.projects,c=String(u.data.uid||"null"),d=l,h=a.id||(0,m.genId)(),E=(0,o.default)({id:h,userId:c,projectId:"",commitId:"",createdAt:Date.parse(new Date)/1e3,projectName:"",localName:h,syncStatus:p.default.PROJECT_STATUS.WILL_UPLOAD_ALL,isDeleted:!1,isShare:!1,coverImage:""},a),d.push(E),s.default.dispatch({type:t,payload:{projects:d}}),e.next=10,f.default.get();case 10:return(v=e.sent)[c]=d,f.default.set(v),e.abrupt("return",E);case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateProject",value:function(){var e=(0,r.default)(n.default.mark(function e(t,a,r){var i,u,l,c,d,p,h;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.default.getState(),u=i.project,l=i.account,c=u.projects,d=String(l.data.uid||"null"),p=(p=c).map(function(e){return e.id===a?(0,o.default)({},e,r):e}),s.default.dispatch({type:t,payload:{projects:p}}),e.next=8,f.default.get();case 8:(h=e.sent)[d]=p,f.default.set(h);case 11:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getProject",value:function(e){return s.default.getState().project.projects.filter(function(t){return t.id===Number(e)})[0]}},{key:"setCurrentFileCacheName",value:function(e,t){s.default.dispatch(l.default.saved({file:e,cacheName:t}))}},{key:"setCurrentFile",value:function(e){s.default.dispatch(l.default.saved({file:e}))}},{key:"setProjectSaveStatus",value:function(e){var t=p.default.PROJECT_SAVE_STATUS[e];s.default.dispatch(l.default.saved({saveStatus:t})),"SUCCESS"!==e&&"FAILURE"!==e||setTimeout(function(){"DOING"!==s.default.getState().project.saveStatus&&s.default.dispatch(l.default.saved({saveStatus:""}))},3e3)}},{key:"gotoRoot",value:function(){h.default.replace("/")}},{key:"setProSelfAndShare",value:function(e,t){var a={isSelfProject:e,isShare:t};s.default.dispatch(l.default.saved(a))}},{key:"setProSelfAndShareOnConfirm",value:function(e){var t=e.projectType,a=e.projectId,n=e.projects;if(t===p.default.PROJECT_TYPE.EXAMPLE||t===p.default.PROJECT_TYPE.LOCAL)this.setProSelfAndShare(!0,!1);else{var r=c.default.isSelfProject(a),o=c.default.hasShared(n,a);this.setProSelfAndShare(r,o)}}},{key:"setLoadingPageState",value:function(e){s.default.dispatch(l.default.saved({showLoadingPage:e}))}},{key:"selectSaveOperation",value:function(){return{new:function(e){var t=e._id,a=e.createdAt,n=e.name,r=e.projectData,o=e.projects,i=t,u={id:i,createdAt:a,projectName:n,localName:i,syncStatus:p.default.PROJECT_STATUS.WILL_UPLOAD_ALL,data:r},s=u;return o.push(u),{id:i,projectId:"",projectInfo:s,projects:o}},update:function(e){var t=e.id,a=e.createdAt,n=e.projectInfo,r=e.name,i=e.projectId,u=e.projectData,s=e.projects,l=s.findIndex(function(e){return e.id===i});-1!==l&&(s[l]=(0,o.default)({},s[l],{createdAt:a,projectName:r,syncStatus:p.default.PROJECT_STATUS.WILL_UPLOAD_FILE,data:u}));var c=(0,o.default)({},n,{id:t,projectId:i,createdAt:a,projectName:r,localName:r,data:u});return{id:t,projectId:i,projectInfo:c,projects:s}},adapt:function(e){var t=e._id,a=e.createdAt,n=e.name,r=e.projectId,o=e.projectData,i=e.projects,u=t,s={id:u,createdAt:a,projectName:n,localName:u,syncStatus:p.default.PROJECT_STATUS.WILL_UPLOAD_ALL,data:o},l=s;return i.push(s),{id:u,projectId:r,projectInfo:l,projects:i}}}}},{key:"saveProjectProgress",value:function(e){s.default.dispatch(l.default.saved({saveProgress:e}))}},{key:"saveError",value:function(){this.setProjectSaveStatus("FAILURE");var e=s.default.getState().intlr.messages;(0,E.default)(e),this.saveProjectProgress(0)}},{key:"setProjectPlatformType",value:function(e,t){var a=s.default.getState().project,n=e||a.projectid,r=t||a.projectType,o=this.getProjectCloudThirdPlatform();n&&r!==p.default.PROJECT_TYPE.EXAMPLE||(o=!1),n&&c.default.isSelfProject(n)&&r&&(o=!1),s.default.dispatch(l.default.saved({isForThirdPlatform:o}))}},{key:"setProjectCloudThirdPlatform",value:function(e){this.cloudThirdPlatform=e}},{key:"getProjectCloudThirdPlatform",value:function(){return this.cloudThirdPlatform}}]),e}());window.projectModel=T,t.default=T},82:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1431),r=T(a(623)),o=T(a(622)),i=T(a(1428)),u=T(a(1427)),s=T(a(1426)),l=T(a(1424)),c=T(a(1421)),d=T(a(1420)),f=T(a(1418)),p=T(a(1417)),h=T(a(197)),m=T(a(104)),E=T(a(600)),v=T(a(378));function T(e){return e&&e.__esModule?e:{default:e}}var S=(0,n.combineReducers)({intlr:o.default.reducer,connect:i.default.reducer,upload:u.default.reducer,account:l.default.reducer,menu:s.default.reducer,updater:c.default.reducer,qiniu:d.default.reducer,feedback:f.default.reducer,project:p.default.reducer,extension:h.default.reducer,sprite:m.default.reducer,env:E.default.reducer,dataChart:v.default.reducer}),y=(0,n.createStore)(S,(0,n.applyMiddleware)(r.default));window.mstore=y,t.default=y},87:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CANCELED:"canceled",PENDING:"pending",FAILED:"failed",DONE:"done",TIMEOUT:"timeout"};t.REQUEST_STATUS={CANCELED:"canceled",PENDING:"pending",FAILED:"failed",DONE:"done",TIMEOUT:"timeout"}},88:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),r=d(a(7)),o=a(392),i=a(18),u=d(a(63)),s=d(a(12)),l=d(a(1416)),c=d(a(15));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){(0,n.default)(this,e)}return(0,r.default)(e,null,[{key:"saved",value:function(e){var t={};return s.default.isObject(e)?(s.default.has(e,"filePath")&&(s.default.has(e,"name")&&e.name||(e.name=(0,i.getFileName)(e.filePath))),t=e):t={saved:e},{type:o.SAVED,payload:t}}},{key:"filePath",value:function(e){return{type:o.FILEPATH,payload:{filePath:e}}}},{key:"file",value:function(e){return{type:o.FILE,payload:{file:e}}}},{key:"rename",value:function(e){var t;return s.default.isObject(e)&&s.default.has(e,"filePath")&&(s.default.has(e,"name")&&e.name||(e.name=(0,i.getFileName)(e.filePath))),t=e,{type:o.RENAME,payload:t}}},{key:"confirmType",value:function(e){return{type:o.CONFIRM_TYPE,payload:{confirmSaveType:e}}}},{key:"SaveMsg",value:function(e,t){var a={type:o.SAVED,payload:{saveStatus:t}};t!==c.default.PROJECT_SAVE_STATUS.SUCCESS&&t!==c.default.PROJECT_SAVE_STATUS.FAILURE||setTimeout(function(){a.payload.saveStatus="",e.dispatch(a)},3e3),e.dispatch(a)}},{key:"syncMsg",value:function(e,t){var a={type:o.SYNC_PROJECTS,payload:{syncLabel:t}};t===c.default.PROJECT_SYNC_STATUS.SUCCESS&&setTimeout(function(){a.payload.syncLabel="",e.dispatch(a)},2e3),e.dispatch(a)}},{key:"Upload",value:function(e){return{type:o.UPLOAD_PROJECT,payload:e}}},{key:"search",value:function(e){return{type:o.SEARCH,payload:{searchText:e}}}},{key:"selectedProjectId",value:function(e){return{type:o.SELECTED_PROJECT_ID,payload:{selectedProjectId:e}}}},{key:"saveNextProjectInfo",value:function(e){return{type:o.SAVE_NEXT_PROJECT_INFO,payload:{nextProjectInfo:e}}}},{key:"updatePreProject",value:function(e){var t=e||u.default.instance.getProjectJsonString();return{type:o.UPDATE_PRE_PROJECT_DATA_STRING,payload:{preProjectData:t}}}},{key:"updateProjectLoadedState",value:function(e){return{type:o.UPDATE_PROJECT_LOADED_STATE,payload:{isLoaded:e}}}},{key:"Strategy",value:function(e){return new l.default(e)}}]),e}();t.default=f},91:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unloadExt=t.loadExt=t.getDeviceConfig=t.isCodeyLoaded=t.curTargetExts=t.hasUseExtBlocks=t.editingTarget=t.editingDeviceSprite=t.getTargetDevices=void 0;var n=s(a(23)),r=s(a(25));t.beforeFirmwareUpload=function(){u.default.mscratch.extensions.beforeFirmwareUpload()};var o=s(a(15)),i=a(196),u=s(a(63));function s(e){return e&&e.__esModule?e:{default:e}}var l,c=(l=(0,r.default)(n.default.mark(function e(t){var a,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.extraInfo&&t.extraInfo.fromScratch3||t.fromScratch3)){e.next=12;break}return e.next=4,(0,i.requestExt)(t.main,s,t.id);case 4:return a=e.sent,e.next=7,u.default.mscratch.extensions.loadScratchExtension(t.id,a,t);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=20;break;case 12:return e.next=14,(0,i.requestExt)(t.main,s,t.id);case 14:return r=e.sent,e.next=17,u.default.mscratch.extensions.load(t.id,r.default,o);case 17:if(e.sent){e.next=20;break}return e.abrupt("return",!1);case 20:return e.abrupt("return",!0);case 23:return e.prev=23,e.t0=e.catch(0),e.abrupt("return",!1);case 27:case"end":return e.stop()}},e,void 0,[[0,23]])})),function(e){return l.apply(this,arguments)}),d=(t.getTargetDevices=function(){var e=[];return u.default.mscratch.extensions.getAllTargets().forEach(function(t){!0!==t.isScratch&&(e=e.concat(t.scratchTargtes.map(function(e){var a=e.name||e.sprite.name,n=t.deviceId;return{id:e.id,name:a,deviceId:n}})))}),e},t.editingDeviceSprite=function(){if(u.default.mscratch&&u.default.mscratch.extensions){var e=u.default.mscratch.extensions.getEditingTarget();if(e&&e.editingSpriteId){var t=e.scratchTargtes.find(function(t){return t.id===e.editingSpriteId});return{deviceId:e.id,name:t.name}}}return{deviceId:o.default.DEVICE.CODEY,name:o.default.DEVICE.CODEY}},t.editingTarget=function(){if(u.default.mscratch&&u.default.mscratch.extensions){var e=u.default.mscratch.extensions.getEditingTarget();if(e)return e}return{id:o.default.DEVICE.CODEY}});t.hasUseExtBlocks=function(e){return u.default.mscratch.extensions.isBlocksUsed(e)},t.curTargetExts=function(){return u.default.mscratch.extensions.getEditingTargetExtensionIds()},t.isCodeyLoaded=function(){return u.default.mscratch.extensions.getTarget("codey")};t.getDeviceConfig=function(){return d().config};t.loadExt=c,t.unloadExt=function(e){return u.default.mscratch.extensions.unload(e)}},92:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(438)),r=f(a(1778)),o=f(a(1777)),i=f(a(710)),u=f(a(56)),s=f(a(1776)),l=f(a(1339)),c=f(a(410)),d=f(a(1338));function f(e){return e&&e.__esModule?e:{default:e}}t.default={UserService:n.default,IotService:r.default,QiniuService:o.default,OssService:i.default,ProjectService:u.default,ConnectService:s.default,Feedback:l.default,Extension:c.default,Sprite:d.default}}});