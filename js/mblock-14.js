(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{808:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=N(a(28)),n=N(a(80)),r=N(a(77)),s=N(a(22)),u=N(a(9)),i=N(a(2)),o=N(a(7)),d=N(a(5)),c=N(a(6)),m=N(a(12)),f=N(a(1)),p=a(14),E=N(a(16)),h=N(a(56)),g=N(a(19));function N(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,i.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));a.handleCancel=function(){E.default.replace("/")},a.handleSubmit=function(){var e=a.state.name;a.validNewName(a.state.name)&&(g.default.emit("SaveProject",!0,"web",{name:e,isSelfProject:!0,isShare:!1}),E.default.replace("/"))},a.renderTitle=function(){var e=a.props.intlr;return f.default.createElement("div",{className:"pwd-title title-tac"},e.messages["MENU.FILE.SAVEAS"])},a.handleChange=function(e){var t=m.default.trim(e.target.value);a.validNewName(t,!0)},a.validNewName=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=a.props.intlr;return t||!m.default.isNull(e)&&""!==e?e.length>48&&e.length>=a.state.name.length?(a.setState({errMsg:l.messages["FORM.FIELD.NEWNAME.MAX.MSG"]}),!1):(a.setState({name:e,errMsg:""}),!0):(a.setState({errMsg:l.messages["FORM.FIELD.NEWNAME.REQUIRE.MSG"]}),!1)},a.footer=function(){var e=a.props.intlr;return f.default.createElement("div",{style:{textAlign:"center"}},f.default.createElement(s.default,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:a.handleSubmit},e.messages["BUTTON.OK.TEXT"]),f.default.createElement(s.default,{type:"primary",ghost:!0,onClick:a.handleCancel},e.messages["BUTTON.CANCEL.TEXT"]))};var l=e.project,n=e.match.params;return a.state={name:h.default.getNewProjectName(l.name||n.name,l.projects),errMsg:""},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.intlr,t=this.state,a=""===t.errMsg?{marginTop:"10px"}:{marginTop:"10px",borderColor:"#f5222d"};return f.default.createElement(l.default,{className:"small-modal",visible:!0,title:this.renderTitle(),width:"100%",maskClosable:!1,keyboard:!1,closable:!1,onCancel:this.handleCancel,footer:this.footer()},f.default.createElement(n.default,null,f.default.createElement(n.default.Item,null,f.default.createElement("label",{style:{paddingLeft:"2px"}},e.messages["MENU.FILE.SAVE.NAME"]),f.default.createElement(r.default,{style:a,value:t.name,type:"text",placeholder:e.messages["MENU.FILE.SAVE.NAME"],onChange:this.handleChange}),f.default.createElement("div",{className:"ant-form-explain",style:{color:"#f5222d"}},t.errMsg))))}}]),t}(f.default.Component);t.default=(0,p.connect)(function(e){return{intlr:e.intlr,project:e.project}})(v)}}]);