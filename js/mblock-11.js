(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{472:function(e){e.exports={categorys:["CODEY_ROCKY","NEURON","MBOT","STAGE","AI","IOT","HALOCODE"],data:{CODEY_ROCKY:[{name:{en:"Press button, images changed!",zh:"用按钮切换表情"},image:"static/examples/codey.jpg",url:"static/examples/button.mblock",parseExt:"mblock"},{name:{en:"Joggle Bouncy Balls",zh:"摇晃弹力球"},image:"static/examples/codey.jpg",url:"static/examples/shake.mblock",parseExt:"mblock"},{name:{en:"Alarm",zh:"警报"},image:"static/examples/codey.jpg",url:"static/examples/alarm.mblock",parseExt:"mblock"},{name:{en:"Images Coordinates",zh:"图案坐标"},image:"static/examples/codey.jpg",url:"static/examples/coordinates.mblock",parseExt:"mblock"},{name:{en:"Running Rabbit",zh:"奔跑的兔子"},image:"static/examples/codey.jpg",url:"static/examples/rabbit.mblock",parseExt:"mblock"},{name:{en:"Sensor Value Display",zh:"显示传感器的值"},image:"static/examples/codey.jpg",url:"static/examples/sensor.mblock",parseExt:"mblock"},{name:{en:"Volume Indicator",zh:"响度指示计"},image:"static/examples/codey.jpg",url:"static/examples/volume.mblock",parseExt:"mblock"},{name:{en:"Gear Potentiometer for Volume Level",zh:"用齿轮电位器调节音量"},image:"static/examples/codey.jpg",url:"static/examples/gear.mblock",parseExt:"mblock"},{name:{en:"Avoid Obstacles",zh:"躲避障碍物"},image:"static/examples/codey-rocky.jpg",url:"static/examples/obstacle.mblock",parseExt:"mblock"},{name:{en:"Broadcast for Musical Instruments Control",zh:"使用广播演奏乐器"},image:"static/examples/codey.jpg",url:"static/examples/broadcast.mblock",parseExt:"mblock"}],STAGE:[{name:{en:"Dance contest",zh:"比舞大赛"},image:"static/examples/stage/1/cover.png",url:"static/examples/stage/1/example.mblock",parseExt:"mblock"},{name:{en:"Happy panda",zh:"快乐的panda"},image:"static/examples/stage/2/cover.png",url:"static/examples/stage/2/example.mblock",parseExt:"mblock"},{name:{en:"Football Game",zh:"足球游戏"},image:"static/examples/stage/3/cover.jpg",url:"static/examples/stage/3/example.mblock",parseExt:"mblock"},{name:{en:"Super Power",zh:"特殊的能力"},image:"static/examples/stage/4/cover.jpg",url:"static/examples/stage/4/example.mblock",parseExt:"mblock"},{name:{en:"Music concert",zh:"音乐会"},image:"static/examples/stage/5/cover.png",url:"static/examples/stage/5/example.mblock",parseExt:"mblock"},{name:{en:"Racing Game",zh:"赛跑游戏"},image:"static/examples/stage/6/cover.jpg",url:"static/examples/stage/6/example.mblock",parseExt:"mblock"},{name:{en:"Drawing Board",zh:"画板"},image:"static/examples/stage/7/cover.jpg",url:"static/examples/stage/7/example.mblock",parseExt:"mblock"},{name:{en:"Kaleidoscope",zh:"万花筒"},image:"static/examples/stage/8/cover.png",url:"static/examples/stage/8/example.mblock",parseExt:"mblock"},{name:{en:"Run, Panda!",zh:"panda快跑"},image:"static/examples/stage/9/cover.png",url:"static/examples/stage/9/example.mblock",parseExt:"mblock"},{name:{en:"Snowflakes",zh:"美丽的雪花"},image:"static/examples/stage/10/cover.jpg",url:"static/examples/stage/10/example.mblock",parseExt:"mblock"},{name:{en:"Catch the fruits",zh:"接水果"},image:"static/examples/stage/11/cover.png",url:"static/examples/stage/11/example.mblock",parseExt:"mblock"},{name:{en:"The flight journey of Panda",zh:"panda的飞行记"},image:"static/examples/stage/12/cover.png",url:"static/examples/stage/12/example.mblock",parseExt:"mblock"},{name:{en:"A long map",zh:"一个超长地图"},image:"static/examples/stage/13/cover.png",url:"static/examples/stage/13/example.mblock",parseExt:"mblock"}],AI:[{name:{en:"Words recognition",zh:"单词识别"},image:"static/examples/ai/1/cover.jpg",url:"static/examples/ai/1/example.mblock",parseExt:"mblock"},{name:{en:"Age Analyzer",zh:"年龄检测仪"},image:"static/examples/ai/2/cover.jpg",url:"static/examples/ai/2/example.mblock",parseExt:"mblock"},{name:{en:"Emotion recognition",zh:"情绪识别"},image:"static/examples/ai/3/cover.jpg",url:"static/examples/ai/3/example.mblock",parseExt:"mblock"},{name:{en:"Smiley face contest",zh:"笑脸大比拼"},image:"static/examples/ai/4/cover.jpg",url:"static/examples/ai/4/example.mblock",parseExt:"mblock"}],IOT:[{name:{en:"Humidity notification",zh:"湿度提醒"},image:"static/examples/iot/1/cover.JPG",url:"static/examples/iot/1/example.mblock",parseExt:"mblock"},{name:{en:"Collect weather data",zh:"天气状况的采集"},image:"static/examples/iot/2/cover.JPG",url:"static/examples/iot/2/example.mblock",parseExt:"mblock"}],HALOCODE:[{name:{en:"Rainbow button",zh:"彩虹按钮"},image:"static/examples/haloboard/1/cover.png",url:"static/examples/haloboard/1/example.mblock",parseExt:"mblock"},{name:{en:"Volume Detector",zh:"音量显示"},image:"static/examples/haloboard/2/cover.png",url:"static/examples/haloboard/2/example.mblock",parseExt:"mblock"},{name:{en:"Color Mixer",zh:"组合颜色"},image:"static/examples/haloboard/3/cover.png",url:"static/examples/haloboard/3/example.mblock",parseExt:"mblock"},{name:{en:"Marquee",zh:"跑马灯"},image:"static/examples/haloboard/4/cover.png",url:"static/examples/haloboard/4/example.mblock",parseExt:"mblock"},{name:{en:"LAN Broadcast",zh:"局域网通信"},image:"static/examples/haloboard/5/cover.png",url:"static/examples/haloboard/5/example.mblock",parseExt:"mblock"},{name:{en:"Connect to Wi-Fi",zh:"连接Wi-Fi"},image:"static/examples/haloboard/6/cover.png",url:"static/examples/haloboard/6/example.mblock",parseExt:"mblock"},{name:{en:"Smiley Wristband",zh:"抬腕笑脸"},image:"static/examples/haloboard/7/cover.png",url:"static/examples/haloboard/7/example.mblock",parseExt:"mblock"},{name:{en:"Energy Wristband(DIY Pedometer)",zh:"能量手环（简易计步器）"},image:"static/examples/haloboard/8/cover.png",url:"static/examples/haloboard/8/example.mblock",parseExt:"mblock"},{name:{en:"Tail-wagging Cat",zh:"眨眼摇尾小猫"},image:"static/examples/haloboard/9/cover.png",url:"static/examples/haloboard/9/example.mblock",parseExt:"mblock"},{name:{en:"DIY Steering Wheel",zh:"光环板做舞台小车的“方向盘”"},image:"static/examples/haloboard/10/cover.png",url:"static/examples/haloboard/10/example.mblock",parseExt:"mblock"},{name:{en:"Upload Mode Broadcast",zh:"上传模式广播"},image:"static/examples/haloboard/11/cover.png",url:"static/examples/haloboard/11/example.mblock",parseExt:"mblock"},{name:{en:"IoT Remote Control",zh:"远程开关"},image:"static/examples/haloboard/12/cover.png",url:"static/examples/haloboard/12/example.mblock",parseExt:"mblock"},{name:{en:"Speech-controlled Colors (CH)",zh:"语音控制颜色【中文版】"},image:"static/examples/haloboard/13/cover.png",url:"static/examples/haloboard/13/example.mblock",parseExt:"mblock"},{name:{en:"Speech-controlled Colors (EN)",zh:"语音控制颜色【英文版】"},image:"static/examples/haloboard/14/cover.png",url:"static/examples/haloboard/14/example.mblock",parseExt:"mblock"},{name:{en:"Emotion Recognition",zh:"情绪识别"},image:"static/examples/haloboard/15/cover.png",url:"static/examples/haloboard/15/example.mblock",parseExt:"mblock"},{name:{en:"Countdown",zh:"倒计时"},image:"static/examples/haloboard/16/cover.png",url:"static/examples/haloboard/16/example.mblock",parseExt:"mblock"},{name:{en:"Smart Home(CH)",zh:"智能家居-中文版"},image:"static/examples/haloboard/17/cover.png",url:"static/examples/haloboard/17/example.mblock",parseExt:"mblock"},{name:{en:"Pedometer",zh:"计步器"},image:"static/examples/haloboard/18/cover.png",url:"static/examples/haloboard/18/example.mblock",parseExt:"mblock"}]}}},764:function(e,a){},765:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=j(t(119)),r=j(t(77)),n=j(t(134)),o=j(t(38)),s=j(t(9)),c=j(t(2)),m=j(t(7)),i=j(t(5)),p=j(t(6)),u=j(t(1)),d=t(14),f=j(t(15)),x=j(t(81)),E=j(t(19)),g=j(t(56)),b=j(t(12)),h=j(t(804)),k=j(t(16)),v=t(18);function j(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function a(e){(0,c.default)(this,a);var t=(0,i.default)(this,(a.__proto__||(0,s.default)(a)).call(this,e));return t.handleClick=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=t.props,r=l.onSelectId,n=l.onSelectExample;a?n(e):r(e.id)},t.handleDoubleClick=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=t.props.onSelectId;if(a){var r=t.props.intlr,n=e.name[r.langKey]||e.name.en;if(t.props.project.projectType===f.default.PROJECT_TYPE.EXAMPLE&&t.props.project.name===n)return void x.default.gotoRoot();fetch(e.url).then(function(a){return"mblock"===e.parseExt?a.arrayBuffer():a.json()}).then(function(e){E.default.emit("LoadExample",e,g.default.getNewProjectName(n,t.props.project.projects))},function(e){o.default.warn(r.messages["MSG.99999"])})}else{if(!navigator.onLine)return void v.showErrorMessage.bind(t)("MSG.99999");if(t.props.project.projectId===e.id)return void x.default.gotoRoot();l(e.id),E.default.emit("OpenProject",e.id,f.default.PROJECT_TYPE.LIST,{projectType:f.default.PROJECT_TYPE.LIST})}},t.openFailCb=function(e){var a=t.props.intlr;e&&99999===e.code&&o.default.warn(a.messages["MSG.99999"])},t.onFocusRename=function(){t.renameInput.input.select()},t.onPressEnter=function(){t.renameInput.input.blur()},t.renameFailCb=function(e){var a=t.props.data.projectName;t.setState({projectName:a})},t.onChangeRename=function(e){if(b.default.trim(e).length>48){var a=t.props.intlr;o.default.error(a.messages["PROJECT.NAME.MAX.LENGTH.TEXT"]),e=e.substring(0,48)}t.setState({projectName:e})},t.onRename=function(e){var a=t.props,l=a.intlr,r=a.data,n=r.id,s=r.projectId,c=r.projectName,m=r.syncStatus,i=b.default.trim(e);if(i&&i!==c){if(/^[-+\.]+/.test(i))return v.showErrorMessage.bind(t)("RENAME.ERR.PREFIX.MSG"),void t.setState({projectName:c});if(/[\^\\%&/*~'/?///</>/|/"/(/)/$#,@:;&]+/.test(i))return v.showErrorMessage.bind(t)("RENAME.ERR.CONTAIN.MSG"),void t.setState({projectName:c});if(/(^(con)$)|^(con)[/.\s]*\.|(^(prn)$)|^(prn)[/.\s]*\.|(^(aux)$)|^(aux)[/.\s]*\.|(^(nul)$)|^(nul)[/.\s]*\.|(^(com)[0-9]$)|^(com)[0-9]\..*|(^(lpt)[0-9]$)|^(lpt)[0-9][/.\s]*\./i.test(i)){var p=e.match(/con|prn|aux|nul|com[0-9]|lpt[0-9]/i)[0];return o.default.error(p+l.messages["RENAME.ERR.KEY.MSG"]),void t.setState({projectName:c})}t.setState({projectName:i},function(){var a=Date.parse(new Date)/1e3;E.default.emit("RenameProject",{id:n,projectName:b.default.trim(e),createdAt:a,projectId:s,syncStatus:m},"yun",function(e){if(e)return t.renameFailCb(e)})})}else t.setState({projectName:c})},t.dropdownMenu=function(){var e=t.props.intlr.messages;return u.default.createElement(n.default,{className:"item-dropdown-menu",onClick:t.handleMenuClick},[{key:"PROJECT.MENU.RENAME"},{key:"PROJECT.MENU.DELETE"}].map(function(a){return u.default.createElement(n.default.Item,{key:a.key},e[a.key])}))},t.handleMenuClick=function(e){var a=t.props.data;return"PROJECT.MENU.COPY"===e.key?E.default.emit("CopyProject",a):"PROJECT.MENU.RENAME"===e.key?t.onFocusRename():"PROJECT.MENU.DELETE"===e.key&&k.default.push("/projects/projects/delete/"+a.id),!0},t.state={projectName:e.data.projectName},t}return(0,p.default)(a,e),(0,m.default)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.data,n=a.isExample,o=a.classNames,s=a.intlr,c=this.state.projectName,m="zh"===s.langKey?"zh_CN":"en";return u.default.createElement("div",{className:"item"},u.default.createElement("div",{className:"item-content-container "+o},n?u.default.createElement("div",{className:"project-content"},u.default.createElement("span",{className:"project-img",style:{height:"80%"},onClick:function(){return e.handleClick(t,!0)},onDoubleClick:function(){return e.handleDoubleClick(t,!0)}},u.default.createElement("img",{src:(0,v.safeHttps)(t.image)})),u.default.createElement("div",{className:"project-name text-overflow",title:t.name[s.langKey]||t.name.en},u.default.createElement("span",null,t.name[s.langKey]||t.name.en))):u.default.createElement("div",{className:"project-content"},u.default.createElement("span",{className:"project-img",onClick:function(){return e.handleClick(t)},onDoubleClick:function(){return e.handleDoubleClick(t)}},u.default.createElement("img",{ref:function(a){return e.img=a},src:(0,v.safeHttps)(t.coverImage)})),u.default.createElement("div",{className:"project-name text-overflow"},u.default.createElement("div",{className:"project-custom-span"},u.default.createElement(r.default,{value:c,title:c,ref:function(a){return e.renameInput=a},onClick:this.onFocusRename,onChange:function(a){return e.onChangeRename(a.target.value)},onPressEnter:this.onPressEnter,onBlur:function(a){return e.onRename(a.target.value)},autoComplete:"off"}),u.default.createElement("p",null,(0,h.default)().format((0,v.formatDate)(t.createdAt),m))),u.default.createElement(l.default,{trigger:["click"],overlay:this.dropdownMenu(),placement:"topRight"},u.default.createElement("span",{className:"item-menu"},u.default.createElement("i",{className:"mblock-icon icon-sangedian"})))))))}}]),a}(u.default.Component);a.default=(0,d.connect)(function(e){return{account:e.account,intlr:e.intlr,project:e.project}})(y)},766:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=c(t(163)),r=c(t(162)),n=c(t(1)),o=c(t(12)),s=c(t(765));function c(e){return e&&e.__esModule?e:{default:e}}a.default=function(e){var a=e.data,t=void 0===a?[]:a,c=e.isExample,m=e.onSelectId,i=e.selectId,p=e.selectExample,u=e.onSelectExample;return n.default.createElement("section",{className:"projects-list"},n.default.createElement(l.default,{gutter:24,style:{margin:"0"}},!o.default.isEmpty(t)&&t.map(function(e,a){var t=void 0,l=void 0;return c?(l=p&&e.url&&e.url===p.url?"selected":"",t=n.default.createElement(s.default,{key:a,classNames:l,data:e,isExample:c,onSelectExample:u})):(l=e.projectId&&e.projectId===i?"selected":"",t=n.default.createElement(s.default,{key:e.id,classNames:l,data:e,isExample:c,onSelectId:m})),n.default.createElement(r.default,{key:a,xs:24,sm:12,md:8,lg:6,xl:6,xxl:4,style:{padding:"12px"}},t)})))}},805:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=S(t(28)),r=S(t(77)),n=S(t(22)),o=S(t(23)),s=S(t(38)),c=S(t(25)),m=S(t(9)),i=S(t(2)),p=S(t(7)),u=S(t(5)),d=S(t(6)),f=S(t(1)),x=t(90),E=t(14),g=S(t(12)),b=S(t(88)),h=S(t(81)),k=S(t(19)),v=S(t(48)),j=S(t(56)),y=t(18),C=S(t(766)),N=S(t(15)),T=S(t(472)),P=S(t(481));function S(e){return e&&e.__esModule?e:{default:e}}t(483),t(764);var R=function(e){function a(e){var t=this;(0,i.default)(this,a);var l=(0,u.default)(this,(a.__proto__||(0,m.default)(a)).call(this,e));return l.handleSelectId=function(e){l.props.selectedProjectId(e),l.setState({isExample:!1})},l.handleSelectExample=function(e){l.setState({curExample:e,isExample:!0})},l.handleChangeTab=function(e){v.default.set("exampleKey",e),l.setState({curExampleTab:e})},l.handleOk=(0,c.default)(o.default.mark(function e(){var a,r,n,c,m;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.props.project.selectedProjectId,r=l.state,n=r.curExample,r.isExample){e.next=12;break}if(navigator.onLine){e.next=6;break}return y.showErrorMessage.bind(l)("MSG.99999"),e.abrupt("return");case 6:if(l.props.project.projectId!==a){e.next=9;break}return h.default.gotoRoot(),e.abrupt("return");case 9:k.default.emit("OpenProject",a,N.default.PROJECT_TYPE.LIST,{projectType:N.default.PROJECT_TYPE.LIST}),e.next=18;break;case 12:if(c=l.props.intlr,m=n.name[c.langKey]||n.name.en,l.props.project.projectType!==N.default.PROJECT_TYPE.EXAMPLE||l.props.project.name!==m){e.next=17;break}return h.default.gotoRoot(),e.abrupt("return");case 17:fetch(n.url).then(function(e){return"mblock"===n.parseExt?e.arrayBuffer():e.json()}).then(function(e){k.default.emit("LoadExample",e,j.default.getNewProjectName(m,l.props.project.projects))}).catch(function(e){s.default.warn(c.messages["MSG.99999"])});case 18:case"end":return e.stop()}},e,t)})),l.handleCancel=function(){l.props.selectedProjectId(""),h.default.gotoRoot()},l.renderProjects=function(){var e=l.props,a=e.intlr,t=e.account,r=e.project,n=r.selectedProjectId,o=l.state.isExample,s=r.projects,c=r.searchText;c&&(s=j.default.search(s,c)),g.default.isEmpty(s)||(s=s.sort(function(e,a){return new Date(a.createdAt)-new Date(e.createdAt)}).filter(function(e){return!(e.hasOwnProperty("isDeleted")&&e.isDeleted)}));return t.isLogin&&!g.default.isEmpty(s)?f.default.createElement(C.default,{data:s,isExample:o,selectId:n,onSelectId:l.handleSelectId}):t.isLogin&&g.default.isEmpty(s)?f.default.createElement("div",{className:"empty-wrapper"},f.default.createElement("img",{src:P.default}),f.default.createElement("span",null,a.messages["PROJECT.LIST.EMPTY.TEXT"])):f.default.createElement("div",{className:"login-tip-wrapper"},a.messages["USER.LOGIN.TO_LOGIN_TIP"])},l.renderExamples=function(){var e=l.props,a=e.intlr,t=e.project,r=l.state,n=r.curExampleTab,o=r.curExample,s=r.isExample,c=t.searchText,m=T.default.data[n];if(c){var i="zh"===a.langKey?a.langKey:"en";m=j.default.searchExample(m,c,i)}return f.default.createElement("section",{className:"example-tabs"},l.examplesClassify(),g.default.isEmpty(m)?f.default.createElement("div",{className:"empty-wrapper"},f.default.createElement("img",{src:P.default}),f.default.createElement("span",null,a.messages["PROJECT.LIST.EMPTY.TEXT"])):f.default.createElement(C.default,{data:m,isExample:s,selectExample:o,onSelectExample:l.handleSelectExample}))},l.examplesClassify=function(){var e=l.props.intlr,a=l.state.curExampleTab;return f.default.createElement("div",{className:"example-classify"},T.default.categorys.map(function(t){var r=T.default.data[t];return r=!g.default.isEmpty(r)&&r.filter(function(e){return!(e.hasOwnProperty("isDeleted")&&e.isDeleted)}),!g.default.isEmpty(r)&&g.default.isArray(r)?f.default.createElement(n.default,{type:a===t?"primary":"dashed",onClick:function(){return l.handleChangeTab(t)},key:t,title:t},e.messages[t]):null}))},l.title=function(){var e=l.props,a=e.intlr,t=e.search,n=l.state.tab,o={style:{width:200},prefix:f.default.createElement("i",{className:"mblock-icon icon-iconsearch"}),placeholder:a.messages["SPRITE.SEARCH.TEXT"],onChange:function(e){return t(e.target.value)}},s="MENU.PROJECTS"===n?a.messages["MENU.PROJECTS"]:a.messages["MENU.FILE.DEMOS"];return f.default.createElement("div",null,f.default.createElement("div",{className:"search-container"},f.default.createElement(r.default,o)),f.default.createElement("div",{className:"title-tac"},s))},l.content=function(){var e=l.state.isExample;return f.default.createElement("div",{className:"project-web-modal-content"},f.default.createElement("section",{className:"modal-body-container project-body-container"},e?l.renderExamples():l.renderProjects()))},l.state={tab:"MENU.PROJECTS",curExample:{},curExampleTab:v.default.get("exampleKey")||T.default.categorys[0],isExample:!1},l}return(0,d.default)(a,e),(0,p.default)(a,[{key:"componentWillMount",value:function(){k.default.emit("GetMyProjects"),"demos"===this.props.match.params.type&&this.setState({tab:"MENU.FILE.DEMOS",isExample:!0})}},{key:"componentWillUnmount",value:function(){this.props.search("")}},{key:"footer",value:function(){var e=this.props,a=e.intlr,t=e.project.selectedProjectId,l=this.state,r=l.isExample,o=l.curExample,s=!0;return r?g.default.isEmpty(o)||(s=!1):t&&(s=!1),f.default.createElement("div",null,f.default.createElement(n.default,{type:"primary",ghost:!0,onClick:this.handleCancel},a.messages["BUTTON.CANCEL.TEXT"]),f.default.createElement(n.default,{type:"primary",disabled:s,onClick:this.handleOk},a.messages["BUTTON.OK.TEXT"]))}},{key:"render",value:function(){return f.default.createElement(l.default,{visible:!0,width:1120,wrapClassName:"vertical-center-modal",className:"modal-tabs project-web-modal",maskClosable:!1,keyboard:!0,onCancel:this.handleCancel,title:this.title(),footer:this.footer()},this.content())}}]),a}(f.default.Component);a.default=(0,x.withRouter)((0,E.connect)(function(e){return{intlr:e.intlr,project:e.project,account:e.account}},function(e){return{search:function(a){return e(b.default.search(a))},selectedProjectId:function(a){return e(b.default.selectedProjectId(a))}}})(R))}}]);